import{x as bi,o as gi,b as pi,e as mi}from"./entry.57dd615b.js";const wi={},yi={class:"h-full w-full flex flex-col items-center justify-center"},Si=mi("div",{class:"lds-dual-ring"},null,-1),Ei=[Si];function Ai(Ht,je){return gi(),pi("div",yi,Ei)}const _i=bi(wi,[["render",Ai]]);/*!
 * bns-plus@0.15.2 - DNS bike-shed
 * Copyright (c) 2022, Christopher Jeffrey (MIT)
 * https://github.com/chjj/bns
 *
 * License for bns-plus@0.15.2:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2018, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * Parts of this software are based on miekg/dns and golang/go:
 * https://github.com/miekg/dns https://github.com/golang/go
 *
 * Extensions of the original work are copyright (c) 2011 Miek Gieben
 *
 * As this is fork of the official Go code the same license applies:
 *
 * Copyright (c) 2009 The Go Authors. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * * Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer. * Redistributions in binary
 * form must reproduce the above copyright notice, this list of conditions and
 * the following disclaimer in the documentation and/or other materials provided
 * with the distribution. * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from this
 * software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *
 * Parts of this software are based on solvere:
 * https://github.com/rolandshoemaker/solvere
 *
 * MIT License
 *
 * Copyright (c) 2016 Roland Bracewell Shoemaker
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * License for bsert@0.0.10:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2018, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for binet@0.3.7:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2017, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for bs32@0.1.6:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2017, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for bufio@1.0.7:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2017, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for bcrypto@5.4.0:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2017-2019, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on indutny/elliptic:
 *
 * https://github.com/indutny/elliptic
 *
 * This software is licensed under the MIT License.
 *
 * Copyright Fedor Indutny, 2014.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on indutny/hash.js:
 *
 * https://github.com/indutny/hash.js
 *
 * This software is licensed under the MIT License.
 *
 * Copyright Fedor Indutny, 2014.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on indutny/bn.js:
 *
 * https://github.com/indutny/bn.js
 *
 * This software is licensed under the MIT License.
 *
 * Copyright Fedor Indutny, 2015.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on indutny/hmac-drbg:
 *
 * https://github.com/indutny/hmac-drbg
 *
 * This software is licensed under the MIT License.
 *
 * Copyright Fedor Indutny, 2017.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on indutny/minimalistic-crypto-utils:
 *
 * https://github.com/indutny/minimalistic-crypto-utils
 *
 * This software is licensed under the MIT License.
 *
 * Copyright Fedor Indutny, 2017.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on isaacs/inherits:
 *
 * https://github.com/isaacs/inherits
 *
 * The ISC License
 *
 * Copyright (c) Isaac Z. Schlueter
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
 * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
 * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
 * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 * PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on cryptocoinjs/secp256k1-node:
 *
 * https://github.com/cryptocoinjs/secp256k1-node
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014-2016 secp256k1-node contributors
 *
 * Parts of this software are based on bn.js, elliptic, hash.js Copyright (c)
 * 2014-2016 Fedor Indutny
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on bitcoin-core/secp256k1:
 *
 * https://github.com/bitcoin-core/secp256k1
 *
 * Copyright (c) 2013 Pieter Wuille
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on BLAKE2/BLAKE2:
 *
 * https://github.com/BLAKE2/BLAKE2
 *
 * Creative Commons Legal Code
 *
 * CC0 1.0 Universal
 *
 * CREATIVE COMMONS CORPORATION IS NOT A LAW FIRM AND DOES NOT PROVIDE LEGAL
 * SERVICES. DISTRIBUTION OF THIS DOCUMENT DOES NOT CREATE AN ATTORNEY-CLIENT
 * RELATIONSHIP. CREATIVE COMMONS PROVIDES THIS INFORMATION ON AN "AS-IS" BASIS.
 * CREATIVE COMMONS MAKES NO WARRANTIES REGARDING THE USE OF THIS DOCUMENT OR
 * THE INFORMATION OR WORKS PROVIDED HEREUNDER, AND DISCLAIMS LIABILITY FOR
 * DAMAGES RESULTING FROM THE USE OF THIS DOCUMENT OR THE INFORMATION OR WORKS
 * PROVIDED HEREUNDER.
 *
 * Statement of Purpose
 *
 * The laws of most jurisdictions throughout the world automatically confer
 * exclusive Copyright and Related Rights (defined below) upon the creator and
 * subsequent owner(s) (each and all, an "owner") of an original work of
 * authorship and/or a database (each, a "Work").
 *
 * Certain owners wish to permanently relinquish those rights to a Work for the
 * purpose of contributing to a commons of creative, cultural and scientific
 * works ("Commons") that the public can reliably and without fear of later
 * claims of infringement build upon, modify, incorporate in other works, reuse
 * and redistribute as freely as possible in any form whatsoever and for any
 * purposes, including without limitation commercial purposes. These owners may
 * contribute to the Commons to promote the ideal of a free culture and the
 * further production of creative, cultural and scientific works, or to gain
 * reputation or greater distribution for their Work in part through the use and
 * efforts of others.
 *
 * For these and/or other purposes and motivations, and without any expectation
 * of additional consideration or compensation, the person associating CC0 with
 * a Work (the "Affirmer"), to the extent that he or she is an owner of
 * Copyright and Related Rights in the Work, voluntarily elects to apply CC0 to
 * the Work and publicly distribute the Work under its terms, with knowledge of
 * his or her Copyright and Related Rights in the Work and the meaning and
 * intended legal effect of CC0 on those rights.
 *
 * 1. Copyright and Related Rights. A Work made available under CC0 may be
 * protected by copyright and related or neighboring rights ("Copyright and
 * Related Rights"). Copyright and Related Rights include, but are not limited
 * to, the following:
 *
 * i. the right to reproduce, adapt, distribute, perform, display, communicate,
 * and translate a Work; ii. moral rights retained by the original author(s)
 * and/or performer(s); iii. publicity and privacy rights pertaining to a
 * person's image or likeness depicted in a Work; iv. rights protecting against
 * unfair competition in regards to a Work, subject to the limitations in
 * paragraph 4(a), below; v. rights protecting the extraction, dissemination,
 * use and reuse of data in a Work; vi. database rights (such as those arising
 * under Directive 96/9/EC of the European Parliament and of the Council of 11
 * March 1996 on the legal protection of databases, and under any national
 * implementation thereof, including any amended or successor version of such
 * directive); and vii. other similar, equivalent or corresponding rights
 * throughout the world based on applicable law or treaty, and any national
 * implementations thereof.
 *
 * 2. Waiver. To the greatest extent permitted by, but not in contravention of,
 * applicable law, Affirmer hereby overtly, fully, permanently, irrevocably and
 * unconditionally waives, abandons, and surrenders all of Affirmer's Copyright
 * and Related Rights and associated claims and causes of action, whether now
 * known or unknown (including existing as well as future claims and causes of
 * action), in the Work (i) in all territories worldwide, (ii) for the maximum
 * duration provided by applicable law or treaty (including future time
 * extensions), (iii) in any current or future medium and for any number of
 * copies, and (iv) for any purpose whatsoever, including without limitation
 * commercial, advertising or promotional purposes (the "Waiver"). Affirmer
 * makes the Waiver for the benefit of each member of the public at large and to
 * the detriment of Affirmer's heirs and successors, fully intending that such
 * Waiver shall not be subject to revocation, rescission, cancellation,
 * termination, or any other legal or equitable action to disrupt the quiet
 * enjoyment of the Work by the public as contemplated by Affirmer's express
 * Statement of Purpose.
 *
 * 3. Public License Fallback. Should any part of the Waiver for any reason be
 * judged legally invalid or ineffective under applicable law, then the Waiver
 * shall be preserved to the maximum extent permitted taking into account
 * Affirmer's express Statement of Purpose. In addition, to the extent the
 * Waiver is so judged Affirmer hereby grants to each affected person a
 * royalty-free, non transferable, non sublicensable, non exclusive, irrevocable
 * and unconditional license to exercise Affirmer's Copyright and Related Rights
 * in the Work (i) in all territories worldwide, (ii) for the maximum duration
 * provided by applicable law or treaty (including future time extensions),
 * (iii) in any current or future medium and for any number of copies, and (iv)
 * for any purpose whatsoever, including without limitation commercial,
 * advertising or promotional purposes (the "License"). The License shall be
 * deemed effective as of the date CC0 was applied by Affirmer to the Work.
 * Should any part of the License for any reason be judged legally invalid or
 * ineffective under applicable law, such partial invalidity or ineffectiveness
 * shall not invalidate the remainder of the License, and in such case Affirmer
 * hereby affirms that he or she will not (i) exercise any of his or her
 * remaining Copyright and Related Rights in the Work or (ii) assert any
 * associated claims and causes of action with respect to the Work, in either
 * case contrary to Affirmer's express Statement of Purpose.
 *
 * 4. Limitations and Disclaimers.
 *
 * a. No trademark or patent rights held by Affirmer are waived, abandoned,
 * surrendered, licensed or otherwise affected by this document. b. Affirmer
 * offers the Work as-is and makes no representations or warranties of any kind
 * concerning the Work, express, implied, statutory or otherwise, including
 * without limitation warranties of title, merchantability, fitness for a
 * particular purpose, non infringement, or the absence of latent or other
 * defects, accuracy, or the present or absence of errors, whether or not
 * discoverable, all to the greatest extent permissible under applicable law. c.
 * Affirmer disclaims responsibility for clearing rights of other persons that
 * may apply to the Work or any use thereof, including without limitation any
 * person's Copyright and Related Rights in the Work. Further, Affirmer
 * disclaims responsibility for obtaining any necessary consents, permissions or
 * other rights required for any use of the Work. d. Affirmer understands and
 * acknowledges that Creative Commons is not a party to this document and has no
 * duty or obligation with respect to this CC0 or use of the Work.
 *
 * ---
 *
 * Parts of this software are based on chacha20-simple:
 *
 * http://chacha20.insanecoding.org/
 *
 * Copyright (C) 2014 insane coder
 *
 * Permission to use, copy, modify, and distribute this software for any purpose
 * with or without fee is hereby granted, provided that the above copyright
 * notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
 * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
 * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
 * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 * PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on floodyberry/ed25519-donna:
 *
 * https://github.com/floodyberry/ed25519-donna
 *
 * Public domain by Andrew M. <liquidsun@gmail.com>
 *
 * Ed25519 reference implementation using Ed25519-donna
 *
 * ---
 *
 * Parts of this software are based on openssl/openssl:
 *
 * https://github.com/openssl/openssl
 *
 * OpenSSL License
 *
 * Copyright (c) 1998-2018 The OpenSSL Project. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. All advertising materials mentioning features or use of this software must
 * display the following acknowledgment: "This product includes software
 * developed by the OpenSSL Project for use in the OpenSSL Toolkit.
 * (http://www.openssl.org/)"
 *
 * 4. The names "OpenSSL Toolkit" and "OpenSSL Project" must not be used to
 * endorse or promote products derived from this software without prior written
 * permission. For written permission, please contact openssl-core@openssl.org.
 *
 * 5. Products derived from this software may not be called "OpenSSL" nor may
 * "OpenSSL" appear in their names without prior written permission of the
 * OpenSSL Project.
 *
 * 6. Redistributions of any form whatsoever must retain the following
 * acknowledgment: "This product includes software developed by the OpenSSL
 * Project for use in the OpenSSL Toolkit (http://www.openssl.org/)"
 *
 * THIS SOFTWARE IS PROVIDED BY THE OpenSSL PROJECT ``AS IS'' AND ANY EXPRESSED
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO
 * EVENT SHALL THE OpenSSL PROJECT OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * This product includes cryptographic software written by Eric Young
 * (eay@cryptsoft.com). This product includes software written by Tim Hudson
 * (tjh@cryptsoft.com).
 *
 * Original SSLeay License
 *
 * Copyright (C) 1995-1998 Eric Young (eay@cryptsoft.com) All rights reserved.
 *
 * This package is an SSL implementation written by Eric Young
 * (eay@cryptsoft.com). The implementation was written so as to conform with
 * Netscapes SSL.
 *
 * This library is free for commercial and non-commercial use as long as the
 * following conditions are aheared to. The following conditions apply to all
 * code found in this distribution, be it the RC4, RSA, lhash, DES, etc., code;
 * not just the SSL code. The SSL documentation included with this distribution
 * is covered by the same copyright terms except that the holder is Tim Hudson
 * (tjh@cryptsoft.com).
 *
 * Copyright remains Eric Young's, and as such any Copyright notices in the code
 * are not to be removed. If this package is used in a product, Eric Young
 * should be given attribution as the author of the parts of the library used.
 * This can be in the form of a textual message at program startup or in
 * documentation (online or textual) provided with the package.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the copyright notice, this list
 * of conditions and the following disclaimer. 2. Redistributions in binary form
 * must reproduce the above copyright notice, this list of conditions and the
 * following disclaimer in the documentation and/or other materials provided
 * with the distribution. 3. All advertising materials mentioning features or
 * use of this software must display the following acknowledgement: "This
 * product includes cryptographic software written by Eric Young
 * (eay@cryptsoft.com)" The word 'cryptographic' can be left out if the rouines
 * from the library being used are not cryptographic related :-). 4. If you
 * include any Windows specific code (or a derivative thereof) from the apps
 * directory (application code) you must include an acknowledgement: "This
 * product includes software written by Tim Hudson (tjh@cryptsoft.com)"
 *
 * THIS SOFTWARE IS PROVIDED BY ERIC YOUNG ``AS IS'' AND ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO
 * EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * The licence and distribution terms for any publically available version or
 * derivative of this code cannot be changed. i.e. this code cannot simply be
 * copied and put under another distribution licence [including the GNU Public
 * Licence.]
 *
 * ---
 *
 * Parts of this software are based on bitcoin/bitcoin:
 *
 * https://github.com/bitcoin/bitcoin
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2009-2018 The Bitcoin Core developers Copyright (c) 2009-2018
 * Bitcoin Developers
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on rhash/RHash:
 *
 * https://github.com/rhash/RHash
 *
 * Copyright (c) 2005-2014 Aleksey Kravchenko <rhash.admin@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so.
 *
 * The Software is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. Use this program at your own risk!
 *
 * ---
 *
 * Parts of this software are based on emn178/js-sha3:
 *
 * https://github.com/emn178/js-sha3
 *
 * Copyright 2015-2018 Chen, Yi-Cyuan
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on floodyberry/poly1305-donna:
 *
 * https://github.com/floodyberry/poly1305-donna
 *
 * Public domain by Andrew M. <liquidsun@gmail.com>
 *
 * Alternatively MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * ---
 *
 * Parts of this software are based on Tarsnap/scrypt:
 *
 * https://github.com/Tarsnap/scrypt
 *
 * The included code and documentation ("scrypt") is distributed under the
 * following terms:
 *
 * Copyright 2005-2016 Colin Percival. All rights reserved. Copyright 2005-2016
 * Tarsnap Backup Inc. All rights reserved. Copyright 2014 Sean Kelly. All
 * rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer. 2. Redistributions in
 * binary form must reproduce the above copyright notice, this list of
 * conditions and the following disclaimer in the documentation and/or other
 * materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ---
 *
 * Parts of this software are based on ed448-goldilocks:
 *
 * http://ed448goldilocks.sourceforge.net/
 *
 * The Python bindings are Copyright 2017 John-Mark Gurney, and are provided
 * under a BSD license as described in python/edgold/ed448.py
 *
 * Certain sections of code are public domain or CC0, as marked.
 *
 * Earlier versions of this project used small amounts of code which were
 *
 * Copyright (c) 2011 Stanford University Copyright (c) 2011 Mike Hamburg
 *
 * but I believe that all of this code has now been replaced.
 *
 * The bulk of this library is Copyright (c) 2014-2017 Cryptography Research,
 * Inc. and licensed under the following MIT license.
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014-2017 Cryptography Research, Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on golang/go and golang/crypto:
 *
 * https://github.com/golang/go
 *
 * https://github.com/golang/crypto
 *
 * Copyright (c) 2009 The Go Authors. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * * Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer. * Redistributions in binary
 * form must reproduce the above copyright notice, this list of conditions and
 * the following disclaimer in the documentation and/or other materials provided
 * with the distribution. * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from this
 * software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *
 * ---
 *
 * Parts of this software are based on ElementsProject/secp256k1-zkp:
 *
 * https://github.com/ElementsProject/secp256k1-zkp
 *
 * Copyright (c) 2013 Pieter Wuille
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on sipa/bip-schnorr:
 *
 * https://github.com/sipa/bips/blob/bip-schnorr/bip-schnorr/reference.py
 *
 * Copyright (c) 2018-2019, Pieter Wuille (2-clause BSD License)
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *
 * ---
 *
 * Parts of this software are based on sipa/bech32:
 *
 * https://github.com/sipa/bech32
 *
 * Copyright (c) 2017 Pieter Wuille
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on Bitcoin-ABC/bitcoin-abc:
 *
 * https://github.com/Bitcoin-ABC/bitcoin-abc
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2009-2019 The Bitcoin Developers Copyright (c) 2009-2017 The
 * Bitcoin Core developers
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on v8/v8:
 *
 * https://github.com/v8/v8
 *
 * Copyright 2014, the V8 project authors. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * * Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * * Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * * Neither the name of Google Inc. nor the names of its contributors may be
 * used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *
 * ---
 *
 * Parts of this software are based on RustCrypto/hashes:
 *
 * https://github.com/RustCrypto/hashes
 *
 * Copyright (c) 2016-2018, The RustCrypto Authors (MIT License).
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on aead/camellia:
 *
 * https://github.com/aead/camellia
 *
 * Copyright (c) 2016, Andreas Auernhammer (MIT License).
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2016 Andreas Auernhammer
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on indutny/des.js:
 *
 * https://github.com/indutny/des.js
 *
 * This software is licensed under the MIT License.
 *
 * Copyright Fedor Indutny, 2015.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on crypto-browserify/EVP_BytesToKey:
 *
 * https://github.com/crypto-browserify/EVP_BytesToKey
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2017 crypto-browserify contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on joyent/node-bcrypt-pbkdf:
 *
 * https://github.com/joyent/node-bcrypt-pbkdf
 *
 * Credit for the actual porting work goes to: Devi Mandiri <me@devi.web.id>
 *
 * The Blowfish portions are under the following license:
 *
 * Blowfish block cipher for OpenBSD Copyright 1997 Niels Provos
 * <provos@physnet.uni-hamburg.de> All rights reserved.
 *
 * Implementation advice by David Mazieres <dm@lcs.mit.edu>.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name of the author may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO
 * EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * The bcrypt_pbkdf portions are under the following license:
 *
 * Copyright (c) 2013 Ted Unangst <tedu@openbsd.org>
 *
 * Permission to use, copy, modify, and distribute this software for any purpose
 * with or without fee is hereby granted, provided that the above copyright
 * notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
 * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
 * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
 * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 * PERFORMANCE OF THIS SOFTWARE.
 *
 * Performance improvements (Javascript-specific):
 *
 * Copyright 2016, Joyent Inc Author: Alex Wilson <alex.wilson@joyent.com>
 *
 * Permission to use, copy, modify, and distribute this software for any purpose
 * with or without fee is hereby granted, provided that the above copyright
 * notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
 * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
 * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
 * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 * PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * Parts of this software are based on gnutls/nettle:
 *
 * https://github.com/gnutls/nettle
 *
 * Copyright (c) 1998-2019, Niels Möller and Contributors
 *
 * GNU GENERAL PUBLIC LICENSE Version 2, June 1991
 *
 * Copyright (C) 1989, 1991 Free Software Foundation, Inc., 51 Franklin Street,
 * Fifth Floor, Boston, MA 02110-1301 USA Everyone is permitted to copy and
 * distribute verbatim copies of this license document, but changing it is not
 * allowed.
 *
 * Preamble
 *
 * The licenses for most software are designed to take away your freedom to
 * share and change it.  By contrast, the GNU General Public License is intended
 * to guarantee your freedom to share and change free software--to make sure the
 * software is free for all its users.  This General Public License applies to
 * most of the Free Software Foundation's software and to any other program
 * whose authors commit to using it.  (Some other Free Software Foundation
 * software is covered by the GNU Lesser General Public License instead.)  You
 * can apply it to your programs, too.
 *
 * When we speak of free software, we are referring to freedom, not price.  Our
 * General Public Licenses are designed to make sure that you have the freedom
 * to distribute copies of free software (and charge for this service if you
 * wish), that you receive source code or can get it if you want it, that you
 * can change the software or use pieces of it in new free programs; and that
 * you know you can do these things.
 *
 * To protect your rights, we need to make restrictions that forbid anyone to
 * deny you these rights or to ask you to surrender the rights.  These
 * restrictions translate to certain responsibilities for you if you distribute
 * copies of the software, or if you modify it.
 *
 * For example, if you distribute copies of such a program, whether gratis or
 * for a fee, you must give the recipients all the rights that you have.  You
 * must make sure that they, too, receive or can get the source code.  And you
 * must show them these terms so they know their rights.
 *
 * We protect your rights with two steps: (1) copyright the software, and (2)
 * offer you this license which gives you legal permission to copy, distribute
 * and/or modify the software.
 *
 * Also, for each author's protection and ours, we want to make certain that
 * everyone understands that there is no warranty for this free software.  If
 * the software is modified by someone else and passed on, we want its
 * recipients to know that what they have is not the original, so that any
 * problems introduced by others will not reflect on the original authors'
 * reputations.
 *
 * Finally, any free program is threatened constantly by software patents.  We
 * wish to avoid the danger that redistributors of a free program will
 * individually obtain patent licenses, in effect making the program
 * proprietary. To prevent this, we have made it clear that any patent must be
 * licensed for everyone's free use or not licensed at all.
 *
 * The precise terms and conditions for copying, distribution and modification
 * follow.
 *
 * GNU GENERAL PUBLIC LICENSE TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
 * MODIFICATION
 *
 * 0. This License applies to any program or other work which contains a notice
 * placed by the copyright holder saying it may be distributed under the terms
 * of this General Public License.  The "Program", below, refers to any such
 * program or work, and a "work based on the Program" means either the Program
 * or any derivative work under copyright law: that is to say, a work containing
 * the Program or a portion of it, either verbatim or with modifications and/or
 * translated into another language.  (Hereinafter, translation is included
 * without limitation in the term "modification".)  Each licensee is addressed
 * as "you".
 *
 * Activities other than copying, distribution and modification are not covered
 * by this License; they are outside its scope.  The act of running the Program
 * is not restricted, and the output from the Program is covered only if its
 * contents constitute a work based on the Program (independent of having been
 * made by running the Program).  Whether that is true depends on what the
 * Program does.
 *
 * 1. You may copy and distribute verbatim copies of the Program's source code
 * as you receive it, in any medium, provided that you conspicuously and
 * appropriately publish on each copy an appropriate copyright notice and
 * disclaimer of warranty; keep intact all the notices that refer to this
 * License and to the absence of any warranty; and give any other recipients of
 * the Program a copy of this License along with the Program.
 *
 * You may charge a fee for the physical act of transferring a copy, and you may
 * at your option offer warranty protection in exchange for a fee.
 *
 * 2. You may modify your copy or copies of the Program or any portion of it,
 * thus forming a work based on the Program, and copy and distribute such
 * modifications or work under the terms of Section 1 above, provided that you
 * also meet all of these conditions:
 *
 * a) You must cause the modified files to carry prominent notices stating that
 * you changed the files and the date of any change.
 *
 * b) You must cause any work that you distribute or publish, that in whole or
 * in part contains or is derived from the Program or any part thereof, to be
 * licensed as a whole at no charge to all third parties under the terms of this
 * License.
 *
 * c) If the modified program normally reads commands interactively when run,
 * you must cause it, when started running for such interactive use in the most
 * ordinary way, to print or display an announcement including an appropriate
 * copyright notice and a notice that there is no warranty (or else, saying that
 * you provide a warranty) and that users may redistribute the program under
 * these conditions, and telling the user how to view a copy of this License. 
 * (Exception: if the Program itself is interactive but does not normally print
 * such an announcement, your work based on the Program is not required to print
 * an announcement.)
 *
 * These requirements apply to the modified work as a whole.  If identifiable
 * sections of that work are not derived from the Program, and can be reasonably
 * considered independent and separate works in themselves, then this License,
 * and its terms, do not apply to those sections when you distribute them as
 * separate works.  But when you distribute the same sections as part of a whole
 * which is a work based on the Program, the distribution of the whole must be
 * on the terms of this License, whose permissions for other licensees extend to
 * the entire whole, and thus to each and every part regardless of who wrote it.
 *
 * Thus, it is not the intent of this section to claim rights or contest your
 * rights to work written entirely by you; rather, the intent is to exercise the
 * right to control the distribution of derivative or collective works based on
 * the Program.
 *
 * In addition, mere aggregation of another work not based on the Program with
 * the Program (or with a work based on the Program) on a volume of a storage or
 * distribution medium does not bring the other work under the scope of this
 * License.
 *
 * 3. You may copy and distribute the Program (or a work based on it, under
 * Section 2) in object code or executable form under the terms of Sections 1
 * and 2 above provided that you also do one of the following:
 *
 * a) Accompany it with the complete corresponding machine-readable source code,
 * which must be distributed under the terms of Sections 1 and 2 above on a
 * medium customarily used for software interchange; or,
 *
 * b) Accompany it with a written offer, valid for at least three years, to give
 * any third party, for a charge no more than your cost of physically performing
 * source distribution, a complete machine-readable copy of the corresponding
 * source code, to be distributed under the terms of Sections 1 and 2 above on a
 * medium customarily used for software interchange; or,
 *
 * c) Accompany it with the information you received as to the offer to
 * distribute corresponding source code.  (This alternative is allowed only for
 * noncommercial distribution and only if you received the program in object
 * code or executable form with such an offer, in accord with Subsection b
 * above.)
 *
 * The source code for a work means the preferred form of the work for making
 * modifications to it.  For an executable work, complete source code means all
 * the source code for all modules it contains, plus any associated interface
 * definition files, plus the scripts used to control compilation and
 * installation of the executable.  However, as a special exception, the source
 * code distributed need not include anything that is normally distributed (in
 * either source or binary form) with the major components (compiler, kernel,
 * and so on) of the operating system on which the executable runs, unless that
 * component itself accompanies the executable.
 *
 * If distribution of executable or object code is made by offering access to
 * copy from a designated place, then offering equivalent access to copy the
 * source code from the same place counts as distribution of the source code,
 * even though third parties are not compelled to copy the source along with the
 * object code.
 *
 * 4. You may not copy, modify, sublicense, or distribute the Program except as
 * expressly provided under this License.  Any attempt otherwise to copy,
 * modify, sublicense or distribute the Program is void, and will automatically
 * terminate your rights under this License.  However, parties who have received
 * copies, or rights, from you under this License will not have their licenses
 * terminated so long as such parties remain in full compliance.
 *
 * 5. You are not required to accept this License, since you have not signed it.
 * However, nothing else grants you permission to modify or distribute the
 * Program or its derivative works.  These actions are prohibited by law if you
 * do not accept this License.  Therefore, by modifying or distributing the
 * Program (or any work based on the Program), you indicate your acceptance of
 * this License to do so, and all its terms and conditions for copying,
 * distributing or modifying the Program or works based on it.
 *
 * 6. Each time you redistribute the Program (or any work based on the Program),
 * the recipient automatically receives a license from the original licensor to
 * copy, distribute or modify the Program subject to these terms and conditions.
 * You may not impose any further restrictions on the recipients' exercise of
 * the rights granted herein.  You are not responsible for enforcing compliance
 * by third parties to this License.
 *
 * 7. If, as a consequence of a court judgment or allegation of patent
 * infringement or for any other reason (not limited to patent issues),
 * conditions are imposed on you (whether by court order, agreement or
 * otherwise) that contradict the conditions of this License, they do not excuse
 * you from the conditions of this License.  If you cannot distribute so as to
 * satisfy simultaneously your obligations under this License and any other
 * pertinent obligations, then as a consequence you may not distribute the
 * Program at all. For example, if a patent license would not permit
 * royalty-free redistribution of the Program by all those who receive copies
 * directly or indirectly through you, then the only way you could satisfy both
 * it and this License would be to refrain entirely from distribution of the
 * Program.
 *
 * If any portion of this section is held invalid or unenforceable under any
 * particular circumstance, the balance of the section is intended to apply and
 * the section as a whole is intended to apply in other circumstances.
 *
 * It is not the purpose of this section to induce you to infringe any patents
 * or other property right claims or to contest validity of any such claims;
 * this section has the sole purpose of protecting the integrity of the free
 * software distribution system, which is implemented by public license
 * practices.  Many people have made generous contributions to the wide range of
 * software distributed through that system in reliance on consistent
 * application of that system; it is up to the author/donor to decide if he or
 * she is willing to distribute software through any other system and a licensee
 * cannot impose that choice.
 *
 * This section is intended to make thoroughly clear what is believed to be a
 * consequence of the rest of this License.
 *
 * 8. If the distribution and/or use of the Program is restricted in certain
 * countries either by patents or by copyrighted interfaces, the original
 * copyright holder who places the Program under this License may add an
 * explicit geographical distribution limitation excluding those countries, so
 * that distribution is permitted only in or among countries not thus excluded. 
 * In such case, this License incorporates the limitation as if written in the
 * body of this License.
 *
 * 9. The Free Software Foundation may publish revised and/or new versions of
 * the General Public License from time to time.  Such new versions will be
 * similar in spirit to the present version, but may differ in detail to address
 * new problems or concerns.
 *
 * Each version is given a distinguishing version number.  If the Program
 * specifies a version number of this License which applies to it and "any later
 * version", you have the option of following the terms and conditions either of
 * that version or of any later version published by the Free Software
 * Foundation. If the Program does not specify a version number of this License,
 * you may choose any version ever published by the Free Software Foundation.
 *
 * 10. If you wish to incorporate parts of the Program into other free programs
 * whose distribution conditions are different, write to the author to ask for
 * permission.  For software which is copyrighted by the Free Software
 * Foundation, write to the Free Software Foundation; we sometimes make
 * exceptions for this. Our decision will be guided by the two goals of
 * preserving the free status of all derivatives of our free software and of
 * promoting the sharing and reuse of software generally.
 *
 * NO WARRANTY
 *
 * 11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY FOR
 * THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
 * OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
 * PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR
 * IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS TO
 * THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE PROGRAM
 * PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR
 * CORRECTION.
 *
 * 12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
 * WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
 * REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
 * INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
 * OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO
 * LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR
 * THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
 * PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGES.
 *
 * END OF TERMS AND CONDITIONS
 *
 * How to Apply These Terms to Your New Programs
 *
 * If you develop a new program, and you want it to be of the greatest possible
 * use to the public, the best way to achieve this is to make it free software
 * which everyone can redistribute and change under these terms.
 *
 * To do so, attach the following notices to the program.  It is safest to
 * attach them to the start of each source file to most effectively convey the
 * exclusion of warranty; and each file should have at least the "copyright"
 * line and a pointer to where the full notice is found.
 *
 * <one line to give the program's name and a brief idea of what it does.>
 * Copyright (C) <year>  <name of author>
 *
 * This program is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
 * details.
 *
 * You should have received a copy of the GNU General Public License along with
 * this program; if not, write to the Free Software Foundation, Inc., 51
 * Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Also add information on how to contact you by electronic and paper mail.
 *
 * If the program is interactive, make it output a short notice like this when
 * it starts in an interactive mode:
 *
 * Gnomovision version 69, Copyright (C) year name of author Gnomovision comes
 * with ABSOLUTELY NO WARRANTY; for details type `show w'. This is free
 * software, and you are welcome to redistribute it under certain conditions;
 * type `show c' for details.
 *
 * The hypothetical commands `show w' and `show c' should show the appropriate
 * parts of the General Public License.  Of course, the commands you use may be
 * called something other than `show w' and `show c'; they could even be
 * mouse-clicks or menu items--whatever suits your program.
 *
 * You should also get your employer (if you work as a programmer) or your
 * school, if any, to sign a "copyright disclaimer" for the program, if
 * necessary.  Here is a sample; alter the names:
 *
 * Yoyodyne, Inc., hereby disclaims all copyright interest in the program
 * `Gnomovision' (which makes passes at compilers) written by James Hacker.
 *
 * <signature of Ty Coon>, 1 April 1989 Ty Coon, President of Vice
 *
 * This General Public License does not permit incorporating your program into
 * proprietary programs.  If your program is a subroutine library, you may
 * consider it more useful to permit linking proprietary applications with the
 * library.  If this is what you want to do, use the GNU Lesser General Public
 * License instead of this License.
 *
 * ---
 *
 * Parts of this software are based on jedisct1/libsodium:
 *
 * https://github.com/jedisct1/libsodium
 *
 * ISC License
 *
 * Copyright (c) 2013-2019 Frank Denis <j at pureftpd dot org>
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
 * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
 * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
 * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 * PERFORMANCE OF THIS SOFTWARE.
 *
 * License for bfile@0.2.2:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2014-2019, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for btcp@0.1.5:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2017, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for budp@0.1.6:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2017, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for bheep@0.1.5:
 *
 * This software is licensed under the MIT License.
 *
 * Copyright (c) 2017, Christopher Jeffrey (https://github.com/chjj)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ii=function(Ht){var je,zn=Ht.setTimeout,jn=Ht.clearTimeout,an=Ht.setInterval,tn=Ht.clearInterval;Ht.setImmediate,Ht.clearImmediate;var Vt,_e,Yt=Ht.console,qn=[["bns-plus","/lib/bns.js",function(f,Le,C,Fe,He,Ve){/*!
 * bns.js - dns module
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */f.API=ce(1,C),f.Authority=ce(96,C),f.AuthServer=ce(97,C),f.Cache=ce(109,C),f.constants=ce(11,C),f.dane=ce(12,C),f.dns=ce(112,C),f.DNSResolver=ce(115,C),f.DNSServer=ce(98,C),f.dnssec=ce(99,C),f.encoding=ce(80,C),f.DNSError=ce(101,C),f.Hints=ce(116,C),f.Hosts=ce(113,C),f.hsig=ce(117,C),f.nsec3=ce(124,C),f.openpgpkey=ce(89,C),f.Ownership=ce(125,C),f.punycode=ce(126,C),f.rdns=ce(127,C),f.RecursiveResolver=ce(128,C),f.RecursiveServer=ce(129,C),f.ResolvConf=ce(91,C),f.ROOT_HINTS=ce(108,C),f.RootResolver=ce(130,C),f.sig0=ce(123,C),f.smimea=ce(92,C),f.srv=ce(131,C),f.sshfp=ce(93,C),f.StubResolver=ce(114,C),f.StubServer=ce(132,C),f.tlsa=ce(94,C),f.tsig=ce(133,C),f.udns=ce(134,C),f.UnboundResolver=ce(135,C),f.UnboundServer=ce(136,C),f.util=ce(79,C),f.wire=ce(90,C),f.Zone=ce(107,C),f.version="0.15.0",f.unbound=f.UnboundResolver.version,f.native=f.UnboundResolver.native}],["bns-plus","/lib/api.js",function(f,Le,C,Fe,He,Ve){/*!
 * api.js - node.js api for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(3,C),oe=ce(4,C),Q=ce(11,C),P=ce(12,C),g=ce(80,C),u=ce(81,C),H=ce(89,C),a=ce(91,C),s=ce(92,C),n=ce(93,C),p=ce(94,C),v=ce(79,C),K=ce(90,C),w=ce(95,C),{DNS_PORT:m}=Q,{types:_,codes:E}=K,d=oe.getInterfaces("ipv4").length>0,T=oe.getInterfaces("ipv6").length>0;let N=null;class R extends S{constructor(o,h){super(),e(typeof o=="function"),h==null&&(h={}),this._create=o,this._options=h,this._resolvers=new Set,this._servers=null,this._onError=z=>this.emit("error",z),this._onLog=(...z)=>this.emit("log",...z),this._allowInsecure=!1,this.Resolver=function(J){return new R(o,J)},this.V4MAPPED=w.V4MAPPED,this.ADDRCONFIG=w.ADDRCONFIG,this.NODATA="ENODATA",this.FORMERR="EFORMERR",this.SERVFAIL="ESERVFAIL",this.NOTFOUND="ENOTFOUND",this.NOTIMP="ENOTIMP",this.REFUSED="EREFUSED",this.BADQUERY="EBADQUERY",this.BADNAME="EBADNAME",this.BADFAMILY="EBADFAMILY",this.BADRESP="EBADRESP",this.CONNREFUSED="ECONNREFUSED",this.TIMEOUT="ETIMEOUT",this.EOF="EOF",this.FILE="EFILE",this.NOMEM="ENOMEM",this.DESTRUCTION="EDESTRUCTION",this.BADSTR="EBADSTR",this.BADFLAGS="EBADFLAGS",this.NONAME="ENONAME",this.BADHINTS="EBADHINTS",this.NOTINITIALIZED="ENOTINITIALIZED",this.LOADIPHLPAPI="ELOADIPHLPAPI",this.ADDRGETNETWORKPARAMS="EADDRGETNETWORKPARAMS",this.CANCELLED="ECANCELLED",this.INSECURE="EINSECURE",this.BADSIGNATURE="EBADSIGNATURE",this.NORESFLAG="ENORESFLAG",this.BADQUESTION="EBADQUESTION",this.BADTRUNCATION="EBADTRUNCATION",this.BADOPCODE="EBADOPCODE",this.NOAUTHORITY="ENOAUTHORITY",this.ALIASLOOP="EALIASLOOP",this.MAXREFERRALS="EMAXREFERRALS",this.version=je,this.native=je,this.on("error",()=>{})}async _ask(o,h,z){await o.open(),this._resolvers.add(o);let J;try{J=await o.lookup(h,z)}catch(M){switch(this._resolvers.delete(o),await o.close(),M.message){case"Request timed out.":throw A(h,z,this.TIMEOUT);case"Request cancelled.":throw A(h,z,this.CANCELLED);case"Format error.":throw A(h,z,this.FORMERR);case"Encoding error.":throw A(h,z,this.BADRESP);case"Invalid qname.":throw A(h,z,this.BADNAME);case"No servers available.":case"Bad address passed to query.":throw A(h,z,this.BADQUERY);case"Could not verify response.":throw A(h,z,this.BADSIGNATURE);case"Not a response.":throw A(h,z,this.NORESFLAG);case"Invalid question.":throw A(h,z,this.BADQUESTION);case"Truncated TCP msg.":throw A(h,z,this.BADTRUNCATION);case"Unexpected opcode.":throw A(h,z,this.BADOPCODE);case"Authority lookup failed.":case"No authority address.":throw A(h,z,this.NOAUTHORITY);case"Alias loop.":throw A(h,z,this.ALIASLOOP);case"Maximum referrals exceeded.":throw A(h,z,this.MAXREFERRALS)}throw M}return this._resolvers.delete(o),await o.close(),J}async _query(o,h){e(typeof o=="string"),e((h&65535)===h);const z=await this._create(this._options,this._servers);z.on("error",this._onError),z.on("log",this._onLog);try{return await this._ask(z,o,h)}finally{z.removeListener("error",this._onError),z.removeListener("log",this._onLog)}}async _lookup(o,h,z,J){e(typeof z=="boolean"),e(typeof J=="function");const M=await this._query(o,h);if(M.code!==E.NOERROR){switch(M.code){case E.FORMERR:throw A(o,h,this.FORMERR);case E.SERVFAIL:throw A(o,h,this.SERVFAIL);case E.NXDOMAIN:throw A(o,h,this.NOTFOUND);case E.NOTIMP:throw A(o,h,this.NOTIMP);case E.REFUSED:throw A(o,h,this.REFUSED)}throw A(o,h,this.BADRESP)}if(!this._allowInsecure&&z&&!M.ad)throw A(o,h,this.INSECURE);const X=M.collect(o,h),B=[];for(const G of X){const $=J(G);$&&B.push($)}if(B.length===0)throw A(o,h,this.NODATA);return h===_.SOA?B[0]:B}async _resolve(o,h,z){return this._lookup(o,h,!1,z)}async _resolveSecure(o,h,z){return this._lookup(o,h,!0,z)}getServers(){return this._servers?this._servers.slice():(N||(N=a.fromSystem()),N.getServers())}setServers(o){e(Array.isArray(o));for(const h of o){const{type:z}=oe.fromHost(h,m);switch(z){case 4:break;case 6:break;default:throw new Error("Invalid address.")}}return this._servers=o.slice(),this}async resolve(o,h="A"){switch(e(typeof o=="string"),e(typeof h=="string"),h){case"A":return this.resolve4(o);case"AAAA":return this.resolve6(o);case"CNAME":return this.resolveCname(o);case"MX":return this.resolveMx(o);case"NAPTR":return this.resolveNaptr(o);case"NS":return this.resolveNs(o);case"PTR":return this.resolvePtr(o);case"SOA":return this.resolveSoa(o);case"SRV":return this.resolveSrv(o);case"TXT":return this.resolveTxt(o);case"ANY":return this.resolveAny(o);default:throw new Error(`Unknown type: ${h}.`)}}async resolve4(o,h={}){return e(h&&typeof h=="object"),this._resolve(o,_.A,z=>{const{ttl:J}=z,{address:M}=z.data;return h.ttl?{address:M,ttl:J}:M})}async resolve6(o,h={}){return e(h&&typeof h=="object"),this._resolve(o,_.AAAA,z=>{const{ttl:J}=z,{address:M}=z.data;return h.ttl?{address:M,ttl:J}:M})}async resolveCname(o){return this._resolve(o,_.CNAME,h=>v.trimFQDN(h.data.target))}async resolveMx(o){return this._resolve(o,_.MX,h=>{const z=h.data;return{exchange:v.trimFQDN(z.mx),priority:z.preference}})}async resolveNaptr(o){return this._resolve(o,_.NAPTR,h=>{const z=h.data;return{flags:z.flags,service:z.service,regexp:z.regexp,replacement:v.trimFQDN(z.replacement),order:z.order,preference:z.preference}})}async resolveNs(o){return this._resolve(o,_.NS,h=>v.trimFQDN(h.data.ns))}async resolvePtr(o){return this._resolve(o,_.PTR,h=>v.trimFQDN(h.data.ptr))}async resolveSoa(o){return this._resolve(o,_.SOA,h=>{const z=h.data;return{nsname:v.trimFQDN(z.ns),hostmaster:v.trimFQDN(z.mbox),serial:z.serial,refresh:z.refresh,retry:z.retry,expire:z.expire,minttl:z.minttl}})}async resolveSrv(o){return this._resolve(o,_.SRV,h=>{const z=h.data;return{name:v.trimFQDN(z.target),port:z.port,priority:z.priority,weight:z.weight}})}async resolveTxt(o){return this._resolve(o,_.TXT,h=>h.data.txt.slice())}async resolveAny(o){return this._resolve(o,_.ANY,h=>{const z=h.data;switch(h.type){case _.A:return{address:z.address,ttl:h.ttl,type:"A"};case _.AAAA:return{address:z.address,ttl:h.ttl,type:"AAAA"};case _.CNAME:return{value:v.trimFQDN(z.target),type:"CNAME"};case _.MX:return{exchange:v.trimFQDN(z.mx),priority:z.preference,type:"MX"};case _.NAPTR:return{flags:z.flags,service:z.service,regexp:z.regexp,replacement:v.trimFQDN(z.replacement),order:z.order,preference:z.preference,type:"NAPTR"};case _.NS:return{value:v.trimFQDN(z.ns),type:"NS"};case _.PTR:return{value:v.trimFQDN(z.ptr),type:"PTR"};case _.SOA:return{nsname:v.trimFQDN(z.ns),hostmaster:v.trimFQDN(z.mbox),serial:z.serial,refresh:z.refresh,retry:z.retry,expire:z.expire,minttl:z.minttl,type:"SOA"};case _.SRV:return{name:v.trimFQDN(z.target),port:z.port,priority:z.priority,weight:z.weight,type:"SRV"};case _.TXT:return{entries:z.txt.slice(),type:"TXT"};default:return null}})}async reverse(o){const h=g.reverse(o);return this._resolve(h,_.PTR,z=>v.trimFQDN(z.data.ptr))}async _lookup4(o,h,z){try{await this._resolve(o,_.A,J=>{let M=J.data.address,X=4;z&&(M=`::ffff:${M}`,X=6),h.push({address:M,family:X})})}catch(J){if(J.code!==this.NODATA)throw J}}async _lookup6(o,h){try{await this._resolve(o,_.AAAA,z=>{h.push({address:z.data.address,family:6})})}catch(z){if(z.code!==this.NODATA)throw z}}async lookup(o,h={}){typeof h=="number"&&(h={family:h}),e(o==null||typeof o=="string"),e(h&&typeof h=="object");const z=h.family>>>0,J=h.hints>>>0,M=h.all===!0;if(h.verbatim,e(z===0||z===4||z===6),e(J===0||J===this.ADDRCONFIG||J===this.V4MAPPED||J===(this.ADDRCONFIG|this.V4MAPPED)),!o)return M?[]:{address:null,family:z===6?6:4};if(v.isIP(o)){const B=o,G=oe.toBuffer(B),$=oe.isIPv4(G)?4:6;return M?[{address:B,family:$}]:{address:B,family:$}}const X=[];if((!(J&this.ADDRCONFIG)||d)&&(z===0||z===4)&&await this._lookup4(o,X,!1),(!(J&this.ADDRCONFIG)||T)&&((z===0||z===6)&&await this._lookup6(o,X),z===6&&X.length===0&&J&this.V4MAPPED&&await this._lookup4(o,X,!0)),X.length===0)throw y(o,this.NOTFOUND);return M?X:X[0]}async lookupService(o,h){h=h>>>0,e(typeof o=="string"),e((h&65535)===h);const z=g.reverse(o),J=u("./internal/iana");let M;try{M=await this._resolve(z,_.PTR,X=>v.trimFQDN(X.data.ptr))}catch(X){throw X.code===this.NODATA?U(z,this.NOTFOUND):X}return{hostname:M[0],service:J.getService(h)}}cancel(){for(const o of this._resolvers)o.cancel()}async resolveRaw(o,h){return h==null&&(h=_.A),typeof h=="string"&&(h=Q.stringToType(h)),this._query(o,h)}async reverseRaw(o){const h=g.reverse(o);return this._query(h,_.PTR)}async resolveSSHFP(o,h){return e(h==null||h!=null&&h._isBuffer===!0),this._resolveSecure(o,_.SSHFP,z=>{const J=z.data;return h&&!n.verify(z,h)?null:{algorithm:J.algorithm,digestType:J.digestType,fingerprint:J.fingerprint}})}async resolveTLSA(o,h,z,J){e(J==null||J!=null&&J._isBuffer===!0);const M=p.encodeName(o,h,z);return this._resolveSecure(M,_.TLSA,X=>{const B=X.data;return J&&!p.verify(X,J)?null:{usage:B.usage,selector:B.selector,matchingType:B.matchingType,certificate:B.certificate}})}async resolveSMIMEA(o,h){e(h==null||h!=null&&h._isBuffer===!0);const z=s.encodeEmail(o);return this._resolveSecure(z,_.SMIMEA,J=>{const M=J.data;return h&&!s.verify(J,h)?null:{usage:M.usage,selector:M.selector,matchingType:M.matchingType,certificate:M.certificate}})}async resolveOPENPGPKEY(o,h){e(h==null||h!=null&&h._isBuffer===!0);const z=H.encodeEmail(o);return this._resolveSecure(z,_.OPENPGPKEY,J=>{const M=J.data;return h&&!H.verify(J,h)?null:M.publicKey})}verifySSHFP(o,h){return e(o&&typeof o=="object"),n.validate(h,o.digestType,o.fingerprint)}verifyDANE(o,h){return e(o&&typeof o=="object"),P.verify(h,o.selector,o.matchingType,o.certificate)}verifyTLSA(o,h){return this.verifyDANE(o,h)}verifySMIMEA(o,h){return this.verifyDANE(o,h)}verifyOPENPGPKEY(o,h){return e(o!=null&&o._isBuffer===!0),e(h!=null&&h._isBuffer===!0),o.equals(h)}legacy(o,h,z){let J=0,M=-1,X=!1,B=!1;if(o&&typeof o!="string")throw q("ERR_INVALID_ARG_TYPE","hostname");if(typeof h=="function")z=h,M=0;else{if(typeof z!="function")throw q("ERR_INVALID_CALLBACK","callback");if(h!==null&&typeof h=="object"){if(J=h.hints>>>0,M=h.family>>>0,X=h.all===!0,B=h.verbatim===!0,J!==0&&J!==this.ADDRCONFIG&&J!==this.V4MAPPED&&J!==(this.ADDRCONFIG|this.V4MAPPED))throw q("ERR_INVALID_OPT_VALUE","hints")}else M=h>>>0}if(M!==0&&M!==4&&M!==6)throw q("ERR_INVALID_OPT_VALUE","family");const G={hints:J,family:M,all:X,verbatim:B};!o&&o!=null&&(o=null),this.lookup(o,G).then($=>{if(X)Vt.nextTick(()=>z(null,$));else{const{address:le,family:Ee}=$;Vt.nextTick(()=>z(null,le,Ee))}}).catch($=>{Vt.nextTick(()=>z($))})}static make(o,h){const z=Object.getOwnPropertyNames(this.prototype),J=new this(o,h);for(const M of z){const X=J[M];typeof X=="function"&&M.length!==0&&M!=="constructor"&&M[0]!=="_"&&(J[M]=X.bind(J))}return J}}function O(k,o,h){const z=new Error(`${o} ${h} ${k}`);return z.errno=h,z.code=h,z.syscall=o,z.hostname=k,z}function A(k,o,h){const z=`query${Q.typeToString(o)}`;return O(k,z,h)}function y(k,o){return O(k,"getaddrinfo",o)}function U(k,o){return O(k,"getnameinfo",o)}function q(k,o){const h=new TypeError(`Invalid argument: "${o}".`);return h.code=k,h.name=`TypeError [${k}]`,h}C.exports=R}],["bsert","/lib/assert.js",function(f,Le,C,Fe,He,Ve){/*!
 * assert.js - assertions for javascript
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bsert
 */class e extends Error{constructor(ge){typeof ge=="string"&&(ge={message:ge}),(ge===null||typeof ge!="object")&&(ge={});let ve=null,Ue="fail",re=Boolean(ge.generatedMessage);if(ge.message!=null&&(ve=E(ge.message)),typeof ge.operator=="string"&&(Ue=ge.operator),ve==null){if(Ue==="fail")ve="Assertion failed.";else{const r=_(ge.actual),c=_(ge.expected);ve=`${r} ${Ue} ${c}`}re=!0}super(ve);let Re=this.constructor;typeof ge.stackStartFunction=="function"?Re=ge.stackStartFunction:typeof ge.stackStartFn=="function"&&(Re=ge.stackStartFn),this.type="AssertionError",this.name="AssertionError [ERR_ASSERTION]",this.code="ERR_ASSERTION",this.generatedMessage=re,this.actual=ge.actual,this.expected=ge.expected,this.operator=Ue,Error.captureStackTrace&&Error.captureStackTrace(this,Re)}}function S(se,ge){if(!se){let ve=!1;if(arguments.length===0)ge="No value argument passed to `assert()`.",ve=!0;else if(ge==null)ge="Assertion failed.",ve=!0;else if(M(ge))throw ge;throw new e({message:ge,actual:se,expected:!0,operator:"==",generatedMessage:ve,stackStartFn:S})}}function oe(se,ge,ve){if(!Object.is(se,ge))throw M(ve)?ve:new e({message:ve,actual:se,expected:ge,operator:"strictEqual",stackStartFn:oe})}function Q(se,ge,ve){if(Object.is(se,ge))throw M(ve)?ve:new e({message:ve,actual:se,expected:ge,operator:"notStrictEqual",stackStartFn:Q})}function P(se){let ge=!1;throw M(se)?se:(se==null&&(se="Assertion failed.",ge=!0),new e({message:se,actual:!1,expected:!0,operator:"fail",generatedMessage:ge,stackStartFn:P}))}function g(se,ge,ve){typeof ge=="string"&&(ve=ge,ge=je);let Ue=!1,re=null;w(typeof se=="function","func","function");try{se()}catch(Re){Ue=!0,re=Re}if(!Ue){let Re=!1;throw ve==null&&(ve="Missing expected exception.",Re=!0),new e({message:ve,actual:je,expected:ge,operator:"throws",generatedMessage:Re,stackStartFn:g})}if(!T(re,ge,ve,g))throw re}function u(se,ge,ve){typeof ge=="string"&&(ve=ge,ge=je);let Ue=!1,re=null;w(typeof se=="function","func","function");try{se()}catch(Re){Ue=!0,re=Re}if(!!Ue){if(T(re,ge,ve,u)){let Re=!1;throw ve==null&&(ve="Got unwanted exception.",Re=!0),new e({message:ve,actual:re,expected:ge,operator:"doesNotThrow",generatedMessage:Re,stackStartFn:u})}throw re}}async function H(se,ge,ve){typeof ge=="string"&&(ve=ge,ge=je);let Ue=!1,re=null;typeof se!="function"&&w(G(se),"func","promise");try{G(se)?await se:await se()}catch(Re){Ue=!0,re=Re}if(!Ue){let Re=!1;throw ve==null&&(ve="Missing expected rejection.",Re=!0),new e({message:ve,actual:je,expected:ge,operator:"rejects",generatedMessage:Re,stackStartFn:H})}if(!T(re,ge,ve,H))throw re}async function a(se,ge,ve){typeof ge=="string"&&(ve=ge,ge=je);let Ue=!1,re=null;typeof se!="function"&&w(G(se),"func","promise");try{G(se)?await se:await se()}catch(Re){Ue=!0,re=Re}if(!!Ue){if(T(re,ge,ve,a)){let Re=!1;throw ve==null&&(ve="Got unwanted rejection.",Re=!0),new e({message:ve,actual:je,expected:ge,operator:"doesNotReject",generatedMessage:Re,stackStartFn:a})}throw re}}function s(se){if(se!=null){let ge="ifError got unwanted exception: ";throw typeof se=="object"&&typeof se.message=="string"?se.message.length===0&&se.constructor?ge+=se.constructor.name:ge+=se.message:ge+=_(se),new e({message:ge,actual:se,expected:null,operator:"ifError",generatedMessage:!0,stackStartFn:s})}}function n(se,ge,ve){if(!N(se,ge,!1))throw M(ve)?ve:new e({message:ve,actual:se,expected:ge,operator:"deepStrictEqual",stackStartFn:n})}function p(se,ge,ve){if(N(se,ge,!0))throw M(ve)?ve:new e({message:ve,actual:se,expected:ge,operator:"notDeepStrictEqual",stackStartFn:p})}function v(se,ge,ve,Ue){if(Ne(ve)||(Ue=ve,ve=null),ve==null&&(ve="hex"),ge=ke(se,ge,ve),w(z(se),"actual","buffer"),w(z(ge),"expected","buffer"),se!==ge&&!se.equals(ge))throw M(Ue)?Ue:new e({message:Ue,actual:se.toString(ve),expected:ge.toString(ve),operator:"bufferEqual",stackStartFn:v})}function K(se,ge,ve,Ue){if(Ne(ve)||(Ue=ve,ve=null),ve==null&&(ve="hex"),ge=ke(se,ge,ve),w(z(se),"actual","buffer"),w(z(ge),"expected","buffer"),se===ge||se.equals(ge))throw M(Ue)?Ue:new e({message:Ue,actual:se.toString(ve),expected:ge.toString(ve),operator:"notBufferEqual",stackStartFn:K})}function w(se,ge,ve){if(!se){let Ue;ge==null?Ue="Invalid type for parameter.":ve==null?Ue=`Invalid type for "${ge}".`:Ue=`"${ge}" must be a(n) ${ve}.`;const re=new TypeError(Ue);throw Error.captureStackTrace&&Error.captureStackTrace(re,w),re}}function m(se,ge){if(!se){const ve=ge!=null?`"${ge}" is out of range.`:"Parameter is out of range.",Ue=new RangeError(ve);throw Error.captureStackTrace&&Error.captureStackTrace(Ue,m),Ue}}function _(se){switch(typeof se){case"undefined":return"undefined";case"object":return se===null?"null":`[${q(se)}]`;case"boolean":return`${se}`;case"number":return`${se}`;case"string":return se.length>80&&(se=`${se.substring(0,77)}...`),JSON.stringify(se);case"symbol":return d(se);case"function":return`[${k(se)}]`;case"bigint":return`${se}n`;default:return`[${typeof se}]`}}function E(se){return typeof se=="string"?se:M(se)?d(se):_(se)}function d(se){try{return String(se)}catch{return"Object"}}function T(se,ge,ve,Ue){if(ge==null)return!0;if($(ge))return ge.test(se);if(typeof ge!="function"){if(Ue===u||Ue===a)throw new TypeError('"expected" must not be an object.');if(typeof ge!="object")throw new TypeError('"expected" must be an object.');let re=!1;if(ve==null&&(ve=`Missing expected ${Ue===H?"rejection":"exception"}.`,re=!0),se==null||typeof se!="object")throw new e({actual:se,expected:ge,message:ve,operator:Ue.name,generatedMessage:re,stackStartFn:Ue});const Re=Object.keys(ge);if(M(ge)&&Re.push("name","message"),Re.length===0)throw new TypeError('"expected" may not be an empty object.');for(const r of Re){const c=ge[r],b=se[r];if(!(typeof b=="string"&&$(c)&&c.test(b))&&!(r in se&&N(b,c,!1)))throw new e({actual:se,expected:ge,message:ve,operator:Ue.name,generatedMessage:re,stackStartFn:Ue})}return!0}return ge.prototype!==je&&se instanceof ge?!0:Error.isPrototypeOf(ge)?!1:ge.call({},se)===!0}function N(se,ge,ve){try{return R(se,ge,null)}catch{return ve}}function R(se,ge,ve){if(Object.is(se,ge))return!0;if(!B(se)||!B(ge)||y(se)!==y(ge)||Object.getPrototypeOf(se)!==Object.getPrototypeOf(ge))return!1;if(z(se)&&z(ge))return se.equals(ge);if(J(se))return Object.is(se.getTime(),ge.getTime());if($(se))return se.source===ge.source&&se.global===ge.global&&se.multiline===ge.multiline&&se.lastIndex===ge.lastIndex&&se.ignoreCase===ge.ignoreCase;if(M(se)&&se.message!==ge.message)return!1;if(h(se)&&(se=new Uint8Array(se),ge=new Uint8Array(ge)),Ee(se)&&!z(se)){if(z(ge))return!1;const re=new Uint8Array(se.buffer),Re=new Uint8Array(ge.buffer);if(re.length!==Re.length)return!1;for(let r=0;r<re.length;r++)if(re[r]!==Re[r])return!1;return!0}if(le(se))return se.size!==ge.size?!1:new Set([...se,...ge]).size===se.size;if(!ve)ve={a:new Map,b:new Map,p:0};else{const re=ve.a.get(se);if(re!=null){const Re=ve.b.get(ge);if(Re!=null)return re===Re}ve.p+=1}ve.a.set(se,ve.p),ve.b.set(ge,ve.p);const Ue=O(se,ge,ve);return ve.a.delete(se),ve.b.delete(ge),Ue}function O(se,ge,ve){if(X(se)){if(se.size!==ge.size)return!1;const r=new Set([...se.keys(),...ge.keys()]);if(r.size!==se.size)return!1;for(const c of r)if(!R(se.get(c),ge.get(c),ve))return!1;return!0}if(o(se)){if(se.length!==ge.length)return!1;for(let r=0;r<se.length;r++)if(!R(se[r],ge[r],ve))return!1;return!0}const Ue=A(se),re=A(ge);if(Ue.length!==re.length)return!1;const Re=new Set([...Ue,...re]);if(Re.size!==Ue.length)return!1;for(const r of Re)if(!R(se[r],ge[r],ve))return!1;return!0}function A(se){const ge=Object.keys(se);if(!Object.getOwnPropertySymbols||!Object.getOwnPropertyDescriptor)return ge;const ve=Object.getOwnPropertySymbols(se);for(const Ue of ve){const re=Object.getOwnPropertyDescriptor(se,Ue);re&&re.enumerable&&ge.push(Ue)}return ge}function y(se){if(se===je)return"[object Undefined]";if(se===null)return"[object Null]";try{return Object.prototype.toString.call(se)}catch{return"[object Object]"}}function U(se){return y(se).slice(8,-1)}function q(se){const ge=U(se);if(se==null||ge!=="Object"&&ge!=="Error")return ge;let ve,Ue;try{ve=se.constructor}catch{}if(ve==null)return ge;try{Ue=ve.name}catch{return ge}return typeof Ue!="string"||Ue.length===0?ge:Ue}function k(se){let ge;try{ge=se.name}catch{}return typeof ge!="string"||ge.length===0?"Function":`Function: ${ge}`}function o(se){return Array.isArray(se)}function h(se){return se instanceof ArrayBuffer}function z(se){return B(se)&&typeof se.writeUInt32LE=="function"&&typeof se.equals=="function"}function J(se){return se instanceof Date}function M(se){return se instanceof Error}function X(se){return se instanceof Map}function B(se){return se&&typeof se=="object"}function G(se){return se instanceof Promise}function $(se){return se instanceof RegExp}function le(se){return se instanceof Set}function Ee(se){return ArrayBuffer.isView(se)}function Ne(se){if(typeof se!="string")return!1;switch(se){case"ascii":case"binary":case"base64":case"hex":case"latin1":case"ucs2":case"utf8":case"utf16le":return!0}return!1}function ke(se,ge,ve){if(typeof ge=="string"){if(!z(se))return null;const{constructor:Ue}=se;if(!Ue||typeof Ue.from!="function"||!Ne(ve)||ve==="hex"&&ge.length&1)return null;const re=Ue.from(ge,ve);return ve==="hex"&&re.length!==ge.length>>>1?null:re}return ge}S.AssertionError=e,S.assert=S,S.strict=S,S.ok=S,S.equal=oe,S.notEqual=Q,S.strictEqual=oe,S.notStrictEqual=Q,S.fail=P,S.throws=g,S.doesNotThrow=u,S.rejects=H,S.doesNotReject=a,S.ifError=s,S.deepEqual=n,S.notDeepEqual=p,S.deepStrictEqual=n,S.notDeepStrictEqual=p,S.bufferEqual=v,S.notBufferEqual=K,S.enforce=w,S.range=m,C.exports=S}],["bpkg","/lib/builtins/events.js",function(f,Le,C,Fe,He,Ve){/*!
 * events@3.0.0 - Node's event emitter for all engines.
 * Copyright (c) 2019, Irakli Gozalishvili (MIT)
 * https://github.com/Gozala/events#readme
 *
 * License for events@3.0.0:
 *
 * MIT
 *
 * Copyright Joyent, Inc. and other Node contributors.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the
 * following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
 * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
 * USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var e=typeof Reflect=="object"?Reflect:null,S=e&&typeof e.apply=="function"?e.apply:function(E,d,T){return Function.prototype.apply.call(E,d,T)},oe;e&&typeof e.ownKeys=="function"?oe=e.ownKeys:Object.getOwnPropertySymbols?oe=function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:oe=function(E){return Object.getOwnPropertyNames(E)};function Q(_){Yt&&Yt.warn&&Yt.warn(_)}var P=Number.isNaN||function(E){return E!==E};function g(){g.init.call(this)}C.exports=g,g.EventEmitter=g,g.prototype._events=je,g.prototype._eventsCount=0,g.prototype._maxListeners=je;var u=10;Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(_){if(typeof _!="number"||_<0||P(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");u=_}}),g.init=function(){(this._events===je||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||je},g.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||P(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this};function H(_){return _._maxListeners===je?g.defaultMaxListeners:_._maxListeners}g.prototype.getMaxListeners=function(){return H(this)},g.prototype.emit=function(E){for(var d=[],T=1;T<arguments.length;T++)d.push(arguments[T]);var N=E==="error",R=this._events;if(R!==je)N=N&&R.error===je;else if(!N)return!1;if(N){var O;if(d.length>0&&(O=d[0]),O instanceof Error)throw O;var A=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw A.context=O,A}var y=R[E];if(y===je)return!1;if(typeof y=="function")S(y,this,d);else for(var U=y.length,q=K(y,U),T=0;T<U;++T)S(q[T],this,d);return!0};function a(_,E,d,T){var N,R,O;if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);if(R=_._events,R===je?(R=_._events=Object.create(null),_._eventsCount=0):(R.newListener!==je&&(_.emit("newListener",E,d.listener?d.listener:d),R=_._events),O=R[E]),O===je)O=R[E]=d,++_._eventsCount;else if(typeof O=="function"?O=R[E]=T?[d,O]:[O,d]:T?O.unshift(d):O.push(d),N=H(_),N>0&&O.length>N&&!O.warned){O.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(E)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=_,A.type=E,A.count=O.length,Q(A)}return _}g.prototype.addListener=function(E,d){return a(this,E,d,!1)},g.prototype.on=g.prototype.addListener,g.prototype.prependListener=function(E,d){return a(this,E,d,!0)};function s(){for(var _=[],E=0;E<arguments.length;E++)_.push(arguments[E]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,S(this.listener,this.target,_))}function n(_,E,d){var T={fired:!1,wrapFn:je,target:_,type:E,listener:d},N=s.bind(T);return N.listener=d,T.wrapFn=N,N}g.prototype.once=function(E,d){if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);return this.on(E,n(this,E,d)),this},g.prototype.prependOnceListener=function(E,d){if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);return this.prependListener(E,n(this,E,d)),this},g.prototype.removeListener=function(E,d){var T,N,R,O,A;if(typeof d!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d);if(N=this._events,N===je)return this;if(T=N[E],T===je)return this;if(T===d||T.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete N[E],N.removeListener&&this.emit("removeListener",E,T.listener||d));else if(typeof T!="function"){for(R=-1,O=T.length-1;O>=0;O--)if(T[O]===d||T[O].listener===d){A=T[O].listener,R=O;break}if(R<0)return this;R===0?T.shift():w(T,R),T.length===1&&(N[E]=T[0]),N.removeListener!==je&&this.emit("removeListener",E,A||d)}return this},g.prototype.off=g.prototype.removeListener,g.prototype.removeAllListeners=function(E){var d,T,N;if(T=this._events,T===je)return this;if(T.removeListener===je)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[E]!==je&&(--this._eventsCount===0?this._events=Object.create(null):delete T[E]),this;if(arguments.length===0){var R=Object.keys(T),O;for(N=0;N<R.length;++N)O=R[N],O!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=T[E],typeof d=="function")this.removeListener(E,d);else if(d!==je)for(N=d.length-1;N>=0;N--)this.removeListener(E,d[N]);return this};function p(_,E,d){var T=_._events;if(T===je)return[];var N=T[E];return N===je?[]:typeof N=="function"?d?[N.listener||N]:[N]:d?m(N):K(N,N.length)}g.prototype.listeners=function(E){return p(this,E,!0)},g.prototype.rawListeners=function(E){return p(this,E,!1)},g.listenerCount=function(_,E){return typeof _.listenerCount=="function"?_.listenerCount(E):v.call(_,E)},g.prototype.listenerCount=v;function v(_){var E=this._events;if(E!==je){var d=E[_];if(typeof d=="function")return 1;if(d!==je)return d.length}return 0}g.prototype.eventNames=function(){return this._eventsCount>0?oe(this._events):[]};function K(_,E){for(var d=new Array(E),T=0;T<E;++T)d[T]=_[T];return d}function w(_,E){for(;E+1<_.length;E++)_[E]=_[E+1];_.pop()}function m(_){for(var E=new Array(_.length),d=0;d<E.length;++d)E[d]=_[d].listener||_[d];return E}}],["binet","/lib/binet.js",function(f,Le,C,Fe,He,Ve){C.exports=ce(5,C)}],["binet","/lib/ip.js",function(f,Le,C,Fe,He,Ve){/*!
 * ip.js - ip utils for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License).
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 *
 * Parts of this software are based on node-ip.
 * https://github.com/indutny/node-ip
 * Copyright (c) 2012, Fedor Indutny (MIT License).
 *
 * Parts of this software are based on bitcoin/bitcoin:
 * Copyright (c) 2009-2019, The Bitcoin Core Developers (MIT License).
 * Copyright (c) 2009-2019, The Bitcoin Developers (MIT License).
 * https://github.com/bitcoin/bitcoin
 *
 * Resources:
 *   https://github.com/bitcoin/bitcoin/blob/master/src/netaddress.cpp
 */const e=ce(2,C),S=ce(6,C),oe=ce(7,C),Q=ce(9,C),P=ce(10,C),g=f,u=_e.from("00000000000000000000000000000000","hex"),H=_e.from("00000000000000000000ffff00000000","hex"),a=_e.from("00000000000000000000000000000001","hex"),s=_e.from("0064ff9b0000000000000000","hex"),n=_e.from("fe80000000000000","hex"),p=_e.from("0000000000000000ffff0000","hex"),v=_e.from("00000000000000ffff","hex"),K=_e.from("fd87d87eeb43","hex"),w=_e.alloc(33,0),m=_e.alloc(16,0),_=_e.alloc(16,0),E=_e.alloc(16,0),d=0,T=1,N=2,R=3,O=4,A={NONE:0,INET4:4,INET6:6,ONION:10},y={NONE:0,INET4:1,INET6:2,ONION:3,TEREDO:4};g.encode=function(h){return e(h!=null&&h._isBuffer===!0),g.read(h,0,h.length)},g.decode=function(h){const z=_e.allocUnsafeSlow(16);return g.write(z,h,0,16),z},g.read=function(h,z,J){if(z==null&&(z=0),J==null&&(J=16),e(h!=null&&h._isBuffer===!0),e(z>>>0===z),e(J>>>0===J),z+J>h.length)throw new Error("Out of bounds read.");if(J===4){const M=Q.ntop4(h,z);if(!M)throw new Error("Invalid IPv4 address.");return M}if(J===16){if(Q.onion(h,z)){const X=h.slice(z+6,z+16);return P.encodeLegacy(X)}let M;if(Q.mapped(h,z)?M=Q.ntop4(h,z+12):M=Q.ntop6(h,z),!M)throw new Error("Invalid IPv6 address.");return M}throw new Error("Invalid IP address.")},g.write=function(h,z,J,M){if(J==null&&(J=0),M==null&&(M=16),e(h!=null&&h._isBuffer===!0),e(typeof z=="string"),e(J>>>0===J),e(M>>>0===M),J+M>h.length)throw new Error("Out of bounds write.");if(M===4){if(Q.pton4(z,h,J)>=0)return J+4;const X=m;if(Q.pton6(z,X,0)<0)throw new Error("Invalid IPv4 address.");if(!Q.mapped(X,0))throw new Error("Out of bounds write.");return J+=X.copy(h,J,12,16),J}if(M===16){if(P.isLegacyString(z)){const X=K,B=P.decodeLegacy(z);return J+=X.copy(h,J),J+=B.copy(h,J),J}if(Q.pton4(z,h,J+12)>=0)return h.fill(0,J,J+10),J+=10,h[J++]=255,h[J++]=255,J+4;if(Q.pton6(z,h,J)>=0)return J+16;throw new Error("Invalid IPv6 address.")}throw new Error("Invalid IP address.")},g.writeBW=function(h,z,J){if(e(h&&typeof h=="object"),h.data)return h.offset=g.write(h.data,z,h.offset,J),h;const M=_e.alloc(J),X=g.write(M,z,0,J);return e(X===J),h.writeBytes(M),h},g.readBR=function(h,z){z==null&&(z=16),e(h&&typeof h=="object");const J=g.read(h.data,h.offset,z);return h.offset+=z,J},g.normalize=function(h){if(P.isLegacyString(h))return P.normalizeLegacy(h);const z=m;if(Q.pton4(h,z,0)>=0)return Q.ntop4(z,0);if(Q.pton6(h,z,0)>=0)return g.isMapped(z)?Q.ntop4(z,12):Q.ntop6(z,0);throw new Error("Invalid IP address.")},g.map=function(h){if(e(h!=null&&h._isBuffer===!0),h.length===16)return h;if(h.length!==4)throw new Error("Not an IPv4 address.");const z=_e.allocUnsafeSlow(16);return z.fill(0,0,10),z[10]=255,z[11]=255,h.copy(z,12),z},g.unmap=function(h){if(e(h!=null&&h._isBuffer===!0),h.length===4)return h;if(h.length!==16)throw new Error("Not an IPv6 address.");if(!g.isMapped(h))throw new Error("Not an IPv4 mapped address.");return h.slice(12,16)},g.toHost=function(h,z,J){if(J==null&&(J=null),e(typeof h=="string"),e((z&65535)===z),e(J===null||J!=null&&J._isBuffer===!0),e(!J||J.length===33),h.length===0)throw new Error("Invalid host (zero length).");if(h.length>255+1+5)throw new Error("Invalid host (too large).");let M=!1;for(let G=0;G<h.length;G++){const $=h.charCodeAt(G);switch($){case 58:M=!0;break;case 64:case 91:case 93:throw new Error("Bad host.");default:if($<32||$>126)throw new Error("Bad host.");break}}if(M&&Q.pton6(h,null,0)<0)throw new Error("Unexpected colon.");const X=g.getTypeString(h);X!==A.NONE&&(h=g.normalize(h));let B="";return J&&!J.equals(w)&&(B=`${oe.encode(J)}@`),X===A.INET6?`${B}[${h}]:${z}`:`${B}${h}:${z}`},g.fromHost=function(h,z,J){if(z==null&&(z=0),J==null&&(J=null),e(typeof h=="string"),e((z&65535)===z),e(J===null||J!=null&&J._isBuffer===!0),h.length===0)throw new Error("Invalid host (zero length).");if(h.length>53+1+255+1+5)throw new Error("Invalid host (too large).");if(J&&J.length!==33)throw new Error("Invalid fallback key (bad size).");let M=J,X="",B=null,G=!1;const $=h.indexOf("@");if($!==-1){const ke=h.substring(0,$),se=h.substring($+1);if(ke.length>53)throw new Error("Invalid identity key (too large).");if(M=oe.decode(ke),M.length!==33)throw new Error("Invalid identity key (bad size).");h=se}if(h[0]==="[")if(h[h.length-1]==="]")X=h.slice(1,-1),B=null,G=!0;else{const ke=h.indexOf("]:");if(ke===-1)throw new Error("IPv6 bracket mismatch.");X=h.substring(1,ke),B=h.substring(ke+2),G=!0}else{const ke=h.indexOf(":");if(ke!==-1){const se=h.substring(0,ke),ge=h.substring(ke+1);ge.indexOf(":")!==-1?(X=h,B=null,G=!0):(X=se,B=ge)}else X=h,B=null}if(X.length===0)throw new Error("Invalid host (zero length).");if(B!=null){let ke=0,se=0;for(let ge=0;ge<B.length;ge++){const ve=B.charCodeAt(ge);if(ve<48||ve>57)throw new Error("Invalid port (bad character).");if(se>0&&ke===0)throw new Error("Invalid port (leading zero).");if(ke*=10,ke+=ve-48,se+=1,se>5||ke>65535)throw new Error("Invalid port (overflow).")}if(se===0)throw new Error("Invalid port (bad size).");B=ke}else B=z;if(G&&Q.pton6(X,null,0)<0)throw new Error("Invalid IPv6 address.");let le=null,Ee=A.NONE,Ne;try{le=g.decode(X)}catch{}return le&&(X=g.encode(le),Ee=g.getType(le)),Ee===A.INET6?Ne=`[${X}]:${B}`:Ne=`${X}:${B}`,{host:X,port:B,type:Ee,hostname:Ne,raw:le,key:M}},g.getTypeString=function(h){if(e(typeof h=="string"),h.length===0||h.length>255)return A.NONE;if(P.isLegacyString(h))return A.ONION;if(Q.pton4(h,null,0)>=0)return A.INET4;const z=m;return Q.pton6(h,z,0)>=0?g.getType(z):A.NONE},g.isMappedString=function(h){const z=m;return!!(Q.pton6(h,z,0)>=0&&g.isMapped(z))},g.isIPv4String=function(h){return g.getTypeString(h)===A.INET4},g.isIPv6String=function(h){return g.getTypeString(h)===A.INET6},g.isOnionString=function(h){return g.getTypeString(h)===A.ONION},g.isUnknownString=function(h){return g.getTypeString(h)===A.NONE},g.isIPString=function(h){const z=g.getTypeString(h);switch(z){case A.INET4:case A.INET6:return z;default:return A.NONE}},g.isEqualString=function(h,z){const J=_,M=E;return g.write(J,h,0,16),g.write(M,z,0,16),J.equals(M)},g.maskString=function(h,z){const J=_,M=E;return g.write(J,h,0,16),g.write(M,z,0,16),g.mask(J,M,J),g.encode(J)},g.cidrString=function(h,z){const J=_;return g.write(J,h,0,16),g.cidr(J,z,J),g.encode(J)},g.getType=function(h){return g.isMapped(h)?A.INET4:g.isOnion(h)?A.ONION:A.INET6},g.isMapped=function(h){return e(h!=null&&h._isBuffer===!0),e(h.length===16),Q.mapped(h,0)},g.isIPv4=function(h){return g.isMapped(h)},g.isIPv6=function(h){return!g.isMapped(h)&&!g.isOnion(h)},g.isOnion=function(h){return e(h!=null&&h._isBuffer===!0),e(h.length===16),Q.onion(h,0)},g.isIP=function(h){return g.isIPv4(h)?A.INET4:g.isIPv6(h)?A.INET6:A.NONE},g.isEqual=function(h,z){return e(h!=null&&h._isBuffer===!0),e(z!=null&&z._isBuffer===!0),e(h.length===16),e(z.length===16),h.equals(z)},g.mask=function(o,h,z){z==null&&(z=_e.allocUnsafeSlow(16)),e(o!=null&&o._isBuffer===!0),e(h!=null&&h._isBuffer===!0),e(z!=null&&z._isBuffer===!0),e(o.length===16),e(h.length===16),e(z.length===16);const J=g.isMapped(o)?12:0;o!==z&&o.copy(z,0,0,16);for(let M=J;M<16;M++)z[M]=o[M]&h[M];return z},g.cidr=function(h,z,J){e(h!=null&&h._isBuffer===!0),e(h.length===16),e((z&255)===z);const M=m;let X=0,B=128;if(g.isMapped(h)&&(X=12,B=32,M.fill(0,0,10),M[10]=255,M[11]=255),z>B)throw new Error("Too many CIDR bits.");for(let G=X;G<16;G++){let $=8;z<8&&($=z),z-=$,M[G]=~(255>>$)&255}return g.mask(h,M,J)},g.isNull=function(h){return g.isIPv4(h)?h[12]===0&&h[13]===0&&h[14]===0&&h[15]===0:g.isEqual(h,u)},g.isBroadcast=function(h){return g.isIPv4(h)?h[12]===255&&h[13]===255&&h[14]===255&&h[15]===255:!1},g.isRFC1918=function(h){return g.isIPv4(h)?h[12]===10||h[12]===192&&h[13]===168||h[12]===172&&h[13]>=16&&h[13]<=31:!1},g.isRFC2544=function(h){return g.isIPv4(h)?h[12]===198&&(h[13]===18||h[13]===19):!1},g.isRFC3927=function(h){return g.isIPv4(h)?h[12]===169&&h[13]===254:!1},g.isRFC6598=function(h){return g.isIPv4(h)?h[12]===100&&h[13]>=64&&h[13]<=127:!1},g.isRFC5737=function(h){return g.isIPv4(h)?h[12]===192&&h[13]===0&&h[14]===2||h[12]===198&&h[13]===51&&h[14]===100||h[12]===203&&h[13]===0&&h[14]===113:!1},g.isRFC3849=function(h){return e(h!=null&&h._isBuffer===!0),e(h.length===16),h[0]===32&&h[1]===1&&h[2]===13&&h[3]===184},g.isRFC3964=function(h){return e(h!=null&&h._isBuffer===!0),e(h.length===16),h[0]===32&&h[1]===2},g.isRFC6052=function(h){return U(h,s)},g.isRFC4380=function(h){return e(h!=null&&h._isBuffer===!0),e(h.length===16),h[0]===32&&h[1]===1&&h[2]===0&&h[3]===0},g.isRFC4862=function(h){return U(h,n)},g.isRFC4193=function(h){return e(h!=null&&h._isBuffer===!0),e(h.length===16),(h[0]&254)===252},g.isRFC6145=function(h){return U(h,p)},g.isRFC4843=function(h){return e(h!=null&&h._isBuffer===!0),e(h.length===16),h[0]===32&&h[1]===1&&h[2]===0&&(h[3]&240)===16},g.isRFC7343=function(h){return e(h!=null&&h._isBuffer===!0),e(h.length===16),h[0]===32&&h[1]===1&&h[2]===0&&(h[3]&240)===32},g.isLocal=function(h){return g.isIPv4(h)?h[12]===127||h[12]===0:!!g.isEqual(h,a)},g.isMulticast=function(h){return g.isIPv4(h)?(h[12]&240)===224:h[0]===255},g.isValid=function(h){return!(U(h,v)||g.isNull(h)||g.isBroadcast(h)||g.isRFC3849(h))},g.isRoutable=function(h){return!(!g.isValid(h)||g.isRFC1918(h)||g.isRFC2544(h)||g.isRFC3927(h)||g.isRFC4862(h)||g.isRFC6598(h)||g.isRFC5737(h)||g.isRFC4193(h)&&!g.isOnion(h)||g.isRFC4843(h)||g.isRFC7343(h)||g.isLocal(h))},g.getNetwork=function(h){return g.isRoutable(h)?g.isIPv4(h)?y.INET4:g.isRFC4380(h)?y.TEREDO:g.isOnion(h)?y.ONION:y.INET6:y.NONE},g.getReachability=function(h,z){if(!g.isRoutable(h))return 0;const Ee=g.getNetwork(h);switch(g.getNetwork(z)){case y.INET4:switch(Ee){case y.INET4:return 4;default:return 1}case y.INET6:switch(Ee){case y.TEREDO:return 2;case y.INET4:return 4;case y.INET6:return g.isRFC3964(h)||g.isRFC6052(h)||g.isRFC6145(h)?3:5;default:return 1}case y.ONION:switch(Ee){case y.INET4:return 4;case y.ONION:return 6;default:return 1}case y.TEREDO:switch(Ee){case y.TEREDO:return 2;case y.INET6:return 3;case y.INET4:return 4;default:return 1}default:switch(Ee){case y.TEREDO:return 2;case y.INET6:return 3;case y.INET4:return 4;case y.ONION:return 6;default:return 1}}},g._interfaces=function(h,z){if(typeof S.networkInterfaces!="function")return[];e(h>>>0===h);const J=q(z),M=S.networkInterfaces(),X=[],B=m;for(const G of Object.keys(M)){const $=M[G];for(const le of $)if(!(J&&le.family!==J)){try{g.write(B,le.address,0,16)}catch{continue}if(!!g.isValid(B)){switch(z){case A.NONE:break;case A.INET4:{if(!g.isIPv4(B))continue;break}case A.INET6:{if(g.isIPv4(B))continue;break}}switch(h){case d:break;case T:{if(!g.isLocal(B))continue;break}case N:{if(g.isLocal(B))continue;break}case R:{if(g.isLocal(B)||g.isRoutable(B))continue;break}case O:{if(g.isLocal(B)||!g.isRoutable(B))continue;break}}X.push(g.encode(B))}}}return X},g.getInterfaces=function(h){return g._interfaces(d,k(h))},g.getLocal=function(h){return g._interfaces(T,k(h))},g.getNonlocal=function(h){return g._interfaces(N,k(h))},g.getPrivate=function(h){return g._interfaces(R,k(h))},g.getPublic=function(h){return g._interfaces(O,k(h))};function U(o,h){e(o!=null&&o._isBuffer===!0),e(h!=null&&h._isBuffer===!0),e(o.length>=h.length);for(let z=0;z<h.length;z++)if(o[z]!==h[z])return!1;return!0}function q(o){switch(e(o>>>0===o),o){case A.NONE:return null;case A.INET4:return"IPv4";case A.INET6:return"IPv6"}throw new Error(`Invalid address family: ${o}.`)}function k(o){if(o==null)return A.NONE;if(o>>>0===o)return o;switch(e(typeof o=="string"),e(o.length<=4),o.toLowerCase()){case"all":return A.NONE;case"ipv4":return A.INET4;case"ipv6":return A.INET6}throw new Error(`Invalid address family: ${o}.`)}g.type=g.getTypeString,g.family=g.isIPString,g.test=g.getTypeString,g.equal=g.isEqualString,A.NAME=0,A.DNS=0,A.IPV4=4,A.IPV6=6,g.toString=g.encode,g.toBuffer=g.decode,g.toMapped=g.map,g.isNameString=g.isUnknownString,g.hasPrefix=U,g.getStringType=g.getTypeString,g.isV4String=g.isIPv4String,g.isV6String=g.isIPv6String,g.isDNSString=g.isUnknownString,g.fromHostname=g.fromHost,g.toHostname=g.toHost,g.IP=g,g.ip=g,g.types=A,g.networks=y,g.ZERO_IP=u,g.ZERO_IPV6=u,g.ZERO_IPV4=H,g.onion=P,g.inet=Q}],["bpkg","/lib/builtins/os.js",function(f,Le,C,Fe,He,Ve){/*!
 * os-browserify@0.3.0
 * Copyright (c) 2019, CoderPuppy (MIT)
 * https://github.com/CoderPuppy/os-browserify#readme
 *
 * License for os-browserify@0.3.0:
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2017 CoderPuppy
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var e=f,S=Number(new Date),oe=9007199254740991,Q=typeof Int8Array=="function"?new Int8Array(new Int16Array([1]).buffer)[0]===0:!1;e.constants={},e.EOL=`
`,e.arch=function(){return"javascript"},e.cpus=function(){return[]},e.endianness=function(){return Q?"BE":"LE"},e.freemem=function(){return oe},e.getPriority=function(P){return 0},e.homedir=function(){return"/"},e.hostname=function(){return typeof location=="object"&&location!==null&&typeof location.hostname=="string"?location.hostname:"localhost"},e.loadavg=function(){return[0,0,0]},e.networkInterfaces=function(){return{}},e.getNetworkInterfaces=e.networkInterfaces,e.platform=function(){return"browser"},e.release=function(){return typeof navigator=="object"&&navigator!==null&&typeof navigator.appVersion=="string"?navigator.appVersion:""},e.setPriority=function(P,g){},e.tmpdir=function(){return"/tmp"},e.tmpDir=e.tmpdir,e.totalmem=function(){return oe},e.type=function(){return"Browser"},e.uptime=function(){var P=Number(new Date)-S;return P<0&&(S=Number(new Date),P=0),P/1e3},e.userInfo=function(P){return{uid:0,gid:0,username:"root",homedir:"/",shell:"/bin/sh"}}}],["bs32","/lib/bs32.js",function(f,Le,C,Fe,He,Ve){C.exports=ce(8,C)}],["bs32","/lib/base32.js",function(f,Le,C,Fe,He,Ve){/*!
 * base32.js - base32 for bcrypto
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on bitcoin/bitcoin:
 *   Copyright (c) 2009-2019, The Bitcoin Core Developers (MIT License).
 *   Copyright (c) 2009-2019, The Bitcoin Developers (MIT License).
 *   https://github.com/bitcoin/bitcoin
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc4648
 *   https://github.com/bitcoin/bitcoin/blob/11d486d/src/utilstrencodings.cpp#L230
 */const e=ce(2,C),S="abcdefghijklmnopqrstuvwxyz234567",oe=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1],Q="0123456789abcdefghijklmnopqrstuv",P=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,-1,-1,-1,-1,-1,-1,-1,-1,-1],g=[0,6,4,3,1];function u(w,m=!1){return a(w,S,m)}function H(w,m=!1){return a(w,Q,m)}function a(w,m,_=!1){e(w!=null&&w._isBuffer===!0),e(typeof _=="boolean");let E="",d=0,T=0;for(let N=0;N<w.length;N++){const R=w[N];switch(d){case 0:E+=m[R>>>3],T=(R&7)<<2,d=1;break;case 1:E+=m[T|R>>>6],E+=m[R>>>1&31],T=(R&1)<<4,d=2;break;case 2:E+=m[T|R>>>4],T=(R&15)<<1,d=3;break;case 3:E+=m[T|R>>>7],E+=m[R>>>2&31],T=(R&3)<<3,d=4;break;case 4:E+=m[T|R>>>5],E+=m[R&31],d=0;break}}if(d>0&&(E+=m[T],_))for(let N=0;N<g[d];N++)E+="=";return E}function s(w,m=!1){return p(w,oe,m)}function n(w,m=!1){return p(w,P,m)}function p(w,m,_){e(typeof w=="string"),e(typeof _=="boolean");const E=_e.allocUnsafe((w.length*5+7)/8|0);let d=0,T=0,N=0,R=0;for(;R<w.length;R++){const O=w.charCodeAt(R),A=O&65408?-1:m[O];if(A===-1)break;switch(d){case 0:T=A,d=1;break;case 1:E[N++]=T<<3|A>>>2,T=A&3,d=2;break;case 2:T=T<<5|A,d=3;break;case 3:E[N++]=T<<1|A>>>4,T=A&15,d=4;break;case 4:E[N++]=T<<4|A>>>1,T=A&1,d=5;break;case 5:T=T<<5|A,d=6;break;case 6:E[N++]=T<<2|A>>>3,T=A&7,d=7;break;case 7:E[N++]=T<<5|A,T=0,d=0;break}}if(d===1||d===3||d===6)throw new Error("Invalid base32 string.");if(T>0)throw new Error("Invalid base32 string.");if(w.length!==R+(-d&7)*_)throw new Error("Invalid base32 string.");for(;R<w.length;R++)if(w.charCodeAt(R)!==61)throw new Error("Invalid base32 string.");return E.slice(0,N)}function v(w,m=!1){try{return s(w,m),!0}catch{return!1}}function K(w,m=!1){try{return n(w,m),!0}catch{return!1}}f.encode=u,f.encodeHex=H,f.decode=s,f.decodeHex=n,f.test=v,f.testHex=K}],["binet","/lib/inet.js",function(f,Le,C,Fe,He,Ve){/*!
 * inet.js - inet pton/ntop for bcoin
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 *
 * Parts of this software are based on c-ares:
 *   Copyright (c) 2007-2018, Daniel Stenberg (MIT License)
 *   https://github.com/c-ares/c-ares
 *   https://github.com/c-ares/c-ares/blob/master/inet_net_pton.c
 *   https://github.com/c-ares/c-ares/blob/master/inet_ntop.c
 */const e=ce(2,C),S=1,oe=2,Q=_e.allocUnsafe(16),P=_e.allocUnsafe(16),g=new Uint16Array(16/2),u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],H=new Int8Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);function a(k,o,h){o==null&&(o=null),h==null&&(h=0),e(typeof k=="string"),e(o===null||o!=null&&o._isBuffer===!0),e(h>>>0===h);const z=h;let J=0,M=-1,X=-1;if(o&&h+4>o.length)return-S;if(O(k,J)){J+=2;let $=0,le=0,Ee=0;for(;J<k.length;J++){M=d(k,J);const Ne=H[M];if(Ne===-1)break;if($===0?le=Ne:le=le<<4|Ne,Ee+=1,$+=1,Ee>8)return-S;if($===2){if(h+1-z>4)return-oe;o&&(o[h]=le),X===-1&&(X=le),h+=1,$=0}M=-1}if($){if(h+1-z>4)return-oe;o&&(o[h]=le<<4),X===-1&&(X=le<<4),h+=1}}else if(R(k,J)){let $=0;for(;;){let le=0,Ee=0;for(;J<k.length&&(M=d(k,J),!(M<48||M>57));J++){if(le*=10,le+=M-48,Ee+=1,Ee>3||le>255)return-S;M=-1}if($+=Ee,$>12)return-S;if(h+1-z>4)return-oe;if(o&&(o[h]=le),X===-1&&(X=le),h+=1,M===-1||M===47)break;if(M!==46||(J+=1,M=d(k,J),M<48||M>57))return-S}}else return-S;let B=-1;if(A(k,J)&&h>z){J+=1,B=0,M=-1;let $=0;for(;J<k.length&&(M=d(k,J),!(M<48||M>57));J++){if(B*=10,B+=M-48,$+=1,$>3||B>32)return-S;M=-1}}if(M!==-1||h===z)return-S;B===-1&&(e(X!==-1),X>=240?B=32:X>=224?B=8:X>=192?B=24:X>=128?B=16:B=8,B<(h-z)*8&&(B=(h-z)*8),B===8&&X===224&&(B=4)),e(B<=32);const G=4-(h-z);return e(G>=0&&G<=4),o&&(e(h+G<=o.length),o.fill(0,h,h+G)),h+=G,B}function s(k,o,h){o==null&&(o=null),h==null&&(h=0),e(typeof k=="string"),e(o===null||o!=null&&o._isBuffer===!0),e(h>>>0===h);const z=Q;let J=0,M=0,X=16,B=-1,G=0,$=!1,le=0,Ee=0,Ne=-1,ke=!1;if(o&&h+16>o.length)return-oe;if(y(k,J)){if(!y(k,J+1))return-S;J+=1}for(z.fill(0,0,16),G=J;J<k.length;J++){const Ue=d(k,J),re=H[Ue];if(re!==-1){if(le<<=4,le|=re,Ee+=1,Ee>4)return-S;$=!0;continue}if(Ue===58){if(G=J+1,!$){if(B!==-1)return-S;B=M;continue}if(J===k.length||M+2>X)return-S;z[M++]=le>>>8&255,z[M++]=le&255,$=!1,Ee=0,le=0;continue}if(Ue===46&&M+4<=X){const Re=q(k,G,z,M);if(Re!==-1){Re!==0&&(Ne=Re),M+=4,$=!1,ke=!0;break}}if(Ue===47){const Re=U(k,J+1);if(Re!==-1){Ne=Re;break}}return-S}if($){if(M+2>X)return-S;z[M++]=le>>>8&255,z[M++]=le&255}Ne===-1&&(Ne=128),e(Ne<=128);let se=(Ne+15)/16|0;if(se<2&&(se=2),ke&&(se=8),X=2*se,B!==-1){const Ue=M-B;let re;if(M===X)return-S;for(re=1;re<=Ue;re++)z[X-re]=z[B+Ue-re],z[B+Ue-re]=0;M=X}if(M!==X)return-S;const ge=(Ne+7)/8|0,ve=16-ge;return e(ge>=0&&ge<=16),o?(e(h+ge+ve<=o.length),h+=z.copy(o,h,0,ge),o.fill(0,h,h+ve),h+=ve):(h+=ge,h+=ve),Ne}function n(k,o,h,z){return h==null&&(h=null),z==null&&(z=0),e(k>>>0===k),e(typeof o=="string"),e(h===null||h!=null&&h._isBuffer===!0),e(z>>>0===z),k===4?a(o,h,z):k===6?s(o,h,z):-S}function p(k,o){if(o==null&&(o=0),e(k!=null&&k._isBuffer===!0),e(o>>>0===o),o+4>k.length)return"";let h="";return h+=T(k[o+0]),h+=".",h+=T(k[o+1]),h+=".",h+=T(k[o+2]),h+=".",h+=T(k[o+3]),h}function v(k,o){if(o==null&&(o=0),e(k!=null&&k._isBuffer===!0),e(o>>>0===o),o+16>k.length)return"";let h=-1,z=0,J=-1,M=0,X="";const B=g;for(let G=0;G<16;G++)B[G]=0;for(let G=0;G<16;G++)B[G>>>1]|=k[o+G]<<(1-(G&1)<<3);for(let G=0;G<16/2;G++)B[G]===0?J===-1?(J=G,M=1):M+=1:J!==-1&&((h===-1||M>z)&&(h=J,z=M),J=-1);J!==-1&&(h===-1||M>z)&&(h=J,z=M),h!==-1&&z<2&&(h=-1);for(let G=0;G<16/2;G++){if(h!==-1&&G>=h&&G<h+z){G===h&&(X+=":");continue}if(G!==0&&(X+=":"),G===6&&h===0&&(z===6||z===7&&B[7]!==1||z===5&&B[5]===65535)){const $=p(k,o+12);if(!$)return"";X+=$;break}X+=N(B[G])}return h!==-1&&h+z===16/2&&(X+=":"),X}function K(k,o,h){return h==null&&(h=0),e(k>>>0===k),e(o!=null&&o._isBuffer===!0),e(h>>>0===h),k===4?p(o,h):k===6?v(o,h):""}function w(k){return a(k,null,0)>=0?4:s(k,null,0)>=0?6:0}function m(k,o){return o==null&&(o=0),e(k!=null&&k._isBuffer===!0),e(o>>>0===o),o+12>k.length?!1:k[o++]===0&&k[o++]===0&&k[o++]===0&&k[o++]===0&&k[o++]===0&&k[o++]===0&&k[o++]===0&&k[o++]===0&&k[o++]===0&&k[o++]===0&&k[o++]===255&&k[o++]===255}function _(k,o){return o==null&&(o=0),e(k!=null&&k._isBuffer===!0),e(o>>>0===o),o+6>k.length?!1:k[o++]===253&&k[o++]===135&&k[o++]===216&&k[o++]===126&&k[o++]===235&&k[o++]===67}function E(k){const o=P;return a(k,o,0)>=0?p(o,0):s(k,o,0)>=0?v(o,0):""}function d(k,o){const h=k.charCodeAt(o);return h&65408?0:h}function T(k,o){return k.toString(10)}function N(k){let o="";for(let h=3;h>=0;h--){const z=k>>>h*4&15;z===0&&o.length===0||(o+=u[z])}return o.length===0&&(o+=u[0]),o}function R(k,o){if(o+1>k.length)return!1;const h=d(k,o);return h>=48&&h<=57}function O(k,o){if(o+3>k.length||d(k,o)!==48)return!1;const z=d(k,o+1);if(z!==88&&z!==120)return!1;const J=d(k,o+2);return H[J]!==-1}function A(k,o){if(o+2>k.length||d(k,o)!==47)return!1;const z=d(k,o+1);return!(z<48||z>57)}function y(k,o){return o+1>k.length?!1:d(k,o)===58}function U(k,o){let h=0,z=0;for(;o<k.length;o++){const J=d(k,o);if(J<48||J>57||z>0&&h===0||(h*=10,h+=J-48,z+=1,z>3||h>128))return-1}return z===0?-1:h}function q(k,o,h,z){const J=z;let M=0,X=0;for(;o<k.length;o++){const B=d(k,o);if(B>=48&&B<=57){if(X>0&&M===0||(M*=10,M+=B-48,X+=1,X>3||M>255))return-1;continue}if(B===46||B===47){if(z-J>3)return-1;if(h){if(z+1>h.length)return-1;h[z]=M}if(z+=1,B===47)return U(k,o+1);M=0,X=0;continue}return-1}if(X===0||z-J>3)return-1;if(h){if(z+1>h.length)return-1;h[z]=M}return z+=1,0}f.pton4=a,f.pton6=s,f.pton=n,f.ntop4=p,f.ntop6=v,f.ntop=K,f.family=w,f.mapped=m,f.onion=_,f.normalize=E}],["binet","/lib/onion.js",function(f,Le,C,Fe,He,Ve){/*!
 * onion.js - onion utils for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License).
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 *
 * Parts of this software are based on node-ip.
 * https://github.com/indutny/node-ip
 * Copyright (c) 2012, Fedor Indutny (MIT License).
 */const e=ce(2,C),S=ce(7,C),oe=f;oe.isString=function(u){return oe.isLegacyString(u)||oe.isNGString(u)},oe.is=function(u){return oe.isLegacy(u)||oe.isNG(u)},oe.encode=function(u,H){if(oe.isLegacy(u))return oe.encodeLegacy(u);if(oe.isNG(u))return oe.encodeNG(u,H);throw new Error("Not an onion buffer.")},oe.decode=function(u,H){if(oe.isLegacyString(u))return oe.decodeLegacy(u);if(oe.isNGString(u))return oe.decodeNG(u,H);throw new Error("Not an onion string.")},oe.normalize=function(u,H){if(oe.isLegacyString(u))return oe.normalizeLegacy(u);if(oe.isNGString(u))return oe.normalizeNG(u,H);throw new Error("Not an onion string.")},oe.isLegacyString=function(u){return e(typeof u=="string"),u.length!==16+6?!1:u.slice(-6).toLowerCase()===".onion"},oe.isLegacy=function(u){return e(u!=null&&u._isBuffer===!0),u.length===10},oe.encodeLegacy=function(u){return e(oe.isLegacy(u)),`${S.encode(u)}.onion`},oe.decodeLegacy=function(u){e(oe.isLegacyString(u));const H=S.decode(u.slice(0,-6));return e(H.length===10,"Invalid onion address."),H},oe.normalizeLegacy=function(u){return oe.encodeLegacy(oe.decodeLegacy(u))},oe.isNGString=function(u){return e(typeof u=="string"),u.length!==56+6?!1:u.slice(-6).toLowerCase()===".onion"},oe.isNG=function(u){return e(u!=null&&u._isBuffer===!0),u.length===33},oe.encodeNG=function(u,H){e(u!=null&&u._isBuffer===!0),e(u.length===33);const a=_e.alloc(32+2+1);u.copy(a,0,1,33);const s=Q(u,H);return a[32]=s>>>8,a[33]=s&255,a[34]=u[0],`${S.encode(a)}.onion`},oe.decodeNG=function(u,H){e(oe.isNGString(u),"Invalid onion address.");const a=S.decode(u.slice(0,-6));e(a.length===35,"Invalid onion address.");const s=_e.alloc(1+32);return s[0]=a[34],a.copy(s,1,0,32),e(P(s,a,H),"Invalid checksum for onion address."),s},oe.normalizeNG=function(u,H){return oe.encodeNG(oe.decodeNG(u,H),H)};function Q(g,u){if(e(g!=null&&g._isBuffer===!0),e(g.length===33),u==null)return 0;e(typeof u=="function");const H=_e.alloc(15+32+1);return H.write(".onion checksum",0,15,"ascii"),g.copy(H,15,1,33),H[47]=g[0],u(H).readUInt16BE(0)}function P(g,u,H){return e(u!=null&&u._isBuffer===!0),e(u.length===35),H==null?!0:u.readUInt16BE(32)===Q(g,H)}}],["bns-plus","/lib/constants.js",function(f,Le,C,Fe,He,Ve){/*!
 * constants.js - constants for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns and golang/go:
 *   https://github.com/miekg/dns/blob/master/msg.go
 *   https://github.com/miekg/dns/blob/master/types.go
 *   https://github.com/golang/go/blob/master/src/net/dnsmsg.go
 *
 * Resources:
 *   https://www.iana.org/assignments/dns-parameters/dns-parameters.xhtml
 */const e={QUERY:0,IQUERY:1,STATUS:2,NOTIFY:4,UPDATE:5},S={[e.QUERY]:"QUERY",[e.IQUERY]:"IQUERY",[e.STATUS]:"STATUS",[e.NOTIFY]:"NOTIFY",[e.UPDATE]:"UPDATE"},oe={QR:1<<15,AA:1<<10,TC:1<<9,RD:1<<8,RA:1<<7,Z:1<<6,AD:1<<5,CD:1<<4},Q={[oe.QR]:"QR",[oe.AA]:"AA",[oe.TC]:"TC",[oe.RD]:"RD",[oe.RA]:"RA",[oe.Z]:"Z",[oe.AD]:"AD",[oe.CD]:"CD"},P={NOERROR:0,SUCCESS:0,FORMERR:1,SERVFAIL:2,NXDOMAIN:3,NOTIMP:4,REFUSED:5,YXDOMAIN:6,YXRRSET:7,NXRRSET:8,NOTAUTH:9,NOTZONE:10,BADSIG:16,BADVERS:16,BADKEY:17,BADTIME:18,BADMODE:19,BADNAME:20,BADALG:21,BADTRUNC:22,BADCOOKIE:23,RESERVED:65535},g={[P.NOERROR]:"NOERROR",[P.FORMERR]:"FORMERR",[P.SERVFAIL]:"SERVFAIL",[P.NXDOMAIN]:"NXDOMAIN",[P.NOTIMP]:"NOTIMP",[P.REFUSED]:"REFUSED",[P.YXDOMAIN]:"YXDOMAIN",[P.YXRRSET]:"YXRRSET",[P.NXRRSET]:"NXRRSET",[P.NOTAUTH]:"NOTAUTH",[P.NOTZONE]:"NOTZONE",[P.BADVERS]:"BADVERS",[P.BADKEY]:"BADKEY",[P.BADTIME]:"BADTIME",[P.BADMODE]:"BADMODE",[P.BADNAME]:"BADNAME",[P.BADALG]:"BADALG",[P.BADTRUNC]:"BADTRUNC",[P.BADCOOKIE]:"BADCOOKIE",[P.RESERVED]:"RESERVED"},u={UNKNOWN:0,A:1,NS:2,MD:3,MF:4,CNAME:5,SOA:6,MB:7,MG:8,MR:9,NULL:10,WKS:11,PTR:12,HINFO:13,MINFO:14,MX:15,TXT:16,RP:17,AFSDB:18,X25:19,ISDN:20,RT:21,NSAP:22,NSAPPTR:23,SIG:24,KEY:25,PX:26,GPOS:27,AAAA:28,LOC:29,NXT:30,EID:31,NIMLOC:32,SRV:33,ATMA:34,NAPTR:35,KX:36,CERT:37,A6:38,DNAME:39,SINK:40,OPT:41,APL:42,DS:43,SSHFP:44,IPSECKEY:45,RRSIG:46,NSEC:47,DNSKEY:48,DHCID:49,NSEC3:50,NSEC3PARAM:51,TLSA:52,SMIMEA:53,HIP:55,NINFO:56,RKEY:57,TALINK:58,CDS:59,CDNSKEY:60,OPENPGPKEY:61,CSYNC:62,SPF:99,UINFO:100,UID:101,GID:102,UNSPEC:103,NID:104,L32:105,L64:106,LP:107,EUI48:108,EUI64:109,TKEY:249,TSIG:250,IXFR:251,AXFR:252,MAILB:253,MAILA:254,ANY:255,URI:256,CAA:257,AVC:258,DOA:259,TA:32768,DLV:32769,RESERVED:65535},H={[u.UNKNOWN]:"UNKNOWN",[u.A]:"A",[u.NS]:"NS",[u.MD]:"MD",[u.MF]:"MF",[u.CNAME]:"CNAME",[u.SOA]:"SOA",[u.MB]:"MB",[u.MG]:"MG",[u.MR]:"MR",[u.NULL]:"NULL",[u.WKS]:"WKS",[u.PTR]:"PTR",[u.HINFO]:"HINFO",[u.MINFO]:"MINFO",[u.MX]:"MX",[u.TXT]:"TXT",[u.RP]:"RP",[u.AFSDB]:"AFSDB",[u.X25]:"X25",[u.ISDN]:"ISDN",[u.RT]:"RT",[u.NSAP]:"NSAP",[u.NSAPPTR]:"NSAPPTR",[u.SIG]:"SIG",[u.KEY]:"KEY",[u.PX]:"PX",[u.GPOS]:"GPOS",[u.AAAA]:"AAAA",[u.LOC]:"LOC",[u.NXT]:"NXT",[u.EID]:"EID",[u.NIMLOC]:"NIMLOC",[u.SRV]:"SRV",[u.ATMA]:"ATMA",[u.NAPTR]:"NAPTR",[u.KX]:"KX",[u.CERT]:"CERT",[u.A6]:"A6",[u.DNAME]:"DNAME",[u.SINK]:"SINK",[u.OPT]:"OPT",[u.APL]:"APL",[u.DS]:"DS",[u.SSHFP]:"SSHFP",[u.IPSECKEY]:"IPSECKEY",[u.RRSIG]:"RRSIG",[u.NSEC]:"NSEC",[u.DNSKEY]:"DNSKEY",[u.DHCID]:"DHCID",[u.NSEC3]:"NSEC3",[u.NSEC3PARAM]:"NSEC3PARAM",[u.TLSA]:"TLSA",[u.SMIMEA]:"SMIMEA",[u.HIP]:"HIP",[u.NINFO]:"NINFO",[u.RKEY]:"RKEY",[u.TALINK]:"TALINK",[u.CDS]:"CDS",[u.CDNSKEY]:"CDNSKEY",[u.OPENPGPKEY]:"OPENPGPKEY",[u.CSYNC]:"CSYNC",[u.SPF]:"SPF",[u.UINFO]:"UINFO",[u.UID]:"UID",[u.GID]:"GID",[u.UNSPEC]:"UNSPEC",[u.NID]:"NID",[u.L32]:"L32",[u.L64]:"L64",[u.LP]:"LP",[u.EUI48]:"EUI48",[u.EUI64]:"EUI64",[u.TKEY]:"TKEY",[u.TSIG]:"TSIG",[u.IXFR]:"IXFR",[u.AXFR]:"AXFR",[u.MAILB]:"MAILB",[u.MAILA]:"MAILA",[u.URI]:"URI",[u.CAA]:"CAA",[u.AVC]:"AVC",[u.DOA]:"DOA",[u.ANY]:"ANY",[u.TA]:"TA",[u.DLV]:"DLV",[u.RESERVED]:"RESERVED"},a={RESERVED0:0,IN:1,CH:3,HS:4,NONE:254,ANY:255,RESERVED65535:65535},s={[a.RESERVED0]:"RESERVED0",[a.IN]:"IN",[a.CH]:"CH",[a.HS]:"HS",[a.NONE]:"NONE",[a.ANY]:"ANY",[a.RESERVED65535]:"RESERVED65535"},n={DO:1<<15},p={[n.DO]:"DO"},v={RESERVED:0,LLQ:1,UL:2,NSID:3,DAU:5,DHU:6,N3U:7,SUBNET:8,EXPIRE:9,COOKIE:10,TCPKEEPALIVE:11,PADDING:12,CHAIN:13,KEYTAG:14,LOCAL:65001,LOCALSTART:65001,LOCALEND:65534},K={[v.RESERVED]:"RESERVED",[v.LLQ]:"LLQ",[v.UL]:"UL",[v.NSID]:"NSID",[v.DAU]:"DAU",[v.DHU]:"DHU",[v.N3U]:"N3U",[v.SUBNET]:"SUBNET",[v.EXPIRE]:"EXPIRE",[v.COOKIE]:"COOKIE",[v.TCPKEEPALIVE]:"TCPKEEPALIVE",[v.PADDING]:"PADDING",[v.CHAIN]:"CHAIN",[v.KEYTAG]:"KEYTAG",[v.LOCAL]:"LOCAL"},w={KSK:1<<0,SEP:1<<0,REVOKE:1<<7,ZONE:1<<8},m={RSAMD5:1,DH:2,DSA:3,ECC:4,RSASHA1:5,DSANSEC3SHA1:6,RSASHA1NSEC3SHA1:7,RSASHA256:8,RSASHA512:10,ECCGOST:12,ECDSAP256SHA256:13,ECDSAP384SHA384:14,ED25519:15,ED448:16,INDIRECT:252,PRIVATEDNS:253,PRIVATEOID:254},_={[m.RSAMD5]:"RSAMD5",[m.DH]:"DH",[m.DSA]:"DSA",[m.ECC]:"ECC",[m.RSASHA1]:"RSASHA1",[m.DSANSEC3SHA1]:"DSANSEC3SHA1",[m.RSASHA1NSEC3SHA1]:"RSASHA1NSEC3SHA1",[m.RSASHA256]:"RSASHA256",[m.RSASHA512]:"RSASHA512",[m.ECCGOST]:"ECCGOST",[m.ECDSAP256SHA256]:"ECDSAP256SHA256",[m.ECDSAP384SHA384]:"ECDSAP384SHA384",[m.ED25519]:"ED25519",[m.ED448]:"ED448",[m.INDIRECT]:"INDIRECT",[m.PRIVATEDNS]:"PRIVATEDNS",[m.PRIVATEOID]:"PRIVATEOID"},E={SHA1:1,SHA256:2,GOST94:3,SHA384:4,SHA512:5},d={[E.SHA1]:"SHA1",[E.SHA256]:"SHA256",[E.GOST94]:"GOST94",[E.SHA384]:"SHA384",[E.SHA512]:"SHA512"},T={[m.RSAMD5]:null,[m.DSA]:E.SHA1,[m.RSASHA1]:E.SHA1,[m.DSANSEC3SHA1]:E.SHA1,[m.RSASHA1NSEC3SHA1]:E.SHA1,[m.RSASHA256]:E.SHA256,[m.ECDSAP256SHA256]:E.SHA256,[m.ECDSAP384SHA384]:E.SHA384,[m.RSASHA512]:E.SHA512,[m.ED25519]:null,[m.ED448]:null},N={SHA1:1},R={[N.SHA1]:"SHA1"},O={PKIX:1,SPKI:2,PGP:3,IPKIX:4,ISPKI:5,IPGP:6,ACPKIX:7,IACPKIX:8,URI:253,OID:254},A={[O.PKIX]:"PKIX",[O.SPKI]:"SPKI",[O.PGP]:"PGP",[O.IPKIX]:"IPKIX",[O.ISPKI]:"ISPKI",[O.IPGP]:"IPGP",[O.ACPKIX]:"ACPKIX",[O.IACPKIX]:"IACPKIX",[O.URI]:"URI",[O.OID]:"OID"},y={CAC:0,SCC:1,TAA:2,DIC:3,PRIVATE:255},U={[y.CAC]:"CAC",[y.SCC]:"SCC",[y.TAA]:"TAA",[y.DIC]:"DIC",[y.PRIVATE]:"PRIVATE"},q={FULL:0,SPKI:1,PRIVATE:255},k={[q.FULL]:"FULL",[q.SPKI]:"SPKI",[q.PRIVATE]:"PRIVATE"},o={NONE:0,SHA256:1,SHA512:2,PRIVATE:255},h={[o.NONE]:"NONE",[o.SHA256]:"SHA256",[o.SHA512]:"SHA512",[o.PRIVATE]:"PRIVATE"},z={RSA:1,DSA:2,ECDSA:3,ED25519:4},J={[z.RSA]:"RSA",[z.DSA]:"DSA",[z.ECDSA]:"ECDSA",[z.ED25519]:"ED25519"},M={SHA1:1,SHA256:2},X={[M.SHA1]:"SHA1",[M.SHA256]:"SHA256"},B={MD5:"hmac-md5.sig-alg.reg.int.",SHA1:"hmac-sha1.",SHA256:"hmac-sha256.",SHA512:"hmac-sha512."},G={[B.MD5]:"MD5",[B.SHA1]:"SHA1",[B.SHA256]:"SHA256",[B.SHA512]:"SHA512"},$={RESERVED:0,SERVER:1,DH:2,GSS:3,RESOLVER:4,DELETE:5},le={[$.RESERVED]:"RESERVED",[$.SERVER]:"SERVER",[$.DH]:"DH",[$.GSS]:"GSS",[$.RESOLVER]:"RESOLVER",[$.DELETE]:"DELETE"},Ee=1<<31>>>0,Ne=1<<31>>>0,ke=1<<31>>>0,se=60*1e3,ge=60*se,ve=1e5,Ue=255,re=63,Re=512,r=1280,c=4096,b=65535,V=53,ie=3600,L=". 172800 IN DS 19036 8 2 49AAC11D7B6F6446702E54A1607371607A1A41855200FD2CE1CDDE32F24E8FB5",x=". 172800 IN DS 20326 8 2 E06D44B80B8F1D39A95C0B0D7C65D08458E880409BBC683457104237C7F8EC8D",j="arpa. 86400 IN DS 42581 8 2 F28391C1ED4DC0F151EDD251A3103DCE0B9A5A251ACF6E24073771D71F3C40F9";function t(qe,Ye,$e,Ge,Qe,tt){if(typeof qe!="number")throw new Error(`'${Ye}' must be a number.`);if((qe&Qe)!==qe)throw new Error(`Invalid ${Ye}: ${qe}.`);const nt=$e[qe];return typeof nt=="string"?nt:`${Ge}${qe.toString(10)}`}function l(qe,Ye,$e,Ge,Qe,tt){if(typeof qe!="string")throw new Error(`'${Ye}' must be a string.`);if(qe.length>64)throw new Error(`Unknown ${Ye}.`);const nt=$e[qe];if(typeof nt=="number")return nt;if(qe.length<=Ge.length)throw new Error(`Unknown ${Ye}: ${qe}.`);if(qe.substring(0,Ge.length)!==Ge)throw new Error(`Unknown ${Ye}: ${qe}.`);if(qe.length>Ge.length+tt)throw new Error(`Unknown ${Ye}: ${qe}.`);let Xe=0;for(let ot=Ge.length;ot<qe.length;ot++){const yt=qe.charCodeAt(ot)-48;if(yt<0||yt>9)throw new Error(`Unknown ${Ye}: ${qe}.`);if(Xe*=10,Xe+=yt,Xe>Qe)throw new Error(`Unknown ${Ye}: ${qe}.`)}return Xe}function I(qe,Ye,$e,Ge,Qe,tt){if(typeof qe!="string")throw new Error(`'${Ye}' must be a string.`);try{return l(qe,Ye,$e,Ge,Qe,tt),!0}catch{return!1}}function Y(qe){return t(qe,"opcode",S,"OPCODE",15)}function Z(qe){return l(qe,"opcode",e,"OPCODE",15,2)}function W(qe){return I(qe,"opcode",e,"OPCODE",15,2)}function ue(qe){return t(qe,"code",g,"RCODE",15)}function pe(qe){return l(qe,"code",P,"RCODE",4095,4)}function Ie(qe){return I(qe,"code",P,"RCODE",4095,4)}function te(qe){return t(qe,"type",H,"TYPE",65535)}function D(qe){return l(qe,"type",u,"TYPE",65535,5)}function F(qe){return I(qe,"type",u,"TYPE",65535,5)}function he(qe){return t(qe,"class",s,"CLASS",65535)}function we(qe){return l(qe,"class",a,"CLASS",65535,5)}function Me(qe){return I(qe,"class",a,"CLASS",65535,5)}function de(qe){return t(qe,"option",K,"OPTION",65535)}function Se(qe){return l(qe,"option",v,"OPTION",65535,5)}function ye(qe){return I(qe,"option",v,"OPTION",65535,5)}function me(qe){return t(qe,"algorithm",_,"ALG",255)}function Te(qe){return l(qe,"algorithm",m,"ALG",255,3)}function xe(qe){return I(qe,"algorithm",m,"ALG",255,3)}function Pe(qe){return t(qe,"hash",d,"HASH",255)}function Ce(qe){return l(qe,"hash",E,"HASH",255,3)}function Ke(qe){return I(qe,"hash",E,"HASH",255,3)}f.opcodes=e,f.opcodesByVal=S,f.flags=oe,f.flagsByVal=Q,f.codes=P,f.codesByVal=g,f.types=u,f.typesByVal=H,f.classes=a,f.classesByVal=s,f.eflags=n,f.eflagsByVal=p,f.options=v,f.optionsByVal=K,f.keyFlags=w,f.algs=m,f.algsByVal=_,f.hashes=E,f.hashesByVal=d,f.algHashes=T,f.nsecHashes=N,f.nsecHashesByVal=R,f.certTypes=O,f.certTypesByVal=A,f.usages=y,f.usagesByVal=U,f.selectors=q,f.selectorsByVal=k,f.matchingTypes=o,f.matchingTypesByVal=h,f.sshAlgs=z,f.sshAlgsByVal=J,f.sshHashes=M,f.sshHashesByVal=X,f.tsigAlgs=B,f.tsigAlgsByVal=G,f.tkeyModes=$,f.tkeyModesByVal=le,f.YEAR68=Ee,f.LOC_EQUATOR=Ne,f.LOC_PRIMEMERIDIAN=ke,f.LOC_HOURS=se,f.LOC_DEGREES=ge,f.LOC_ALTITUDEBASE=ve,f.MAX_NAME_SIZE=Ue,f.MAX_LABEL_SIZE=re,f.MAX_UDP_SIZE=Re,f.STD_EDNS_SIZE=r,f.MAX_EDNS_SIZE=c,f.MAX_MSG_SIZE=b,f.DNS_PORT=V,f.DEFAULT_TTL=ie,f.KSK_2010=L,f.KSK_2017=x,f.KSK_ARPA=j,f.opcodeToString=Y,f.stringToOpcode=Z,f.isOpcodeString=W,f.codeToString=ue,f.stringToCode=pe,f.isCodeString=Ie,f.typeToString=te,f.stringToType=D,f.isTypeString=F,f.classToString=he,f.stringToClass=we,f.isClassString=Me,f.optionToString=de,f.stringToOption=Se,f.isOptionString=ye,f.algToString=me,f.stringToAlg=Te,f.isAlgString=xe,f.hashToString=Pe,f.stringToHash=Ce,f.isHashString=Ke,f._toSymbol=t,f._fromSymbol=l,f._isSymbol=I}],["bns-plus","/lib/dane.js",function(f,Le,C,Fe,He,Ve){/*!
 * dane.js - DANE for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns:
 *   https://github.com/miekg/dns/blob/master/dane.go
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc6698
 */const e=ce(2,C),S=ce(11,C),oe=ce(13,C),Q=ce(79,C),{usages:P,usagesByVal:g,selectors:u,selectorsByVal:H,matchingTypes:a,matchingTypesByVal:s}=S,n=f;n.select=function(R,O){switch(e(R!=null&&R._isBuffer===!0),e((O&255)===O),O){case u.FULL:return p(R);case u.SPKI:return v(R)}return null},n.hash=function(R,O){switch(e(R!=null&&R._isBuffer===!0),e((O&255)===O),O){case a.NONE:return R;case a.SHA256:return oe.sha256.digest(R);case a.SHA512:return oe.sha512.digest(R)}return null},n.sign=function(R,O,A){const y=n.select(R,O);if(!y)return null;const U=n.hash(y,A);return U||null},n.verify=function(R,O,A,y){const U=n.sign(R,O,A);return U?U.equals(y):!1},n.encodeEmail=function(R,O,A){e(typeof R=="string"),e(R.length>=3&&R.length<=320);const y=R.indexOf("@");e(y!==-1);const U=R.substring(0,y),q=R.substring(y+1);return n.encodeName(q,O,U,A)},n.hashLocal=function(R,O,A){O==null&&(O=256),A==null&&(A=null),e(typeof R=="string"),e(R.length<=64),e(R.indexOf("@")===-1),e(typeof O=="number"),e(O===224||O===256),e(A===null||A==="hex");const y=_e.from(R,"utf8"),U=O===224?oe.sha224.digest(y):oe.sha256.digest(y);return A==="hex"?U.toString("hex",0,28):U.slice(0,28)},n.encodeName=function(R,O,A,y){e(Q.isName(R)),e(R.length===0||R[0]!=="_"),e(Q.isName(O)),e(O.length>=1&&O.length<=62),e(O[0]!=="_"),e(O.indexOf(".")===-1),R==="."&&(R="");const U=n.hashLocal(A,y,"hex"),q=Q.fqdn(`${U}._${O}.${R}`);return e(Q.isName(q)),q},n.decodeName=function(R,O){e(Q.isName(R)),e(Q.isName(O)),e(O.length>=1&&O.length<=62),e(O[0]!=="_"),e(O.indexOf(".")===-1);const A=Q.split(R);e(A.length>=3);const y=Q.label(R,A,0),U=Q.label(R,A,1);if(e(y.length>=1),e(U.length>=2),e(U[0]==="_"),U.toLowerCase()!==`_${O}`)throw new Error("Invalid DANE name.");if(y.length!==56)throw new Error("Invalid DANE hash.");const q=_e.from(y,"hex");if(q.length!==28)throw new Error("Invalid DANE hash.");return{name:Q.fqdn(Q.from(R,A,2)),hash:q}},n.isName=function(R,O){e(Q.isName(R)),e(Q.isName(O)),e(O.length>=1&&O.length<=62),e(O[0]!=="_"),e(O.indexOf(".")===-1);try{return n.decodeName(R,O),!0}catch{return!1}};function p(N){const R=m(N,0);return e(R<=N.length),N.slice(0,R)}function v(N){let R=0;R=_(N,R),R=_(N,R),R=T(N,R),R=d(N,R),R=E(N,R),R=E(N,R),R=E(N,R),R=E(N,R);const O=m(N,R);return e(R+O<=N.length),N.slice(R,R+O)}function K(N,R,O,A){e(R<N.length);const y=R;let U=N[R++];const q=(U&32)===0;if((U&31)===31){let h=U;for(U=0;(h&128)===128;)e(R<N.length),h=N[R++],U<<=7,U|=h&127}else U&=31;if(U!==O){if(A)return[y,0];throw new Error(`Expected type: ${O}. Got: ${U}.`)}e(R<N.length);let k=N[R++];if(!q&&k===128)throw new Error("Indefinite size.");if((k&128)===0)return[R,k];const o=k&127;if(o>3)throw new Error("Length octet is too long.");k=0;for(let h=0;h<o;h++)e(R<N.length),k<<=8,k|=N[R++];return[R,k]}function w(N,R){return K(N,R,16,!1)}function m(N,R){const[O,A]=w(N,R);return O-R+A}function _(N,R){return w(N,R)[0]}function E(N,R){const[O,A]=w(N,R);return O+A}function d(N,R){const[O,A]=K(N,R,2,!1);return O+A}function T(N,R){const[O,A]=K(N,R,0,!0);return O+A}n.usages=P,n.usagesByVal=g,n.selectors=u,n.selectorsByVal=H,n.matchingTypes=a,n.matchingTypesByVal=s}],["bns-plus","/lib/internal/crypto.js",function(f,Le,C,Fe,He,Ve){/*!
 * crypto.js - crypto for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(14,C),{safeEqual:oe}=ce(23,C),Q=ce(25,C),P=ce(28,C),g=ce(30,C),u=ce(33,C),H=ce(34,C),a=ce(37,C),s=ce(38,C),n=ce(40,C),p=ce(54,C),v=ce(58,C),K=ce(66,C),w=ce(68,C),m=ce(72,C),{padLeft:_}=ce(78,C);f.md5=Q,f.sha1=P,f.sha224=g,f.sha256=u,f.sha384=H,f.sha512=a,f.gost94=s,f.safeEqual=oe,f.generateDSA=function(y){if(y==null&&(y=1024),e(y>>>0===y),y>1024)throw new RangeError("DSA prime cannot exceed 1024 bits.");return n.privateKeyGenerate(y)},f.generateDSAAsync=async function(y){if(y==null&&(y=1024),e(y>>>0===y),y>1024)throw new RangeError("DSA prime cannot exceed 1024 bits.");return n.privateKeyGenerateAsync(y)},f.createDSA=function(y){const U=n.publicKeyCreate(y);return T(U)},f.signDSA=function(y,U,q){e(y&&typeof y.id=="string");const k=n.privateKeyBits(q),o=n.privateKeyScalarBits(q);if(k>1024||o!==160)throw new Error("Invalid DSA private key.");const h=y.digest(U),z=n.sign(h,q);return R(z,q)},f.verifyDSA=function(y,U,q,k){e(y&&typeof y.id=="string"),e(k!=null&&k._isBuffer===!0),e(q!=null&&q._isBuffer===!0);let o;try{o=N(k)}catch{return!1}let h;try{h=O(q)}catch{return!1}const z=n.publicKeyBits(o),J=n.publicKeyScalarBits(o);if(z>1024||J!==160)return!1;const M=y.digest(U);return n.verify(M,h,o)},f.generateRSA=function(y,U){return y==null&&(y=2048),e(y>>>0===y),e(y<=4096),p.privateKeyGenerate(y,U)},f.generateRSAAsync=async function(y,U){return y==null&&(y=2048),e(y>>>0===y),e(y<=4096),p.privateKeyGenerateAsync(y,U)},f.createRSA=function(y){const U=p.publicKeyCreate(y);return E(U)},f.signRSA=function(y,U,q){e(y&&typeof y.id=="string");const k=y.digest(U);return p.sign(y,k,q)},f.verifyRSA=function(y,U,q,k){e(y&&typeof y.id=="string"),e(q!=null&&q._isBuffer===!0);let o;try{o=d(k)}catch{return!1}const h=p.publicKeyBits(o);if(h>4096)return!1;const z=y.digest(U),J=h+7>>>3;return q.length<J&&(q=_(q,J)),p.verify(y,z,q,o)},f.generateP256=function(){return v.privateKeyGenerate()},f.createP256=function(y){const{x:U,y:q}=v.privateKeyExport(y);return _e.concat([U,q])},f.signP256=function(y,U,q){e(y&&typeof y.id=="string");const k=y.digest(U);return v.sign(k,q)},f.verifyP256=function(y,U,q,k){if(e(y&&typeof y.id=="string"),e(k!=null&&k._isBuffer===!0),k.length!==64)return!1;let o;try{o=v.publicKeyImport({x:k.slice(0,32),y:k.slice(32)})}catch{return!1}const h=y.digest(U);return v.verify(h,q,o)},f.generateP384=function(){return K.privateKeyGenerate()},f.createP384=function(y){const{x:U,y:q}=K.privateKeyExport(y);return _e.concat([U,q])},f.signP384=function(y,U,q){e(y&&typeof y.id=="string");const k=y.digest(U);return K.sign(k,q)},f.verifyP384=function(y,U,q,k){if(e(y&&typeof y.id=="string"),e(k!=null&&k._isBuffer===!0),k.length!==96)return!1;let o;try{o=K.publicKeyImport({x:k.slice(0,48),y:k.slice(48)})}catch{return!1}const h=y.digest(U);return K.verify(h,q,o)},f.generateED25519=function(){return w.privateKeyGenerate()},f.createED25519=function(y){return w.publicKeyCreate(y)},f.signED25519=function(y,U){return w.sign(y,U)},f.verifyED25519=function(y,U,q){return w.verify(y,U,q)},f.generateED448=function(){return m.privateKeyGenerate()},f.createED448=function(y){return m.publicKeyCreate(y)},f.signED448=function(y,U){return m.sign(y,U)},f.verifyED448=function(y,U,q){return m.verify(y,U,q)},f.rsaBits=function(y){e(y!=null&&y._isBuffer===!0);let U;try{U=d(y)}catch{return 0}return p.publicKeyBits(U)};function E(A){const{n:y,e:U}=p.publicKeyExport(A);let q=1+U.length+y.length;U.length>255&&(q+=2);const k=S.write(q);return U.length>255?(k.writeU8(0),k.writeU16BE(U.length)):k.writeU8(U.length),k.writeBytes(U),k.writeBytes(y),k.render()}function d(A){e(A!=null&&A._isBuffer===!0);const y=S.read(A);let U=y.readU8();U===0&&(U=y.readU16BE());const q=y.readBytes(U),k=y.readBytes(y.left());return p.publicKeyImport({n:k,e:q})}function T(A){const{p:y,q:U,g:q,y:k}=n.publicKeyExport(A);if(y.length<64||U.length>20)throw new Error("Invalid DSA public key.");const o=y.length-64+7>>>3,h=64+o*8;if(y.length>h)throw new Error("Invalid P value.");const z=21+h*3,J=S.write(z);return J.writeU8(o),J.writeBytes(_(U,20)),J.writeBytes(_(y,h)),J.writeBytes(_(q,h)),J.writeBytes(_(k,h)),J.render()}function N(A){e(A!=null&&A._isBuffer===!0);const y=S.read(A),U=y.readU8();if(U>8)throw new Error("Invalid L value.");const q=64+U*8,k=y.readBytes(20),o=y.readBytes(q),h=y.readBytes(q),z=y.readBytes(q);return n.publicKeyImport({p:o,q:k,g:h,y:z})}function R(A,y){e(A!=null&&A._isBuffer===!0);const U=n.privateKeyBits(y)+7>>>3,q=n.privateKeyScalarBits(y)+7>>>3;if(U<64||q>20)throw new Error("Invalid DSA private key.");const k=U-64+7>>>3,o=64+k*8;if(U>o)throw new Error("Invalid P value.");if(A.length!==q*2)throw new Error("Invalid signature.");const h=A.slice(0,q),z=A.slice(q),J=S.write(41);return J.writeU8(k),J.writeBytes(_(h,20)),J.writeBytes(_(z,20)),J.render()}function O(A){e(A!=null&&A._isBuffer===!0);const y=S.read(A);if(y.readU8()>8)throw new Error("Invalid L value.");return y.readBytes(40)}}],["bufio","/lib/bufio.js",function(f,Le,C,Fe,He,Ve){/*!
 * bufio.js - buffer utilities for javascript
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(15,C),S=ce(16,C),oe=ce(17,C),Q=ce(18,C),P=ce(19,C),g=ce(20,C),u=ce(21,C),H=ce(22,C);f.custom=e,f.encoding=S,f.EncodingError=Q,f.BufferReader=P,f.BufferWriter=g,f.StaticWriter=u,f.Struct=H,f.read=function(m,_){return new P(m,_)},f.write=function(m){return m!=null?new u(m):new g},f.pool=function(m){return u.pool(m)};function a(w,m){return function(_,E){if(oe(_!=null&&_._isBuffer===!0,"data","buffer"),oe(E>>>0===E,"off","integer"),E+m>_.length)throw new Q(E,"Out of bounds read");return w(_,E)}}function s(w){return function(m,_,E){if(oe(m!=null&&m._isBuffer===!0,"data","buffer"),oe(_>>>0===_,"off","integer"),oe(E>>>0===E,"len","integer"),_+E>m.length)throw new Q(_,"Out of bounds read");return w(m,_,E)}}function n(w){return function(m,_){return oe(m!=null&&m._isBuffer===!0,"data","buffer"),oe(_>>>0===_,"off","integer"),w(m,_)}}function p(w,m){return function(_,E,d){if(oe(_!=null&&_._isBuffer===!0,"data","buffer"),oe(d>>>0===d,"off","integer"),d+m>_.length)throw new Q(d,"Out of bounds write");return w(_,E,d)}}function v(w){return function(m,_,E,d){if(oe(m!=null&&m._isBuffer===!0,"data","buffer"),oe(E>>>0===E,"off","integer"),oe(d>>>0===d,"len","integer"),E+d>m.length)throw new Q(E,"Out of bounds write");return w(m,_,E,d)}}function K(w,m){return function(_,E,d){if(oe(_!=null&&_._isBuffer===!0,"data","buffer"),oe(d>>>0===d,"off","integer"),d+m(E)>_.length)throw new Q(d,"Out of bounds write");return w(_,E,d)}}f.readU=s(S.readU),f.readU64=a(S.readU64,8),f.readU56=a(S.readU56,7),f.readU48=a(S.readU48,6),f.readU40=a(S.readU40,5),f.readU32=a(S.readU32,4),f.readU24=a(S.readU24,3),f.readU16=a(S.readU16,2),f.readU8=a(S.readU8,1),f.readUBE=s(S.readUBE),f.readU64BE=a(S.readU64BE,8),f.readU56BE=a(S.readU56BE,7),f.readU48BE=a(S.readU48BE,6),f.readU40BE=a(S.readU40BE,5),f.readU32BE=a(S.readU32BE,4),f.readU24BE=a(S.readU24BE,3),f.readU16BE=a(S.readU16BE,2),f.readI=s(S.readI),f.readI64=a(S.readI64,8),f.readI56=a(S.readI56,7),f.readI48=a(S.readI48,6),f.readI40=a(S.readI40,5),f.readI32=a(S.readI32,4),f.readI24=a(S.readI24,3),f.readI16=a(S.readI16,2),f.readI8=a(S.readI8,1),f.readIBE=s(S.readIBE),f.readI64BE=a(S.readI64BE,8),f.readI56BE=a(S.readI56BE,7),f.readI48BE=a(S.readI48BE,6),f.readI40BE=a(S.readI40BE,5),f.readI32BE=a(S.readI32BE,4),f.readI24BE=a(S.readI24BE,3),f.readI16BE=a(S.readI16BE,2),f.readFloat=a(S.readFloat,4),f.readFloatBE=a(S.readFloatBE,4),f.readDouble=a(S.readDouble,8),f.readDoubleBE=a(S.readDoubleBE,8),f.writeU=v(S.writeU),f.writeU64=p(S.writeU64,8),f.writeU56=p(S.writeU56,7),f.writeU48=p(S.writeU48,6),f.writeU40=p(S.writeU40,5),f.writeU32=p(S.writeU32,4),f.writeU24=p(S.writeU24,3),f.writeU16=p(S.writeU16,2),f.writeU8=p(S.writeU8,1),f.writeUBE=v(S.writeUBE),f.writeU64BE=p(S.writeU64BE,8),f.writeU56BE=p(S.writeU56BE,7),f.writeU48BE=p(S.writeU48BE,6),f.writeU40BE=p(S.writeU40BE,5),f.writeU32BE=p(S.writeU32BE,4),f.writeU24BE=p(S.writeU24BE,3),f.writeU16BE=p(S.writeU16BE,2),f.writeI=v(S.writeI),f.writeI64=p(S.writeI64,8),f.writeI56=p(S.writeI56,7),f.writeI48=p(S.writeI48,6),f.writeI40=p(S.writeI40,5),f.writeI32=p(S.writeI32,4),f.writeI24=p(S.writeI24,3),f.writeI16=p(S.writeI16,2),f.writeI8=p(S.writeI8,1),f.writeIBE=v(S.writeIBE),f.writeI64BE=p(S.writeI64BE,8),f.writeI56BE=p(S.writeI56BE,7),f.writeI48BE=p(S.writeI48BE,6),f.writeI40BE=p(S.writeI40BE,5),f.writeI32BE=p(S.writeI32BE,4),f.writeI24BE=p(S.writeI24BE,3),f.writeI16BE=p(S.writeI16BE,2),f.writeFloat=p(S.writeFloat,4),f.writeFloatBE=p(S.writeFloatBE,4),f.writeDouble=p(S.writeDouble,8),f.writeDoubleBE=p(S.writeDoubleBE,8),f.readVarint=n(S.readVarint),f.writeVarint=K(S.writeVarint,S.sizeVarint),f.sizeVarint=S.sizeVarint,f.readVarint2=n(S.readVarint2),f.writeVarint2=K(S.writeVarint2,S.sizeVarint2),f.sizeVarint2=S.sizeVarint2,f.sliceBytes=S.sliceBytes,f.readBytes=S.readBytes,f.writeBytes=S.writeBytes,f.readString=S.readString,f.writeString=S.writeString,f.realloc=S.realloc,f.copy=S.copy,f.concat=S.concat,f.sizeVarBytes=S.sizeVarBytes,f.sizeVarlen=S.sizeVarlen,f.sizeVarString=S.sizeVarString}],["bufio","/lib/custom-browser.js",function(f,Le,C,Fe,He,Ve){f.custom="inspect"}],["bufio","/lib/encoding.js",function(f,Le,C,Fe,He,Ve){/*!
 * encoding.js - encoding utils for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(17,C),S=ce(18,C),oe=1/4294967296,{MAX_SAFE_INTEGER:Q}=Number,P=new Float32Array(1),g=new Uint8Array(P.buffer),u=new Float64Array(1),H=new Uint8Array(u.buffer);P[0]=-1;const a=g[3]===0;function s(ne,ee,be){switch(be){case 8:return n(ne,ee);case 7:return p(ne,ee);case 6:return v(ne,ee);case 5:return K(ne,ee);case 4:return w(ne,ee);case 3:return m(ne,ee);case 2:return _(ne,ee);case 1:return E(ne,ee);default:throw new S(ee,"Invalid read length")}}function n(ne,ee){const be=w(ne,ee+4),We=w(ne,ee);return Dt((be&4292870144)===0,ee,"Number exceeds 2^53-1"),be*4294967296+We}function p(ne,ee){const be=m(ne,ee+4),We=w(ne,ee);return Dt((be&4292870144)===0,ee,"Number exceeds 2^53-1"),be*4294967296+We}function v(ne,ee){return ne[ee++]+ne[ee++]*256+ne[ee++]*65536+ne[ee++]*16777216+ne[ee++]*4294967296+ne[ee]*1099511627776}function K(ne,ee){return ne[ee++]+ne[ee++]*256+ne[ee++]*65536+ne[ee++]*16777216+ne[ee]*4294967296}function w(ne,ee){return ne[ee++]+ne[ee++]*256+ne[ee++]*65536+ne[ee]*16777216}function m(ne,ee){return ne[ee++]+ne[ee++]*256+ne[ee]*65536}function _(ne,ee){return ne[ee++]+ne[ee]*256}function E(ne,ee){return ne[ee]}function d(ne,ee,be){switch(be){case 8:return T(ne,ee);case 7:return N(ne,ee);case 6:return R(ne,ee);case 5:return O(ne,ee);case 4:return A(ne,ee);case 3:return y(ne,ee);case 2:return U(ne,ee);case 1:return E(ne,ee);default:throw new S(ee,"Invalid read length")}}function T(ne,ee){const be=A(ne,ee),We=A(ne,ee+4);return Dt((be&4292870144)===0,ee,"Number exceeds 2^53-1"),be*4294967296+We}function N(ne,ee){const be=y(ne,ee),We=A(ne,ee+3);return Dt((be&4292870144)===0,ee,"Number exceeds 2^53-1"),be*4294967296+We}function R(ne,ee){return ne[ee++]*1099511627776+ne[ee++]*4294967296+ne[ee++]*16777216+ne[ee++]*65536+ne[ee++]*256+ne[ee]}function O(ne,ee){return ne[ee++]*4294967296+ne[ee++]*16777216+ne[ee++]*65536+ne[ee++]*256+ne[ee]}function A(ne,ee){return ne[ee++]*16777216+ne[ee++]*65536+ne[ee++]*256+ne[ee]}function y(ne,ee){return ne[ee++]*65536+ne[ee++]*256+ne[ee]}function U(ne,ee){return ne[ee++]*256+ne[ee]}function q(ne,ee,be){switch(be){case 8:return k(ne,ee);case 7:return o(ne,ee);case 6:return h(ne,ee);case 5:return z(ne,ee);case 4:return J(ne,ee);case 3:return M(ne,ee);case 2:return X(ne,ee);case 1:return B(ne,ee);default:throw new S(ee,"Invalid read length")}}function k(ne,ee){const be=J(ne,ee+4),We=w(ne,ee);return Dt(dt(be,We),"Number exceeds 2^53-1"),be*4294967296+We}function o(ne,ee){const be=M(ne,ee+4),We=w(ne,ee);return Dt(dt(be,We),"Number exceeds 2^53-1"),be*4294967296+We}function h(ne,ee){const be=ne[ee+4]+ne[ee+5]*256;return ne[ee++]+ne[ee++]*256+ne[ee++]*65536+ne[ee]*16777216+(be|(be&32768)*131070)*4294967296}function z(ne,ee){return ne[ee++]+ne[ee++]*256+ne[ee++]*65536+ne[ee++]*16777216+(ne[ee]|(ne[ee]&128)*33554430)*4294967296}function J(ne,ee){return ne[ee++]+ne[ee++]*256+ne[ee++]*65536+(ne[ee]<<24)}function M(ne,ee){const be=ne[ee++]+ne[ee++]*256+ne[ee]*65536;return be|(be&8388608)*510}function X(ne,ee){const be=ne[ee++]+ne[ee]*256;return be|(be&32768)*131070}function B(ne,ee){const be=ne[ee];return be|(be&128)*33554430}function G(ne,ee,be){switch(be){case 8:return $(ne,ee);case 7:return le(ne,ee);case 6:return Ee(ne,ee);case 5:return Ne(ne,ee);case 4:return ke(ne,ee);case 3:return se(ne,ee);case 2:return ge(ne,ee);case 1:return B(ne,ee);default:throw new S(ee,"Invalid read length")}}function $(ne,ee){const be=ke(ne,ee),We=A(ne,ee+4);return Dt(dt(be,We),"Number exceeds 2^53-1"),be*4294967296+We}function le(ne,ee){const be=se(ne,ee),We=A(ne,ee+3);return Dt(dt(be,We),"Number exceeds 2^53-1"),be*4294967296+We}function Ee(ne,ee){const be=ne[ee++]*256+ne[ee++];return(be|(be&32768)*131070)*4294967296+ne[ee++]*16777216+ne[ee++]*65536+ne[ee++]*256+ne[ee]}function Ne(ne,ee){const be=ne[ee++];return(be|(be&128)*33554430)*4294967296+ne[ee++]*16777216+ne[ee++]*65536+ne[ee++]*256+ne[ee]}function ke(ne,ee){return(ne[ee++]<<24)+ne[ee++]*65536+ne[ee++]*256+ne[ee]}function se(ne,ee){const be=ne[ee++]*65536+ne[ee++]*256+ne[ee];return be|(be&8388608)*510}function ge(ne,ee){const be=ne[ee++]*256+ne[ee];return be|(be&32768)*131070}function ve(ne,ee){return g[3]=ne[ee++],g[2]=ne[ee++],g[1]=ne[ee++],g[0]=ne[ee],P[0]}function Ue(ne,ee){return g[0]=ne[ee++],g[1]=ne[ee++],g[2]=ne[ee++],g[3]=ne[ee],P[0]}function re(ne,ee){return H[7]=ne[ee++],H[6]=ne[ee++],H[5]=ne[ee++],H[4]=ne[ee++],H[3]=ne[ee++],H[2]=ne[ee++],H[1]=ne[ee++],H[0]=ne[ee],u[0]}function Re(ne,ee){return H[0]=ne[ee++],H[1]=ne[ee++],H[2]=ne[ee++],H[3]=ne[ee++],H[4]=ne[ee++],H[5]=ne[ee++],H[6]=ne[ee++],H[7]=ne[ee],u[0]}const r=a?ve:Ue,c=a?Ue:ve,b=a?re:Re,V=a?Re:re;function ie(ne,ee,be,We){switch(We){case 8:return L(ne,ee,be);case 7:return x(ne,ee,be);case 6:return j(ne,ee,be);case 5:return t(ne,ee,be);case 4:return l(ne,ee,be);case 3:return I(ne,ee,be);case 2:return Y(ne,ee,be);case 1:return Z(ne,ee,be);default:throw new S(be,"Invalid write length")}}function L(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),Je(ne,ee,be,!1)}function x(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),at(ne,ee,be,!1)}function j(ne,ee,be){e(Number.isSafeInteger(ee),"num","integer");const We=ee*oe|0;return ne[be++]=ee,ee>>>=8,ne[be++]=ee,ee>>>=8,ne[be++]=ee,ee>>>=8,ne[be++]=ee,ne[be++]=We,ne[be++]=We>>>8,be}function t(ne,ee,be){e(Number.isSafeInteger(ee),"num","integer");const We=ee*oe|0;return ne[be++]=ee,ee>>>=8,ne[be++]=ee,ee>>>=8,ne[be++]=ee,ee>>>=8,ne[be++]=ee,ne[be++]=We,be}function l(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),ne[be++]=ee,ee>>>=8,ne[be++]=ee,ee>>>=8,ne[be++]=ee,ee>>>=8,ne[be++]=ee,be}function I(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),ne[be++]=ee,ee>>>=8,ne[be++]=ee,ee>>>=8,ne[be++]=ee,be}function Y(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),ne[be++]=ee,ne[be++]=ee>>>8,be}function Z(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),ne[be]=ee,be+1}function W(ne,ee,be,We){switch(We){case 8:return ue(ne,ee,be);case 7:return pe(ne,ee,be);case 6:return Ie(ne,ee,be);case 5:return te(ne,ee,be);case 4:return D(ne,ee,be);case 3:return F(ne,ee,be);case 2:return he(ne,ee,be);case 1:return Z(ne,ee,be);default:throw new S(be,"Invalid write length")}}function ue(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),Je(ne,ee,be,!0)}function pe(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),at(ne,ee,be,!0)}function Ie(ne,ee,be){e(Number.isSafeInteger(ee),"num","integer");const We=ee*oe|0;return ne[be++]=We>>>8,ne[be++]=We,ne[be+3]=ee,ee>>>=8,ne[be+2]=ee,ee>>>=8,ne[be+1]=ee,ee>>>=8,ne[be]=ee,be+4}function te(ne,ee,be){e(Number.isSafeInteger(ee),"num","integer");const We=ee*oe|0;return ne[be++]=We,ne[be+3]=ee,ee>>>=8,ne[be+2]=ee,ee>>>=8,ne[be+1]=ee,ee>>>=8,ne[be]=ee,be+4}function D(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),ne[be+3]=ee,ee>>>=8,ne[be+2]=ee,ee>>>=8,ne[be+1]=ee,ee>>>=8,ne[be]=ee,be+4}function F(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),ne[be+2]=ee,ee>>>=8,ne[be+1]=ee,ee>>>=8,ne[be]=ee,be+3}function he(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),ne[be++]=ee>>>8,ne[be++]=ee,be}function we(ne,ee,be,We){switch(We){case 8:return L(ne,ee,be);case 7:return x(ne,ee,be);case 6:return j(ne,ee,be);case 5:return t(ne,ee,be);case 4:return I(ne,ee,be);case 3:return l(ne,ee,be);case 2:return Y(ne,ee,be);case 1:return Z(ne,ee,be);default:throw new S(be,"Invalid write length")}}function Me(ne,ee,be){return L(ne,ee,be)}function de(ne,ee,be){return x(ne,ee,be)}function Se(ne,ee,be){return j(ne,ee,be)}function ye(ne,ee,be){return t(ne,ee,be)}function me(ne,ee,be){return l(ne,ee,be)}function Te(ne,ee,be){return I(ne,ee,be)}function xe(ne,ee,be){return Y(ne,ee,be)}function Pe(ne,ee,be){return Z(ne,ee,be)}function Ce(ne,ee,be,We){switch(We){case 8:return ue(ne,ee,be);case 7:return pe(ne,ee,be);case 6:return Ie(ne,ee,be);case 5:return te(ne,ee,be);case 4:return D(ne,ee,be);case 3:return F(ne,ee,be);case 2:return he(ne,ee,be);case 1:return Z(ne,ee,be);default:throw new S(be,"Invalid write length")}}function Ke(ne,ee,be){return ue(ne,ee,be)}function qe(ne,ee,be){return pe(ne,ee,be)}function Ye(ne,ee,be){return Ie(ne,ee,be)}function $e(ne,ee,be){return te(ne,ee,be)}function Ge(ne,ee,be){return D(ne,ee,be)}function Qe(ne,ee,be){return F(ne,ee,be)}function tt(ne,ee,be){return he(ne,ee,be)}function nt(ne,ee,be){return e(fe(ee),"num","number"),u[0]=ee,ne[be++]=H[0],ne[be++]=H[1],ne[be++]=H[2],ne[be++]=H[3],ne[be++]=H[4],ne[be++]=H[5],ne[be++]=H[6],ne[be++]=H[7],be}function Xe(ne,ee,be){return e(fe(ee),"num","number"),u[0]=ee,ne[be++]=H[7],ne[be++]=H[6],ne[be++]=H[5],ne[be++]=H[4],ne[be++]=H[3],ne[be++]=H[2],ne[be++]=H[1],ne[be++]=H[0],be}function ot(ne,ee,be){return e(fe(ee),"num","number"),P[0]=ee,ne[be++]=g[0],ne[be++]=g[1],ne[be++]=g[2],ne[be++]=g[3],be}function yt(ne,ee,be){return e(fe(ee),"num","number"),P[0]=ee,ne[be++]=g[3],ne[be++]=g[2],ne[be++]=g[1],ne[be++]=g[0],be}const lt=a?yt:ot,pt=a?ot:yt,or=a?Xe:nt,bt=a?nt:Xe;function Rt(ne,ee){let be,We;switch(Be(ee<ne.length,ee),ne[ee]){case 255:We=9,Be(ee+We<=ne.length,ee),be=n(ne,ee+1),Dt(be>4294967295,ee,"Non-canonical varint");break;case 254:We=5,Be(ee+We<=ne.length,ee),be=w(ne,ee+1),Dt(be>65535,ee,"Non-canonical varint");break;case 253:We=3,Be(ee+We<=ne.length,ee),be=_(ne,ee+1),Dt(be>=253,ee,"Non-canonical varint");break;default:We=1,be=ne[ee];break}return new Oe(We,be)}function dr(ne,ee,be){return e(Number.isSafeInteger(ee),"num","integer"),ee<253?(ne[be++]=ee,be):ee<=65535?(ne[be++]=253,Y(ne,ee,be)):ee<=4294967295?(ne[be++]=254,l(ne,ee,be)):(ne[be++]=255,L(ne,ee,be))}function mt(ne){return e(Number.isSafeInteger(ne),"num","integer"),ne<253?1:ne<=65535?3:ne<=4294967295?5:9}function Bt(ne,ee){let be=0,We=0;for(;;){Be(ee<ne.length,ee);const Et=ne[ee++];if(We+=1,Dt(be<=70368744177663-(Et&127),ee,"Number exceeds 2^53-1"),be=be*128+(Et&127),(Et&128)===0)break;Dt(be!==Q,ee,"Number exceeds 2^53-1"),be+=1}return new Oe(We,be)}function fr(ne,ee,be){e(Number.isSafeInteger(ee),"num","integer");const We=[];let Et=0;for(;We[Et]=ee&127|(Et?128:0),!(ee<=127);)ee=(ee-ee%128)/128-1,Et+=1;Be(be+Et+1<=ne.length,be);do ne[be++]=We[Et];while(Et--);return be}function it(ne){e(Number.isSafeInteger(ne),"num","integer");let ee=0;for(;ee+=1,!(ne<=127);)ne=(ne-ne%128)/128-1;return ee}function vt(ne,ee,be){if(e(ne!=null&&ne._isBuffer===!0,"data","buffer"),e(ee>>>0===ee,"off","integer"),e(be>>>0===be,"size","integer"),ee+be>ne.length)throw new S(ee,"Out of bounds read");return ne.slice(ee,ee+be)}function br(ne,ee,be){if(e(ne!=null&&ne._isBuffer===!0,"data","buffer"),e(ee>>>0===ee,"off","integer"),e(be>>>0===be,"size","integer"),ee+be>ne.length)throw new S(ee,"Out of bounds read");const We=_e.allocUnsafeSlow(be);return ne.copy(We,0,ee,ee+be),We}function wt(ne,ee,be){if(e(ne!=null&&ne._isBuffer===!0,"data","buffer"),e(ee!=null&&ee._isBuffer===!0,"value","buffer"),e(be>>>0===be,"off","integer"),be+ee.length>ne.length)throw new S(be,"Out of bounds write");return ee.copy(ne,be,0,ee.length)}function Tt(ne,ee,be,We){if(We==null&&(We="binary"),e(ne!=null&&ne._isBuffer===!0,"data","buffer"),e(ee>>>0===ee,"off","integer"),e(be>>>0===be,"size","integer"),e(typeof We=="string","enc","string"),ee+be>ne.length)throw new S(ee,"Out of bounds read");return ne.toString(We,ee,ee+be)}function ar(ne,ee,be,We){if(We==null&&(We="binary"),e(ne!=null&&ne._isBuffer===!0,"data","buffer"),e(typeof ee=="string","str","string"),e(be>>>0===be,"off","integer"),e(typeof We=="string","enc","string"),ee.length===0)return 0;const Et=_e.byteLength(ee,We);if(be+Et>ne.length)throw new S(be,"Out of bounds write");return ne.write(ee,be,We)}function St(ne,ee){e(ne!=null&&ne._isBuffer===!0,"data","buffer");const be=_e.allocUnsafeSlow(ee);return ne.copy(be,0),be}function _t(ne){return e(ne!=null&&ne._isBuffer===!0,"data","buffer"),St(ne,ne.length)}function Wt(ne,ee){e(ne!=null&&ne._isBuffer===!0,"a","buffer"),e(ee!=null&&ee._isBuffer===!0,"b","buffer");const be=ne.length+ee.length,We=_e.allocUnsafeSlow(be);return ne.copy(We,0),ee.copy(We,ne.length),We}function At(ne){return e(ne!=null&&ne._isBuffer===!0,"data","buffer"),mt(ne.length)+ne.length}function Nt(ne){return mt(ne)+ne}function Gt(ne,ee){if(ee==null&&(ee="binary"),e(typeof ne=="string","str","string"),e(typeof ee=="string","enc","string"),ne.length===0)return 1;const be=_e.byteLength(ne,ee);return mt(be)+be}function dt(ne,ee){return ne<0&&(ne=~ne,ee===0&&(ne+=1)),(ne&4292870144)===0}function Je(ne,ee,be,We){let Et=!1;ee<0&&(ee=-ee,Et=!0);let kt=ee*oe|0,Pt=ee|0;return Et&&(Pt===0?kt=~kt+1|0:(kt=~kt,Pt=~Pt+1)),We?(be=Ge(ne,kt,be),be=Ge(ne,Pt,be)):(be=me(ne,Pt,be),be=me(ne,kt,be)),be}function at(ne,ee,be,We){let Et=!1;ee<0&&(ee=-ee,Et=!0);let kt=ee*oe|0,Pt=ee|0;return Et&&(Pt===0?kt=~kt+1|0:(kt=~kt,Pt=~Pt+1)),We?(be=Qe(ne,kt,be),be=Ge(ne,Pt,be)):(be=me(ne,Pt,be),be=Te(ne,kt,be)),be}class Oe{constructor(ee,be){this.size=ee,this.value=be}}function fe(ne){return typeof ne=="number"&&isFinite(ne)}function Be(ne,ee){if(!ne)throw new S(ee,"Out of bounds read",Be)}function Dt(ne,ee,be){if(!ne)throw new S(ee,be,Dt)}f.readU=s,f.readU64=n,f.readU56=p,f.readU48=v,f.readU40=K,f.readU32=w,f.readU24=m,f.readU16=_,f.readU8=E,f.readUBE=d,f.readU64BE=T,f.readU56BE=N,f.readU48BE=R,f.readU40BE=O,f.readU32BE=A,f.readU24BE=y,f.readU16BE=U,f.readI=q,f.readI64=k,f.readI56=o,f.readI48=h,f.readI40=z,f.readI32=J,f.readI24=M,f.readI16=X,f.readI8=B,f.readIBE=G,f.readI64BE=$,f.readI56BE=le,f.readI48BE=Ee,f.readI40BE=Ne,f.readI32BE=ke,f.readI24BE=se,f.readI16BE=ge,f.readFloat=r,f.readFloatBE=c,f.readDouble=b,f.readDoubleBE=V,f.writeU=ie,f.writeU64=L,f.writeU56=x,f.writeU48=j,f.writeU40=t,f.writeU32=l,f.writeU24=I,f.writeU16=Y,f.writeU8=Z,f.writeUBE=W,f.writeU64BE=ue,f.writeU56BE=pe,f.writeU48BE=Ie,f.writeU40BE=te,f.writeU32BE=D,f.writeU24BE=F,f.writeU16BE=he,f.writeI=we,f.writeI64=Me,f.writeI56=de,f.writeI48=Se,f.writeI40=ye,f.writeI32=me,f.writeI24=Te,f.writeI16=xe,f.writeI8=Pe,f.writeIBE=Ce,f.writeI64BE=Ke,f.writeI56BE=qe,f.writeI48BE=Ye,f.writeI40BE=$e,f.writeI32BE=Ge,f.writeI24BE=Qe,f.writeI16BE=tt,f.writeFloat=lt,f.writeFloatBE=pt,f.writeDouble=or,f.writeDoubleBE=bt,f.readVarint=Rt,f.writeVarint=dr,f.sizeVarint=mt,f.readVarint2=Bt,f.writeVarint2=fr,f.sizeVarint2=it,f.sliceBytes=vt,f.readBytes=br,f.writeBytes=wt,f.readString=Tt,f.writeString=ar,f.realloc=St,f.copy=_t,f.concat=Wt,f.sizeVarBytes=At,f.sizeVarlen=Nt,f.sizeVarString=Gt}],["bufio","/lib/enforce.js",function(f,Le,C,Fe,He,Ve){/*!
 * enforce.js - type enforcement for bcoin
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */function e(S,oe,Q){if(!S){const P=new TypeError(`'${oe}' must be a(n) ${Q}.`);throw Error.captureStackTrace&&Error.captureStackTrace(P,e),P}}C.exports=e}],["bufio","/lib/error.js",function(f,Le,C,Fe,He,Ve){/*!
 * error.js - encoding error for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */class e extends Error{constructor(oe,Q,P){super(),this.type="EncodingError",this.name="EncodingError",this.code="ERR_ENCODING",this.message=`${Q} (offset=${oe}).`,Error.captureStackTrace&&Error.captureStackTrace(this,P||e)}}C.exports=e}],["bufio","/lib/reader.js",function(f,Le,C,Fe,He,Ve){/*!
 * reader.js - buffer reader for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(17,C),S=ce(16,C),oe=ce(18,C),Q=_e.alloc(0);class P{constructor(u,H=!1){e(u!=null&&u._isBuffer===!0,"data","buffer"),e(typeof H=="boolean","zeroCopy","boolean"),this.data=u,this.offset=0,this.zeroCopy=H,this.stack=[]}check(u){if(this.offset+u>this.data.length)throw new oe(this.offset,"Out of bounds read",this.check)}getSize(){return this.data.length}left(){return this.check(0),this.data.length-this.offset}seek(u){if(e(Number.isSafeInteger(u),"off","integer"),this.offset+u<0)throw new oe(this.offset,"Out of bounds read");return this.check(u),this.offset+=u,this}start(){return this.stack.push(this.offset),this.offset}end(){if(this.stack.length===0)throw new Error("Cannot end without a stack item.");const u=this.stack.pop();return this.offset-u}endData(u=!1){if(e(typeof u=="boolean","zeroCopy","boolean"),this.stack.length===0)throw new Error("Cannot end without a stack item.");const H=this.stack.pop(),a=this.offset,s=a-H,n=this.data;if(s===n.length)return n;if(this.zeroCopy||u)return n.slice(H,a);const p=_e.allocUnsafeSlow(s);return n.copy(p,0,H,a),p}destroy(){return this.data=Q,this.offset=0,this.stack.length=0,this}readU8(){this.check(1);const u=this.data[this.offset];return this.offset+=1,u}readU16(){this.check(2);const u=S.readU16(this.data,this.offset);return this.offset+=2,u}readU16BE(){this.check(2);const u=S.readU16BE(this.data,this.offset);return this.offset+=2,u}readU24(){this.check(3);const u=S.readU24(this.data,this.offset);return this.offset+=3,u}readU24BE(){this.check(3);const u=S.readU24BE(this.data,this.offset);return this.offset+=3,u}readU32(){this.check(4);const u=S.readU32(this.data,this.offset);return this.offset+=4,u}readU32BE(){this.check(4);const u=S.readU32BE(this.data,this.offset);return this.offset+=4,u}readU40(){this.check(5);const u=S.readU40(this.data,this.offset);return this.offset+=5,u}readU40BE(){this.check(5);const u=S.readU40BE(this.data,this.offset);return this.offset+=5,u}readU48(){this.check(6);const u=S.readU48(this.data,this.offset);return this.offset+=6,u}readU48BE(){this.check(6);const u=S.readU48BE(this.data,this.offset);return this.offset+=6,u}readU56(){this.check(7);const u=S.readU56(this.data,this.offset);return this.offset+=7,u}readU56BE(){this.check(7);const u=S.readU56BE(this.data,this.offset);return this.offset+=7,u}readU64(){this.check(8);const u=S.readU64(this.data,this.offset);return this.offset+=8,u}readU64BE(){this.check(8);const u=S.readU64BE(this.data,this.offset);return this.offset+=8,u}readI8(){this.check(1);const u=S.readI8(this.data,this.offset);return this.offset+=1,u}readI16(){this.check(2);const u=S.readI16(this.data,this.offset);return this.offset+=2,u}readI16BE(){this.check(2);const u=S.readI16BE(this.data,this.offset);return this.offset+=2,u}readI24(){this.check(3);const u=S.readI24(this.data,this.offset);return this.offset+=3,u}readI24BE(){this.check(3);const u=S.readI24BE(this.data,this.offset);return this.offset+=3,u}readI32(){this.check(4);const u=S.readI32(this.data,this.offset);return this.offset+=4,u}readI32BE(){this.check(4);const u=S.readI32BE(this.data,this.offset);return this.offset+=4,u}readI40(){this.check(5);const u=S.readI40(this.data,this.offset);return this.offset+=5,u}readI40BE(){this.check(5);const u=S.readI40BE(this.data,this.offset);return this.offset+=5,u}readI48(){this.check(6);const u=S.readI48(this.data,this.offset);return this.offset+=6,u}readI48BE(){this.check(6);const u=S.readI48BE(this.data,this.offset);return this.offset+=6,u}readI56(){this.check(7);const u=S.readI56(this.data,this.offset);return this.offset+=7,u}readI56BE(){this.check(7);const u=S.readI56BE(this.data,this.offset);return this.offset+=7,u}readI64(){this.check(8);const u=S.readI64(this.data,this.offset);return this.offset+=8,u}readI64BE(){this.check(8);const u=S.readI64BE(this.data,this.offset);return this.offset+=8,u}readFloat(){this.check(4);const u=S.readFloat(this.data,this.offset);return this.offset+=4,u}readFloatBE(){this.check(4);const u=S.readFloatBE(this.data,this.offset);return this.offset+=4,u}readDouble(){this.check(8);const u=S.readDouble(this.data,this.offset);return this.offset+=8,u}readDoubleBE(){this.check(8);const u=S.readDoubleBE(this.data,this.offset);return this.offset+=8,u}readVarint(){const{size:u,value:H}=S.readVarint(this.data,this.offset);return this.offset+=u,H}readVarint2(){const{size:u,value:H}=S.readVarint2(this.data,this.offset);return this.offset+=u,H}readBytes(u,H=!1){e(u>>>0===u,"size","integer"),e(typeof H=="boolean","zeroCopy","boolean"),this.check(u);let a;return this.zeroCopy||H?a=this.data.slice(this.offset,this.offset+u):(a=_e.allocUnsafeSlow(u),this.data.copy(a,0,this.offset,this.offset+u)),this.offset+=u,a}readVarBytes(u=!1){return this.readBytes(this.readVarint(),u)}readChild(u){e(u>>>0===u,"size","integer"),this.check(u);const H=this.data.slice(0,this.offset+u),a=new this.constructor(H);return a.offset=this.offset,this.offset+=u,a}readString(u,H){H==null&&(H="binary"),e(u>>>0===u,"size","integer"),e(typeof H=="string","enc","string"),this.check(u);const a=this.data.toString(H,this.offset,this.offset+u);return this.offset+=u,a}readHash(u){return u?this.readString(32,u):this.readBytes(32)}readVarString(u,H=0){u==null&&(u="binary"),e(typeof u=="string","enc","string"),e(H>>>0===H,"limit","integer");const a=this.readVarint();if(H!==0&&a>H)throw new oe(this.offset,"String exceeds limit");return this.readString(a,u)}readNullString(u){u==null&&(u="binary"),e(typeof u=="string","enc","string");let H=this.offset;for(;H<this.data.length&&this.data[H]!==0;H++);if(H===this.data.length)throw new oe(this.offset,"No NUL terminator");const a=this.readString(H-this.offset,u);return this.offset=H+1,a}createChecksum(u){(!u||typeof u.digest!="function")&&e(typeof u=="function","hash","function");let H=0;this.stack.length>0&&(H=this.stack[this.stack.length-1]);const a=this.data.slice(H,this.offset),s=u.digest?u.digest(a):u(a);return S.readU32(s,0)}verifyChecksum(u){const H=this.createChecksum(u),a=this.readU32();if(H!==a)throw new oe(this.offset,"Checksum mismatch");return H}}C.exports=P}],["bufio","/lib/writer.js",function(f,Le,C,Fe,He,Ve){/*!
 * writer.js - buffer writer for bcoin
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(17,C),S=ce(16,C),oe=ce(18,C),Q=0,P=1,g=2,u=3,H=4,a=5,s=6,n=7,p=8,v=9,K=10,w=11,m=12,_=13,E=14,d=15,T=16,N=17,R=18,O=19,A=20,y=21,U=22,q=23,k=24,o=25,h=26,z=27,J=28,M=29,X=30,B=31,G=32,$=33,le=34,Ee=35,Ne=36,ke=37,se=38,ge=39,ve=40;class Ue{constructor(){this.ops=[],this.offset=0}render(){const L=_e.allocUnsafeSlow(this.offset);let x=0;for(const j of this.ops)switch(j.type){case Q:x+=j.value;break;case P:x=S.writeU8(L,j.value,x);break;case g:x=S.writeU16(L,j.value,x);break;case u:x=S.writeU16BE(L,j.value,x);break;case H:x=S.writeU24(L,j.value,x);break;case a:x=S.writeU24BE(L,j.value,x);break;case s:x=S.writeU32(L,j.value,x);break;case n:x=S.writeU32BE(L,j.value,x);break;case p:x=S.writeU40(L,j.value,x);break;case v:x=S.writeU40BE(L,j.value,x);break;case K:x=S.writeU48(L,j.value,x);break;case w:x=S.writeU48BE(L,j.value,x);break;case m:x=S.writeU56(L,j.value,x);break;case _:x=S.writeU56BE(L,j.value,x);break;case E:x=S.writeU64(L,j.value,x);break;case d:x=S.writeU64BE(L,j.value,x);break;case T:x=S.writeI8(L,j.value,x);break;case N:x=S.writeI16(L,j.value,x);break;case R:x=S.writeI16BE(L,j.value,x);break;case O:x=S.writeI24(L,j.value,x);break;case A:x=S.writeI24BE(L,j.value,x);break;case y:x=S.writeI32(L,j.value,x);break;case U:x=S.writeI32BE(L,j.value,x);break;case q:x=S.writeI40(L,j.value,x);break;case k:x=S.writeI40BE(L,j.value,x);break;case o:x=S.writeI48(L,j.value,x);break;case h:x=S.writeI48BE(L,j.value,x);break;case z:x=S.writeI56(L,j.value,x);break;case J:x=S.writeI56BE(L,j.value,x);break;case M:x=S.writeI64(L,j.value,x);break;case X:x=S.writeI64BE(L,j.value,x);break;case B:x=S.writeFloat(L,j.value,x);break;case G:x=S.writeFloatBE(L,j.value,x);break;case $:x=S.writeDouble(L,j.value,x);break;case le:x=S.writeDoubleBE(L,j.value,x);break;case Ee:x=S.writeVarint(L,j.value,x);break;case Ne:x=S.writeVarint2(L,j.value,x);break;case ke:x+=j.data.copy(L,x);break;case se:x+=L.write(j.value,x,j.enc);break;case ge:x+=j.func(L.slice(0,x)).copy(L,x,0,4);break;case ve:L.fill(j.value,x,x+j.size),x+=j.size;break;default:throw new Error("Invalid type.")}if(x!==L.length)throw new oe(x,"Out of bounds write");return this.destroy(),L}getSize(){return this.offset}seek(L){if(e(Number.isSafeInteger(L),"off","integer"),this.offset+L<0)throw new oe(this.offset,"Out of bounds write");return this.offset+=L,this.ops.push(new Re(Q,L)),this}destroy(){return this.ops.length=0,this.offset=0,this}writeU8(L){return this.offset+=1,this.ops.push(new Re(P,L)),this}writeU16(L){return this.offset+=2,this.ops.push(new Re(g,L)),this}writeU16BE(L){return this.offset+=2,this.ops.push(new Re(u,L)),this}writeU24(L){return this.offset+=3,this.ops.push(new Re(H,L)),this}writeU24BE(L){return this.offset+=3,this.ops.push(new Re(a,L)),this}writeU32(L){return this.offset+=4,this.ops.push(new Re(s,L)),this}writeU32BE(L){return this.offset+=4,this.ops.push(new Re(n,L)),this}writeU40(L){return this.offset+=5,this.ops.push(new Re(p,L)),this}writeU40BE(L){return this.offset+=5,this.ops.push(new Re(v,L)),this}writeU48(L){return this.offset+=6,this.ops.push(new Re(K,L)),this}writeU48BE(L){return this.offset+=6,this.ops.push(new Re(w,L)),this}writeU56(L){return this.offset+=7,this.ops.push(new Re(m,L)),this}writeU56BE(L){return this.offset+=7,this.ops.push(new Re(_,L)),this}writeU64(L){return this.offset+=8,this.ops.push(new Re(E,L)),this}writeU64BE(L){return this.offset+=8,this.ops.push(new Re(d,L)),this}writeI8(L){return this.offset+=1,this.ops.push(new Re(T,L)),this}writeI16(L){return this.offset+=2,this.ops.push(new Re(N,L)),this}writeI16BE(L){return this.offset+=2,this.ops.push(new Re(R,L)),this}writeI24(L){return this.offset+=3,this.ops.push(new Re(O,L)),this}writeI24BE(L){return this.offset+=3,this.ops.push(new Re(A,L)),this}writeI32(L){return this.offset+=4,this.ops.push(new Re(y,L)),this}writeI32BE(L){return this.offset+=4,this.ops.push(new Re(U,L)),this}writeI40(L){return this.offset+=5,this.ops.push(new Re(q,L)),this}writeI40BE(L){return this.offset+=5,this.ops.push(new Re(k,L)),this}writeI48(L){return this.offset+=6,this.ops.push(new Re(o,L)),this}writeI48BE(L){return this.offset+=6,this.ops.push(new Re(h,L)),this}writeI56(L){return this.offset+=7,this.ops.push(new Re(z,L)),this}writeI56BE(L){return this.offset+=7,this.ops.push(new Re(J,L)),this}writeI64(L){return this.offset+=8,this.ops.push(new Re(M,L)),this}writeI64BE(L){return this.offset+=8,this.ops.push(new Re(X,L)),this}writeFloat(L){return this.offset+=4,this.ops.push(new Re(B,L)),this}writeFloatBE(L){return this.offset+=4,this.ops.push(new Re(G,L)),this}writeDouble(L){return this.offset+=8,this.ops.push(new Re($,L)),this}writeDoubleBE(L){return this.offset+=8,this.ops.push(new Re(le,L)),this}writeVarint(L){return this.offset+=S.sizeVarint(L),this.ops.push(new Re(Ee,L)),this}writeVarint2(L){return this.offset+=S.sizeVarint2(L),this.ops.push(new Re(Ne,L)),this}writeBytes(L){return e(L!=null&&L._isBuffer===!0,"value","buffer"),L.length===0?this:(this.offset+=L.length,this.ops.push(new r(ke,L)),this)}writeVarBytes(L){return e(L!=null&&L._isBuffer===!0,"value","buffer"),this.offset+=S.sizeVarint(L.length),this.ops.push(new Re(Ee,L.length)),L.length===0?this:(this.offset+=L.length,this.ops.push(new r(ke,L)),this)}copy(L,x,j){e(L!=null&&L._isBuffer===!0,"value","buffer"),e(x>>>0===x,"start","integer"),e(j>>>0===j,"end","integer"),e(j>=x,"start","integer");const t=L.slice(x,j);return this.writeBytes(t),this}writeString(L,x){return x==null&&(x="binary"),e(typeof L=="string","value","string"),e(typeof x=="string","enc","string"),L.length===0?this:(this.offset+=_e.byteLength(L,x),this.ops.push(new c(se,L,x)),this)}writeHash(L){return typeof L!="string"?(e(L!=null&&L._isBuffer===!0,"value","buffer"),e(L.length===32,"value","32-byte hash"),this.writeBytes(L),this):(e(L.length===64,"value","32-byte hash"),this.writeString(L,"hex"),this)}writeVarString(L,x){if(x==null&&(x="binary"),e(typeof L=="string","value","string"),e(typeof x=="string","enc","string"),L.length===0)return this.ops.push(new Re(Ee,0)),this;const j=_e.byteLength(L,x);return this.offset+=S.sizeVarint(j),this.offset+=j,this.ops.push(new Re(Ee,j)),this.ops.push(new c(se,L,x)),this}writeNullString(L,x){return this.writeString(L,x),this.writeU8(0),this}writeChecksum(L){return L&&typeof L.digest=="function"&&(L=L.digest.bind(L)),e(typeof L=="function","hash","function"),this.offset+=4,this.ops.push(new b(ge,L)),this}fill(L,x){return e((L&255)===L,"value","byte"),e(x>>>0===x,"size","integer"),x===0?this:(this.offset+=x,this.ops.push(new V(ve,L,x)),this)}}class re{constructor(L){this.type=L}}class Re extends re{constructor(L,x){super(L),this.value=x}}class r extends re{constructor(L,x){super(L),this.data=x}}class c extends re{constructor(L,x,j){super(L),this.value=x,this.enc=j}}class b extends re{constructor(L,x){super(L),this.func=x}}class V extends re{constructor(L,x,j){super(L),this.value=x,this.size=j}}C.exports=Ue}],["bufio","/lib/staticwriter.js",function(f,Le,C,Fe,He,Ve){/*!
 * staticwriter.js - buffer writer for bcoin
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(17,C),S=ce(16,C),oe=ce(18,C),Q=_e.alloc(0),P=100<<10;let g=null;class u{constructor(a){this.data=Q,this.offset=0,a!=null&&this.init(a)}check(a){if(this.offset+a>this.data.length)throw new oe(this.offset,"Out of bounds write",this.check)}init(a){return a!=null&&a._isBuffer===!0?(this.data=a,this.offset=0,this):(e(a>>>0===a,"size","integer"),this.data=_e.allocUnsafeSlow(a),this.offset=0,this)}static pool(a){if(e(a>>>0===a,"size","integer"),a<=P){g||(g=_e.allocUnsafeSlow(P));const s=new u;return s.data=g.slice(0,a),s}return new u(a)}render(){const{data:a,offset:s}=this;if(s!==a.length)throw new oe(s,"Out of bounds write");return this.destroy(),a}slice(){const{data:a,offset:s}=this;if(s>a.length)throw new oe(s,"Out of bounds write");return this.destroy(),a.slice(0,s)}getSize(){return this.offset}seek(a){if(e(Number.isSafeInteger(a),"off","integer"),this.offset+a<0)throw new oe(this.offset,"Out of bounds write");return this.check(a),this.offset+=a,this}destroy(){return this.data=Q,this.offset=0,this}writeU8(a){return this.check(1),this.offset=S.writeU8(this.data,a,this.offset),this}writeU16(a){return this.check(2),this.offset=S.writeU16(this.data,a,this.offset),this}writeU16BE(a){return this.check(2),this.offset=S.writeU16BE(this.data,a,this.offset),this}writeU24(a){return this.check(3),this.offset=S.writeU24(this.data,a,this.offset),this}writeU24BE(a){return this.check(3),this.offset=S.writeU24BE(this.data,a,this.offset),this}writeU32(a){return this.check(4),this.offset=S.writeU32(this.data,a,this.offset),this}writeU32BE(a){return this.check(4),this.offset=S.writeU32BE(this.data,a,this.offset),this}writeU40(a){return this.check(5),this.offset=S.writeU40(this.data,a,this.offset),this}writeU40BE(a){return this.check(5),this.offset=S.writeU40BE(this.data,a,this.offset),this}writeU48(a){return this.check(6),this.offset=S.writeU48(this.data,a,this.offset),this}writeU48BE(a){return this.check(6),this.offset=S.writeU48BE(this.data,a,this.offset),this}writeU56(a){return this.check(7),this.offset=S.writeU56(this.data,a,this.offset),this}writeU56BE(a){return this.check(7),this.offset=S.writeU56BE(this.data,a,this.offset),this}writeU64(a){return this.check(8),this.offset=S.writeU64(this.data,a,this.offset),this}writeU64BE(a){return this.check(8),this.offset=S.writeU64BE(this.data,a,this.offset),this}writeI8(a){return this.check(1),this.offset=S.writeI8(this.data,a,this.offset),this}writeI16(a){return this.check(2),this.offset=S.writeI16(this.data,a,this.offset),this}writeI16BE(a){return this.check(2),this.offset=S.writeI16BE(this.data,a,this.offset),this}writeI24(a){return this.check(3),this.offset=S.writeI24(this.data,a,this.offset),this}writeI24BE(a){return this.check(3),this.offset=S.writeI24BE(this.data,a,this.offset),this}writeI32(a){return this.check(4),this.offset=S.writeI32(this.data,a,this.offset),this}writeI32BE(a){return this.check(4),this.offset=S.writeI32BE(this.data,a,this.offset),this}writeI40(a){return this.check(5),this.offset=S.writeI40(this.data,a,this.offset),this}writeI40BE(a){return this.check(5),this.offset=S.writeI40BE(this.data,a,this.offset),this}writeI48(a){return this.check(6),this.offset=S.writeI48(this.data,a,this.offset),this}writeI48BE(a){return this.check(6),this.offset=S.writeI48BE(this.data,a,this.offset),this}writeI56(a){return this.check(7),this.offset=S.writeI56(this.data,a,this.offset),this}writeI56BE(a){return this.check(7),this.offset=S.writeI56BE(this.data,a,this.offset),this}writeI64(a){return this.check(8),this.offset=S.writeI64(this.data,a,this.offset),this}writeI64BE(a){return this.check(8),this.offset=S.writeI64BE(this.data,a,this.offset),this}writeFloat(a){return this.check(4),this.offset=S.writeFloat(this.data,a,this.offset),this}writeFloatBE(a){return this.check(4),this.offset=S.writeFloatBE(this.data,a,this.offset),this}writeDouble(a){return this.check(8),this.offset=S.writeDouble(this.data,a,this.offset),this}writeDoubleBE(a){return this.check(8),this.offset=S.writeDoubleBE(this.data,a,this.offset),this}writeVarint(a){return this.offset=S.writeVarint(this.data,a,this.offset),this}writeVarint2(a){return this.offset=S.writeVarint2(this.data,a,this.offset),this}writeBytes(a){return e(a!=null&&a._isBuffer===!0,"value","buffer"),this.check(a.length),this.offset+=a.copy(this.data,this.offset),this}writeVarBytes(a){return e(a!=null&&a._isBuffer===!0,"value","buffer"),this.writeVarint(a.length),this.writeBytes(a),this}copy(a,s,n){return e(a!=null&&a._isBuffer===!0,"value","buffer"),e(s>>>0===s,"start","integer"),e(n>>>0===n,"end","integer"),e(n>=s,"start","integer"),this.check(n-s),this.offset+=a.copy(this.data,this.offset,s,n),this}writeString(a,s){if(s==null&&(s="binary"),e(typeof a=="string","value","string"),e(typeof s=="string","enc","string"),a.length===0)return this;const n=_e.byteLength(a,s);return this.check(n),this.offset+=this.data.write(a,this.offset,s),this}writeHash(a){return typeof a!="string"?(e(a!=null&&a._isBuffer===!0,"value","buffer"),e(a.length===32,"value","32-byte hash"),this.writeBytes(a),this):(e(a.length===64,"value","32-byte hash"),this.check(32),this.offset+=this.data.write(a,this.offset,"hex"),this)}writeVarString(a,s){if(s==null&&(s="binary"),e(typeof a=="string","value","string"),e(typeof s=="string","enc","string"),a.length===0)return this.writeVarint(0),this;const n=_e.byteLength(a,s);return this.writeVarint(n),this.check(n),this.offset+=this.data.write(a,this.offset,s),this}writeNullString(a,s){return this.writeString(a,s),this.writeU8(0),this}writeChecksum(a){(!a||typeof a.digest!="function")&&e(typeof a=="function","hash","function"),this.check(4);const s=this.data.slice(0,this.offset);return(a.digest?a.digest(s):a(s)).copy(this.data,this.offset,0,4),this.offset+=4,this}fill(a,s){return e((a&255)===a,"value","byte"),e(s>>>0===s,"size","integer"),this.check(s),this.data.fill(a,this.offset,this.offset+s),this.offset+=s,this}}C.exports=u}],["bufio","/lib/struct.js",function(f,Le,C,Fe,He,Ve){/*!
 * struct.js - struct object for bcoin
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(17,C),S=ce(19,C),oe=ce(20,C),Q=ce(21,C),{custom:P}=ce(15,C);class g{constructor(){}inject(a){return e(a instanceof this.constructor,"obj","struct"),this.decode(a.encode())}clone(){return new this.constructor().inject(this)}getSize(a){return-1}write(a,s){return a}read(a,s){return this}toString(){return Object.prototype.toString.call(this)}fromString(a,s){return this}getJSON(){return this}fromJSON(a,s){return this}fromOptions(a,s){return this}from(a,s){return this.fromOptions(a,s)}format(){return this.getJSON()}encode(a){const s=this.getSize(a),n=s===-1?new oe:new Q(s);return this.write(n,a),n.render()}decode(a,s){const n=new S(a);return this.read(n,s),this}toHex(a){return this.encode(a).toString("hex")}fromHex(a,s){e(typeof a=="string","str","string");const n=a.length>>>1,p=_e.from(a,"hex");if(p.length!==n)throw new Error("Invalid hex string.");return this.decode(p,s)}toBase64(a){return this.encode(a).toString("base64")}fromBase64(a,s){e(typeof a=="string","str","string");const n=_e.from(a,"base64");if(a.length>u(n.length))throw new Error("Invalid base64 string.");return this.decode(n,s)}toJSON(){return this.getJSON()}[P](){return this.format()}static read(a,s){return new this().read(a,s)}static decode(a,s){return new this().decode(a,s)}static fromHex(a,s){return new this().fromHex(a,s)}static fromBase64(a,s){return new this().fromBase64(a,s)}static fromString(a,s){return new this().fromString(a,s)}static fromJSON(a,s){return new this().fromJSON(a,s)}static fromOptions(a,s){return new this().fromOptions(a,s)}static from(a,s){return new this().from(a,s)}toWriter(a,s){return this.write(a,s)}fromReader(a,s){return this.read(a,s)}toRaw(a){return this.encode(a)}fromRaw(a,s){return this.decode(a,s)}static fromReader(a,s){return this.read(a,s)}static fromRaw(a,s){return this.decode(a,s)}}function u(H){return(4*H/3+3&-4)>>>0}C.exports=g}],["bcrypto","/lib/safe.js",function(f,Le,C,Fe,He,Ve){/*!
 * safe.js - constant-time equals for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on golang/go:
 *   Copyright (c) 2009 The Go Authors. All rights reserved.
 *   https://github.com/golang/go
 *
 * Resources:
 *   https://github.com/golang/go/blob/master/src/crypto/subtle/constant_time.go
 */const e=ce(24,C);function S(m,_){if(e(m!=null&&m._isBuffer===!0),e(_!=null&&_._isBuffer===!0),P(m.length,0))return P(_.length,0);let E=m.length^_.length;for(let d=0;d<_.length;d++)E|=m[d%m.length]^_[d];return E-1>>>31}function oe(m,_){if(e(m!=null&&m._isBuffer===!0),e(_!=null&&_._isBuffer===!0),!P(m.length,_.length))return 0;let E=0;for(let d=0;d<m.length;d++)E|=m[d]^_[d];return E-1>>>31}function Q(m,_){return P(m&255,_&255)}function P(m,_){return(m^_)-1>>>31}function g(m,_,E){return m&E-1|_&~(E-1)}function u(m,_){return m-_>>>31}function H(m,_){return m-_-1>>>31}function a(m,_){return _-m>>>31}function s(m,_){return _-m-1>>>31}function n(m,_){return g(m,_,u(_,m))}function p(m,_){return g(m,_,a(_,m))}function v(m){return(m|0)*(m>>31|1)}function K(m){return(m>>31|-m>>31)&1}function w(m,_,E){e(m!=null&&m._isBuffer===!0),e(_!=null&&_._isBuffer===!0),e(P(m.length,_.length));const d=E-1&255,T=~(E-1)&255;for(let N=0;N<m.length;N++)m[N]=m[N]&d|_[N]&T}f.safeCompare=S,f.safeEqual=oe,f.safeEqualByte=Q,f.safeEqualInt=P,f.safeSelect=g,f.safeLT=u,f.safeLTE=H,f.safeGT=a,f.safeGTE=s,f.safeMin=n,f.safeMax=p,f.safeAbs=v,f.safeBool=K,f.safeCopy=w}],["bcrypto","/lib/internal/assert.js",function(f,Le,C,Fe,He,Ve){/*!
 * assert.js - assert for bcrypto
 * Copyright (c) 2020, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */function e(S,oe){if(!S){const Q=new Error(oe||"Assertion failed");throw Error.captureStackTrace&&Error.captureStackTrace(Q,e),Q}}C.exports=e}],["bcrypto","/lib/md5-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * md5.js - MD5 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(26,C)}],["bcrypto","/lib/js/md5.js",function(f,Le,C,Fe,He,Ve){/*!
 * md5.js - MD5 implementation for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/MD5
 *   https://tools.ietf.org/html/rfc1321
 */const e=ce(24,C),S=ce(27,C),oe=-1,Q=_e.alloc(8,0),P=_e.alloc(64,0);P[0]=128;const g=new Uint32Array([3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745]),u=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]);class H{constructor(){this.state=new Uint32Array(4),this.msg=new Uint32Array(16),this.block=_e.alloc(64),this.size=oe}init(){return this.state[0]=1732584193,this.state[1]=4023233417,this.state[2]=2562383102,this.state[3]=271733878,this.size=0,this}update(v){return e(v!=null&&v._isBuffer===!0),this._update(v,v.length),this}final(){return this._final(_e.alloc(16))}_update(v,K){e(this.size!==oe,"Context is not initialized.");let w=this.size&63,m=0;if(this.size+=K,w>0){let _=64-w;if(_>K&&(_=K),v.copy(this.block,w,m,m+_),w+=_,K-=_,m+=_,w<64)return;this._transform(this.block,0)}for(;K>=64;)this._transform(v,m),m+=64,K-=64;K>0&&v.copy(this.block,0,m,m+K)}_final(v){e(this.size!==oe,"Context is not initialized.");const K=this.size&63,w=this.size*8;n(Q,w>>>0,0),n(Q,w*(1/4294967296)>>>0,4),this._update(P,1+(119-K&63)),this._update(Q,8);for(let m=0;m<4;m++)n(v,this.state[m],m*4),this.state[m]=0;for(let m=0;m<16;m++)this.msg[m]=0;for(let m=0;m<64;m++)this.block[m]=0;return this.size=oe,v}_transform(v,K){const w=this.msg;let m=this.state[0],_=this.state[1],E=this.state[2],d=this.state[3],T=0;for(;T<16;T++)w[T]=s(v,K+T*4);for(T=0;T<64;T++){let N,R;T<16?(N=_&E|~_&d,R=T):T<32?(N=d&_|~d&E,R=5*T+1&15):T<48?(N=_^E^d,R=3*T+5&15):(N=E^(_|~d),R=7*T&15),N>>>=0,N=N+m+g[T]+w[R],N>>>=0,m=d,d=E,E=_,_=_+a(N,u[T]),_>>>=0}this.state[0]+=m,this.state[1]+=_,this.state[2]+=E,this.state[3]+=d}static hash(){return new H}static hmac(){return new S(H,64)}static digest(v){return H.ctx.init().update(v).final()}static root(v,K){return e(v!=null&&v._isBuffer===!0&&v.length===16),e(K!=null&&K._isBuffer===!0&&K.length===16),H.ctx.init().update(v).update(K).final()}static multi(v,K,w){const{ctx:m}=H;return m.init(),m.update(v),m.update(K),w&&m.update(w),m.final()}static mac(v,K){return H.hmac().init(K).update(v).final()}}H.native=0,H.id="MD5",H.size=16,H.bits=128,H.blockSize=64,H.zero=_e.alloc(16,0),H.ctx=new H;function a(p,v){return p<<v|p>>>32-v}function s(p,v){return p[v++]+p[v++]*256+p[v++]*65536+p[v]*16777216}function n(p,v,K){return p[K++]=v,v>>>=8,p[K++]=v,v>>>=8,p[K++]=v,v>>>=8,p[K++]=v,K}C.exports=H}],["bcrypto","/lib/internal/hmac.js",function(f,Le,C,Fe,He,Ve){/*!
 * hmac.js - hmac for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/HMAC
 *   https://tools.ietf.org/html/rfc2104
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/hmac.js
 */const e=ce(24,C);class S{constructor(Q,P,g=[],u=[]){e(typeof Q=="function"),e(P>>>0===P),e(Array.isArray(g)),e(Array.isArray(u)),this.hash=Q,this.size=P,this.x=g,this.y=u,this.inner=new Q,this.outer=new Q}init(Q){if(e(Q!=null&&Q._isBuffer===!0),Q.length>this.size){const g=this.hash,u=new g;u.init(...this.x),u.update(Q),Q=u.final(...this.y),e(Q.length<=this.size)}const P=_e.alloc(this.size);for(let g=0;g<Q.length;g++)P[g]=Q[g]^54;for(let g=Q.length;g<P.length;g++)P[g]=54;this.inner.init(...this.x),this.inner.update(P);for(let g=0;g<Q.length;g++)P[g]=Q[g]^92;for(let g=Q.length;g<P.length;g++)P[g]=92;return this.outer.init(...this.x),this.outer.update(P),this}update(Q){return this.inner.update(Q),this}final(){return this.outer.update(this.inner.final(...this.y)),this.outer.final(...this.y)}}C.exports=S}],["bcrypto","/lib/sha1-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha1.js - sha1 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(29,C)}],["bcrypto","/lib/js/sha1.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha1.js - SHA1 implementation for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-1
 *   https://tools.ietf.org/html/rfc3174
 *   http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/sha/1.js
 */const e=ce(24,C),S=ce(27,C),oe=-1,Q=_e.alloc(8,0),P=_e.alloc(64,0);P[0]=128;const g=new Uint32Array([1518500249,1859775393,2400959708,3395469782]);class u{constructor(){this.state=new Uint32Array(5),this.msg=new Uint32Array(80),this.block=_e.alloc(64),this.size=oe}init(){return this.state[0]=1732584193,this.state[1]=4023233417,this.state[2]=2562383102,this.state[3]=271733878,this.state[4]=3285377520,this.size=0,this}update(m){return e(m!=null&&m._isBuffer===!0),this._update(m,m.length),this}final(){return this._final(_e.alloc(20))}_update(m,_){e(this.size!==oe,"Context is not initialized.");let E=this.size&63,d=0;if(this.size+=_,E>0){let T=64-E;if(T>_&&(T=_),m.copy(this.block,E,d,d+T),E+=T,_-=T,d+=T,E<64)return;this._transform(this.block,0)}for(;_>=64;)this._transform(m,d),d+=64,_-=64;_>0&&m.copy(this.block,0,d,d+_)}_final(m){e(this.size!==oe,"Context is not initialized.");const _=this.size&63,E=this.size*8;K(Q,E*(1/4294967296)>>>0,0),K(Q,E>>>0,4),this._update(P,1+(119-_&63)),this._update(Q,8);for(let d=0;d<5;d++)K(m,this.state[d],d*4),this.state[d]=0;for(let d=0;d<80;d++)this.msg[d]=0;for(let d=0;d<64;d++)this.block[d]=0;return this.size=oe,m}_transform(m,_){const E=this.msg;let d=this.state[0],T=this.state[1],N=this.state[2],R=this.state[3],O=this.state[4],A=0;for(;A<16;A++)E[A]=v(m,_+A*4);for(;A<80;A++)E[A]=H(E[A-3]^E[A-8]^E[A-14]^E[A-16],1);for(A=0;A<80;A++){const y=A/20|0,U=H(d,5)+a(y,T,N,R)+O+E[A]+g[y];O=R,R=N,N=H(T,30),T=d,d=U>>>0}this.state[0]+=d,this.state[1]+=T,this.state[2]+=N,this.state[3]+=R,this.state[4]+=O}static hash(){return new u}static hmac(){return new S(u,64)}static digest(m){return u.ctx.init().update(m).final()}static root(m,_){return e(m!=null&&m._isBuffer===!0&&m.length===20),e(_!=null&&_._isBuffer===!0&&_.length===20),u.ctx.init().update(m).update(_).final()}static multi(m,_,E){const{ctx:d}=u;return d.init(),d.update(m),d.update(_),E&&d.update(E),d.final()}static mac(m,_){return u.hmac().init(_).update(m).final()}}u.native=0,u.id="SHA1",u.size=20,u.bits=160,u.blockSize=64,u.zero=_e.alloc(20,0),u.ctx=new u;function H(w,m){return w<<m|w>>>32-m}function a(w,m,_,E){return w===0?s(m,_,E):w===1||w===3?p(m,_,E):w===2?n(m,_,E):0}function s(w,m,_){return w&m^~w&_}function n(w,m,_){return w&m^w&_^m&_}function p(w,m,_){return w^m^_}function v(w,m){return w[m++]*16777216+w[m++]*65536+w[m++]*256+w[m]}function K(w,m,_){return w[_++]=m>>>24,w[_++]=m>>>16,w[_++]=m>>>8,w[_++]=m,_}C.exports=u}],["bcrypto","/lib/sha224-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha224.js - SHA224 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(31,C)}],["bcrypto","/lib/js/sha224.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha224.js - SHA224 implementation for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-2
 *   https://tools.ietf.org/html/rfc4634
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/sha/224.js
 */const e=ce(24,C),S=ce(32,C),oe=ce(27,C);class Q extends S{constructor(){super()}init(){return this.state[0]=3238371032,this.state[1]=914150663,this.state[2]=812702999,this.state[3]=4144912697,this.state[4]=4290775857,this.state[5]=1750603025,this.state[6]=1694076839,this.state[7]=3204075428,this.size=0,this}final(){return super.final().slice(0,28)}static hash(){return new Q}static hmac(){return new oe(Q,64)}static digest(g){return Q.ctx.init().update(g).final()}static root(g,u){return e(g!=null&&g._isBuffer===!0&&g.length===28),e(u!=null&&u._isBuffer===!0&&u.length===28),Q.ctx.init().update(g).update(u).final()}static multi(g,u,H){const{ctx:a}=Q;return a.init(),a.update(g),a.update(u),H&&a.update(H),a.final()}static mac(g,u){return Q.hmac().init(u).update(g).final()}}Q.native=0,Q.id="SHA224",Q.size=28,Q.bits=224,Q.blockSize=64,Q.zero=_e.alloc(28,0),Q.ctx=new Q,C.exports=Q}],["bcrypto","/lib/js/sha256.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha256.js - SHA256 implementation for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-2
 *   https://tools.ietf.org/html/rfc4634
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/sha/256.js
 */const e=ce(24,C),S=ce(27,C),oe=-1,Q=_e.alloc(8,0),P=_e.alloc(64,0);P[0]=128;const g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);class u{constructor(){this.state=new Uint32Array(8),this.msg=new Uint32Array(64),this.block=_e.alloc(64),this.size=oe}init(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.size=0,this}update(_){return e(_!=null&&_._isBuffer===!0),this._update(_,_.length),this}final(){return this._final(_e.alloc(32))}_update(_,E){e(this.size!==oe,"Context is not initialized.");let d=this.size&63,T=0;if(this.size+=E,d>0){let N=64-d;if(N>E&&(N=E),_.copy(this.block,d,T,T+N),d+=N,E-=N,T+=N,d<64)return;this._transform(this.block,0)}for(;E>=64;)this._transform(_,T),T+=64,E-=64;E>0&&_.copy(this.block,0,T,T+E)}_final(_){e(this.size!==oe,"Context is not initialized.");const E=this.size&63,d=this.size*8;w(Q,d*(1/4294967296)>>>0,0),w(Q,d>>>0,4),this._update(P,1+(119-E&63)),this._update(Q,8);for(let T=0;T<8;T++)w(_,this.state[T],T*4),this.state[T]=0;for(let T=0;T<64;T++)this.msg[T]=0;for(let T=0;T<64;T++)this.block[T]=0;return this.size=oe,_}_transform(_,E){const d=this.msg;let T=this.state[0],N=this.state[1],R=this.state[2],O=this.state[3],A=this.state[4],y=this.state[5],U=this.state[6],q=this.state[7],k=0;for(;k<16;k++)d[k]=K(_,E+k*4);for(;k<64;k++)d[k]=n(d[k-2])+d[k-7]+s(d[k-15])+d[k-16];for(k=0;k<64;k++){const o=q+a(A)+p(A,y,U)+g[k]+d[k],h=H(T)+v(T,N,R);q=U,U=y,y=A,A=O+o>>>0,O=R,R=N,N=T,T=o+h>>>0}this.state[0]+=T,this.state[1]+=N,this.state[2]+=R,this.state[3]+=O,this.state[4]+=A,this.state[5]+=y,this.state[6]+=U,this.state[7]+=q}static hash(){return new u}static hmac(){return new S(u,64)}static digest(_){return u.ctx.init().update(_).final()}static root(_,E){return e(_!=null&&_._isBuffer===!0&&_.length===32),e(E!=null&&E._isBuffer===!0&&E.length===32),u.ctx.init().update(_).update(E).final()}static multi(_,E,d){const{ctx:T}=u;return T.init(),T.update(_),T.update(E),d&&T.update(d),T.final()}static mac(_,E){return u.hmac().init(E).update(_).final()}}u.native=0,u.id="SHA256",u.size=32,u.bits=256,u.blockSize=64,u.zero=_e.alloc(32,0),u.ctx=new u;function H(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function a(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function s(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}function n(m){return(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10}function p(m,_,E){return E^m&(_^E)}function v(m,_,E){return m&_|E&(m|_)}function K(m,_){return m[_++]*16777216+m[_++]*65536+m[_++]*256+m[_]}function w(m,_,E){return m[E++]=_>>>24,m[E++]=_>>>16,m[E++]=_>>>8,m[E++]=_,E}C.exports=u}],["bcrypto","/lib/sha256-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha256.js - sha256 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(32,C)}],["bcrypto","/lib/sha384-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha384.js - SHA384 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(35,C)}],["bcrypto","/lib/js/sha384.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha384.js - SHA384 implementation for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-2
 *   https://tools.ietf.org/html/rfc4634
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/sha/384.js
 */const e=ce(24,C),S=ce(36,C),oe=ce(27,C);class Q extends S{constructor(){super()}init(){return this.state[0]=3418070365,this.state[1]=3238371032,this.state[2]=1654270250,this.state[3]=914150663,this.state[4]=2438529370,this.state[5]=812702999,this.state[6]=355462360,this.state[7]=4144912697,this.state[8]=1731405415,this.state[9]=4290775857,this.state[10]=2394180231,this.state[11]=1750603025,this.state[12]=3675008525,this.state[13]=1694076839,this.state[14]=1203062813,this.state[15]=3204075428,this.size=0,this}final(){return super.final().slice(0,48)}static hash(){return new Q}static hmac(){return new oe(Q,128)}static digest(g){return Q.ctx.init().update(g).final()}static root(g,u){return e(g!=null&&g._isBuffer===!0&&g.length===48),e(u!=null&&u._isBuffer===!0&&u.length===48),Q.ctx.init().update(g).update(u).final()}static multi(g,u,H){const{ctx:a}=Q;return a.init(),a.update(g),a.update(u),H&&a.update(H),a.final()}static mac(g,u){return Q.hmac().init(u).update(g).final()}}Q.native=0,Q.id="SHA384",Q.size=48,Q.bits=384,Q.blockSize=128,Q.zero=_e.alloc(48,0),Q.ctx=new Q,C.exports=Q}],["bcrypto","/lib/js/sha512.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha512.js - SHA512 implementation for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-2
 *   https://tools.ietf.org/html/rfc4634
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/sha/512.js
 */const e=ce(24,C),S=ce(27,C),oe=-1,Q=_e.alloc(16,0),P=_e.alloc(128,0);P[0]=128;const g=new Uint32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);class u{constructor(){this.state=new Uint32Array(16),this.msg=new Uint32Array(160),this.block=_e.alloc(128),this.size=oe}init(){return this.state[0]=1779033703,this.state[1]=4089235720,this.state[2]=3144134277,this.state[3]=2227873595,this.state[4]=1013904242,this.state[5]=4271175723,this.state[6]=2773480762,this.state[7]=1595750129,this.state[8]=1359893119,this.state[9]=2917565137,this.state[10]=2600822924,this.state[11]=725511199,this.state[12]=528734635,this.state[13]=4215389547,this.state[14]=1541459225,this.state[15]=327033209,this.size=0,this}update(X){return e(X!=null&&X._isBuffer===!0),this._update(X,X.length),this}final(){return this._final(_e.alloc(64))}_update(X,B){e(this.size!==oe,"Context is not initialized.");let G=this.size&127,$=0;if(this.size+=B,G>0){let le=128-G;if(le>B&&(le=B),X.copy(this.block,G,$,$+le),G+=le,B-=le,$+=le,G<128)return;this._transform(this.block,0)}for(;B>=128;)this._transform(X,$),$+=128,B-=128;B>0&&X.copy(this.block,0,$,$+B)}_final(X){e(this.size!==oe,"Context is not initialized.");const B=this.size&127,G=this.size*8;J(Q,G*(1/4294967296)>>>0,8),J(Q,G>>>0,12),this._update(P,1+(239-B&127)),this._update(Q,16);for(let $=0;$<16;$++)J(X,this.state[$],$*4),this.state[$]=0;for(let $=0;$<160;$++)this.msg[$]=0;for(let $=0;$<128;$++)this.block[$]=0;return this.size=oe,X}_prepare(X,B){const G=this.msg;let $=0;for(;$<32;$++)G[$]=z(X,B+$*4);for(;$<160;$+=2){const le=o(G[$-4],G[$-3]),Ee=h(G[$-4],G[$-3]),Ne=G[$-14],ke=G[$-13],se=q(G[$-30],G[$-29]),ge=k(G[$-30],G[$-29]),ve=G[$-32],Ue=G[$-31];G[$+0]=n(le,Ee,Ne,ke,se,ge,ve,Ue),G[$+1]=p(le,Ee,Ne,ke,se,ge,ve,Ue)}}_transform(X,B){const G=this.msg;this._prepare(X,B);let $=this.state[0],le=this.state[1],Ee=this.state[2],Ne=this.state[3],ke=this.state[4],se=this.state[5],ge=this.state[6],ve=this.state[7],Ue=this.state[8],re=this.state[9],Re=this.state[10],r=this.state[11],c=this.state[12],b=this.state[13],V=this.state[14],ie=this.state[15];for(let L=0;L<G.length;L+=2){let x=V,j=ie,t=y(Ue,re),l=U(Ue,re);const I=d(Ue,re,Re,r,c),Y=T(Ue,re,Re,r,c,b),Z=g[L+0],W=g[L+1],ue=G[L+0],pe=G[L+1],Ie=v(x,j,t,l,I,Y,Z,W,ue,pe),te=K(x,j,t,l,I,Y,Z,W,ue,pe);x=O($,le),j=A($,le),t=N($,le,Ee,Ne,ke),l=R($,le,Ee,Ne,ke,se);const D=a(x,j,t,l),F=s(x,j,t,l);V=c,ie=b,c=Re,b=r,Re=Ue,r=re,Ue=a(ge,ve,Ie,te),re=s(ve,ve,Ie,te),ge=ke,ve=se,ke=Ee,se=Ne,Ee=$,Ne=le,$=a(Ie,te,D,F),le=s(Ie,te,D,F)}H(this.state,0,$,le),H(this.state,2,Ee,Ne),H(this.state,4,ke,se),H(this.state,6,ge,ve),H(this.state,8,Ue,re),H(this.state,10,Re,r),H(this.state,12,c,b),H(this.state,14,V,ie)}static hash(){return new u}static hmac(){return new S(u,128)}static digest(X){return u.ctx.init().update(X).final()}static root(X,B){return e(X!=null&&X._isBuffer===!0&&X.length===64),e(B!=null&&B._isBuffer===!0&&B.length===64),u.ctx.init().update(X).update(B).final()}static multi(X,B,G){const{ctx:$}=u;return $.init(),$.update(X),$.update(B),G&&$.update(G),$.final()}static mac(X,B){return u.hmac().init(B).update(X).final()}}u.native=0,u.id="SHA512",u.size=64,u.bits=512,u.blockSize=128,u.zero=_e.alloc(64,0),u.ctx=new u;function H(M,X,B,G){const $=M[X+0],le=M[X+1],Ee=G+le>>>0,Ne=(Ee<G)+B+$;M[X+0]=Ne>>>0,M[X+1]=Ee}function a(M,X,B,G){return(X+G>>>0<X)+M+B>>>0}function s(M,X,B,G){return X+G>>>0}function n(M,X,B,G,$,le,Ee,Ne){let ke=0,se=X;return se=se+G>>>0,ke+=se<X,se=se+le>>>0,ke+=se<le,se=se+Ne>>>0,ke+=se<Ne,M+B+$+Ee+ke>>>0}function p(M,X,B,G,$,le,Ee,Ne){return X+G+le+Ne>>>0}function v(M,X,B,G,$,le,Ee,Ne,ke,se){let ge=0,ve=X;return ve=ve+G>>>0,ge+=ve<X,ve=ve+le>>>0,ge+=ve<le,ve=ve+Ne>>>0,ge+=ve<Ne,ve=ve+se>>>0,ge+=ve<se,M+B+$+Ee+ke+ge>>>0}function K(M,X,B,G,$,le,Ee,Ne,ke,se){return X+G+le+Ne+se>>>0}function w(M,X,B){return(X<<32-B|M>>>B)>>>0}function m(M,X,B){return(M<<32-B|X>>>B)>>>0}function _(M,X,B){return M>>>B}function E(M,X,B){return(M<<32-B|X>>>B)>>>0}function d(M,X,B,G,$,le){return(M&B^~M&$)>>>0}function T(M,X,B,G,$,le){return(X&G^~X&le)>>>0}function N(M,X,B,G,$,le){return(M&B^M&$^B&$)>>>0}function R(M,X,B,G,$,le){return(X&G^X&le^G&le)>>>0}function O(M,X){const B=w(M,X,28),G=w(X,M,2),$=w(X,M,7);return(B^G^$)>>>0}function A(M,X){const B=m(M,X,28),G=m(X,M,2),$=m(X,M,7);return(B^G^$)>>>0}function y(M,X){const B=w(M,X,14),G=w(M,X,18),$=w(X,M,9);return(B^G^$)>>>0}function U(M,X){const B=m(M,X,14),G=m(M,X,18),$=m(X,M,9);return(B^G^$)>>>0}function q(M,X){const B=w(M,X,1),G=w(M,X,8),$=_(M,X,7);return(B^G^$)>>>0}function k(M,X){const B=m(M,X,1),G=m(M,X,8),$=E(M,X,7);return(B^G^$)>>>0}function o(M,X){const B=w(M,X,19),G=w(X,M,29),$=_(M,X,6);return(B^G^$)>>>0}function h(M,X){const B=m(M,X,19),G=m(X,M,29),$=E(M,X,6);return(B^G^$)>>>0}function z(M,X){return M[X++]*16777216+M[X++]*65536+M[X++]*256+M[X]}function J(M,X,B){return M[B++]=X>>>24,M[B++]=X>>>16,M[B++]=X>>>8,M[B++]=X,B}C.exports=u}],["bcrypto","/lib/sha512-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * sha512.js - sha512 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(36,C)}],["bcrypto","/lib/gost94-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * gost94.js - gost94 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(39,C)}],["bcrypto","/lib/js/gost94.js",function(f,Le,C,Fe,He,Ve){/*!
 * gost94.js - GOST94 implementation for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on RustCrypto/hashes:
 *   Copyright (c) 2016-2018, The RustCrypto Authors (MIT License).
 *   https://github.com/RustCrypto/hashes
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/GOST_(hash_function)
 *   https://tools.ietf.org/html/rfc4357
 *   https://tools.ietf.org/html/rfc5831
 *   https://github.com/RustCrypto/hashes/blob/master/gost94/src/gost94.rs
 */const e=ce(24,C),S=ce(27,C),oe=-1,Q=_e.alloc(32,0),P=_e.alloc(32,0),g=_e.from([0,255,0,255,0,255,0,255,255,0,255,0,255,0,255,0,0,255,255,0,255,0,0,255,255,0,0,0,255,255,0,255]),u=[_e.from([10,4,5,6,8,1,3,7,13,12,14,0,9,2,11,15]),_e.from([5,15,4,0,2,13,11,9,1,7,6,3,12,14,10,8]),_e.from([7,15,12,14,9,4,1,0,3,11,5,2,6,10,8,13]),_e.from([4,10,7,12,0,15,2,8,14,1,6,5,13,11,9,3]),_e.from([7,6,4,11,9,12,2,10,1,8,0,14,15,13,3,5]),_e.from([7,6,2,4,13,9,15,0,10,1,5,11,8,14,12,3]),_e.from([13,14,4,1,7,0,5,10,3,12,8,15,6,2,9,11]),_e.from([1,3,10,9,5,11,4,15,8,6,7,14,13,0,2,12])],H=[_e.from([4,10,9,2,13,8,0,14,6,11,1,12,7,15,5,3]),_e.from([14,11,4,12,6,13,15,10,2,3,8,1,0,7,5,9]),_e.from([5,8,1,13,10,3,4,2,14,15,12,7,6,0,9,11]),_e.from([7,13,10,1,0,8,9,15,14,4,6,12,11,2,5,3]),_e.from([6,12,7,1,5,15,13,8,4,10,9,14,0,3,11,2]),_e.from([4,11,10,0,7,2,1,13,3,6,8,5,9,12,15,14]),_e.from([13,11,4,1,3,15,5,9,0,10,14,7,6,8,2,12]),_e.from([1,15,13,0,5,7,10,4,9,2,3,14,6,11,8,12])],a=[_e.from([12,4,6,2,10,5,11,9,14,8,13,7,0,3,15,1]),_e.from([6,8,2,3,9,10,5,12,1,14,4,7,11,13,0,15]),_e.from([11,3,5,8,2,15,10,13,14,1,7,4,12,9,6,0]),_e.from([12,8,2,1,13,4,15,6,7,0,10,5,3,14,9,11]),_e.from([7,15,5,10,8,1,6,13,0,9,3,14,11,4,2,12]),_e.from([5,13,15,6,9,2,12,10,11,7,8,1,4,3,14,0]),_e.from([8,14,2,5,6,9,1,12,15,4,11,0,13,10,3,7]),_e.from([1,7,14,13,0,5,8,3,4,15,10,6,9,12,11,2])];class s{constructor(){this.S=u,this.state=_e.alloc(32),this.sigma=_e.alloc(32),this.block=_e.alloc(32),this.size=oe}init(O){return O==null&&(O=u),e(Array.isArray(O)&&O.length===8),this.S=O,this.state.fill(0),this.sigma.fill(0),this.size=0,this}update(O){return e(O!=null&&O._isBuffer===!0),this._update(O,O.length),this}final(){return this._final(_e.alloc(32))}_update(O,A){e(this.size!==oe,"Context is not initialized.");let y=this.size&31,U=0;if(this.size+=A,y>0){let q=32-y;if(q>A&&(q=A),O.copy(this.block,y,U,U+q),y+=q,A-=q,U+=q,y<32)return;this._transform(this.block,0)}for(;A>=32;)this._transform(O,U),U+=32,A-=32;A>0&&O.copy(this.block,0,U,U+A)}_final(O){e(this.size!==oe,"Context is not initialized.");const A=this.size*8,y=this.size&31;y!==0&&this._update(Q,32-y);const U=A*(1/4294967296)>>>0,q=A>>>0;return N(P,q,0),N(P,U,4),this._f(P),this._f(this.sigma),this.state.copy(O,0),this.state.fill(0),this.sigma.fill(0),this.block.fill(0),P.fill(0,0,8),this.size=oe,O}_transform(O,A){const y=O.slice(A,A+32);this._f(y),this._sum(y)}_shuffle(O,A){const y=_e.alloc(32);A.copy(y,0);for(let U=0;U<12;U++)E(y);w(y,O),E(y),w(this.state,y);for(let U=0;U<61;U++)E(this.state)}_f(O){const A=_e.alloc(32);this.state.copy(A,0);let y,U,q;y=_(K(this.state,O)),v(A,0,y,this.S),U=m(this.state),q=m(m(O)),y=_(K(U,q)),v(A,8,y,this.S),U=m(U),w(U,g),q=m(m(q)),y=_(K(U,q)),v(A,16,y,this.S),U=m(U),q=m(m(q)),y=_(K(U,q)),v(A,24,y,this.S),this._shuffle(O,A)}_sum(O){let A=0;for(let y=0;y<32;y++)A+=this.sigma[y]+O[y],this.sigma[y]=A,A>>>=8}static hash(){return new s}static hmac(O){return new S(s,32,[O])}static digest(O,A){return s.ctx.init(A).update(O).final()}static root(O,A,y){return e(O!=null&&O._isBuffer===!0&&O.length===32),e(A!=null&&A._isBuffer===!0&&A.length===32),s.ctx.init(y).update(O).update(A).final()}static multi(O,A,y,U){const{ctx:q}=s;return q.init(U),q.update(O),q.update(A),y&&q.update(y),q.final()}static mac(O,A,y){return s.hmac(y).init(A).update(O).final()}}s.native=0,s.id="GOST94",s.size=32,s.bits=256,s.blockSize=32,s.zero=_e.alloc(32,0),s.ctx=new s,s.CRYPTOPRO=u,s.TEST=H,s.S2015=a;function n(R,O){let A=0;for(let y=0;y<8;y++){const U=4*y,q=(R&15<<U)>>>U;A+=O[y][q]<<U}return A>>>0}function p(R,O,A){return d(n(R+O>>>0,A),11)}function v(R,O,A,y){const U=new Uint32Array(8);let q=T(R,O+0),k=T(R,O+4);for(let o=0;o<8;o++)U[o]=T(A,o*4);for(let o=0;o<3;o++)for(let h=0;h<8;h++){const z=k^p(q,U[h],y);k=q,q=z}for(let o=7;o>=0;o--){const h=k^p(q,U[o],y);k=q,q=h}N(R,k,O+0),N(R,q,O+4)}function K(R,O){const A=_e.alloc(32);for(let y=0;y<32;y++)A[y]=R[y]^O[y];return A}function w(R,O){for(let A=0;A<32;A++)R[A]^=O[A]}function m(R){const O=_e.alloc(32);R.copy(O,0,8,32);for(let A=0;A<8;A++)O[24+A]=R[A]^R[A+8];return O}function _(R){const O=_e.alloc(32);for(let A=0;A<4;A++)for(let y=0;y<8;y++)O[A+4*y]=R[8*A+y];return O}function E(R){const O=_e.alloc(32);R.copy(O,0,2,32),R.copy(O,30,0,2),O[30]^=R[2],O[31]^=R[3],O[30]^=R[4],O[31]^=R[5],O[30]^=R[6],O[31]^=R[7],O[30]^=R[24],O[31]^=R[25],O[30]^=R[30],O[31]^=R[31],O.copy(R,0)}function d(R,O){return R<<O|R>>>32-O}function T(R,O){return R[O++]+R[O++]*256+R[O++]*65536+R[O]*16777216}function N(R,O,A){return R[A++]=O,O>>>=8,R[A++]=O,O>>>=8,R[A++]=O,O>>>=8,R[A++]=O,A}C.exports=s}],["bcrypto","/lib/dsa-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * dsa.js - DSA for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(41,C)}],["bcrypto","/lib/js/dsa.js",function(f,Le,C,Fe,He,Ve){/*!
 * dsa.js - DSA for javascript
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on golang/go:
 *   Copyright (c) 2009, The Go Authors. All rights reserved.
 *   https://github.com/golang/go
 *
 * References:
 *
 *   [FIPS186] Federal Information Processing Standards Publication
 *     National Institute of Standards and Technology
 *     http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.186-4.pdf
 *
 *   [DSA] Digital Signature Algorithm (wikipedia)
 *     https://en.wikipedia.org/wiki/Digital_Signature_Algorithm
 *
 *   [RFC6979] Deterministic Usage of the Digital Signature
 *             Algorithm (DSA) and Elliptic Curve Digital
 *             Signature Algorithm (ECDSA)
 *     T. Pornin
 *     https://tools.ietf.org/html/rfc6979
 */const e=ce(24,C),S=ce(42,C),oe=ce(45,C),Q=ce(47,C),P=ce(33,C),{isProbablePrime:g}=ce(49,C),u=ce(50,C),H=2048,a=512,s=1e4;class n{constructor(){this.p=new S(0),this.q=new S(0),this.g=new S(0)}bits(){return this.p.bitLength()}size(){return this.q.byteLength()}isSane(){if(this.p.sign()<0||this.q.sign()<0)return!1;const b=this.p.bitLength(),V=this.q.bitLength();return!(b<a||b>s||V!==160&&V!==224&&V!==256||this.g.cmpn(2)<0||this.g.cmp(this.p.subn(1))>=0||!this.p.isOdd()||!this.q.isOdd())}verify(){return this.g.powm(this.q,this.p).cmpn(1)===0}generate(b,V){if(e(b>>>0===b),e(V>>>0===V),!(b===1024&&V===160)&&!(b===2048&&V===224)&&!(b===2048&&V===256)&&!(b===3072&&V===256))throw new Error("Invalid parameter sizes.");if(b<a||b>s||(V&7)!==0)throw new Error("Invalid parameter sizes.");let ie=null,L=null;e:for(;;)if(ie=S.randomBits(oe,V),ie.setn(V-1,1),ie.setn(0,1),!!g(ie,64))for(let l=0;l<4*b;l++){L=S.randomBits(oe,b),L.setn(b-1,1),L.setn(0,1),L.isub(L.mod(ie).isubn(1));const I=L.bitLength();if(!(I<b||I>s)&&!!g(L,64))break e}const x=new S(2),t=L.subn(1).div(ie);for(;;){const l=x.powm(t,L);if(l.cmpn(1)===0){x.iaddn(1);continue}return this.p=L,this.q=ie,this.g=l,this}}toParams(){const b=new n;return b.p=this.p,b.q=this.q,b.g=this.g,b}encode(){let b=0;b+=u.sizeInt(this.p),b+=u.sizeInt(this.q),b+=u.sizeInt(this.g);const V=_e.alloc(u.sizeSeq(b));let ie=0;return ie=u.writeSeq(V,ie,b),ie=u.writeInt(V,ie,this.p),ie=u.writeInt(V,ie,this.q),ie=u.writeInt(V,ie,this.g),e(ie===V.length),V}decode(b){e(b!=null&&b._isBuffer===!0);let V=0;if(V=u.readSeq(b,V),[this.p,V]=u.readInt(b,V),[this.q,V]=u.readInt(b,V),[this.g,V]=u.readInt(b,V),V!==b.length)throw new Error("Trailing bytes.");return this}static generate(b,V){return new n().generate(b,V)}static decode(b){return new n().decode(b)}}class p extends n{constructor(){super(),this.y=new S(0)}isSane(){return!(!super.isSane()||this.y.cmpn(2)<0||this.y.cmp(this.p.subn(1))>=0)}verify(){return super.verify()?this.y.powm(this.q,this.p).cmpn(1)===0:!1}encode(){let b=0;b+=u.sizeInt(this.y),b+=u.sizeInt(this.p),b+=u.sizeInt(this.q),b+=u.sizeInt(this.g);const V=_e.alloc(u.sizeSeq(b));let ie=0;return ie=u.writeSeq(V,ie,b),ie=u.writeInt(V,ie,this.y),ie=u.writeInt(V,ie,this.p),ie=u.writeInt(V,ie,this.q),ie=u.writeInt(V,ie,this.g),e(ie===V.length),V}decode(b){e(b!=null&&b._isBuffer===!0);let V=0;if(V=u.readSeq(b,V),[this.y,V]=u.readInt(b,V),[this.p,V]=u.readInt(b,V),[this.q,V]=u.readInt(b,V),[this.g,V]=u.readInt(b,V),V!==b.length)throw new Error("Trailing bytes.");return this}static decode(b){return new p().decode(b)}}class v extends p{constructor(){super(),this.x=new S(0)}isSane(){return!(!super.isSane()||this.x.sign()<=0||this.x.cmp(this.q)>=0)}isSaneCompute(){const b=new n;return b.p=this.p,b.q=this.q,b.g=this.g,!(!b.isSane()||this.x.sign()<=0||this.x.cmp(this.q)>=0)}verify(){if(!super.verify())return!1;const b=this.g.powm(this.x,this.p);return this.y.eq(b)}toPublic(){const b=new p;return b.p=this.p,b.q=this.q,b.g=this.g,b.y=this.y,b}encode(){let b=0;b+=u.sizeVersion(0),b+=u.sizeInt(this.p),b+=u.sizeInt(this.q),b+=u.sizeInt(this.g),b+=u.sizeInt(this.y),b+=u.sizeInt(this.x);const V=_e.alloc(u.sizeSeq(b));let ie=0;return ie=u.writeSeq(V,ie,b),ie=u.writeVersion(V,ie,0),ie=u.writeInt(V,ie,this.p),ie=u.writeInt(V,ie,this.q),ie=u.writeInt(V,ie,this.g),ie=u.writeInt(V,ie,this.y),ie=u.writeInt(V,ie,this.x),e(ie===V.length),V}decode(b){e(b!=null&&b._isBuffer===!0);let V=0;if(V=u.readSeq(b,V),V=u.readVersion(b,V,0),[this.p,V]=u.readInt(b,V),[this.q,V]=u.readInt(b,V),[this.g,V]=u.readInt(b,V),[this.y,V]=u.readInt(b,V),[this.x,V]=u.readInt(b,V),V!==b.length)throw new Error("Trailing bytes.");return this}static decode(b){return new v().decode(b)}}class K{constructor(){this.r=new S(0),this.s=new S(0)}encode(){const b=u.sizeInt(this.r)+u.sizeInt(this.s),V=_e.alloc(u.sizeSeq(b));let ie=0;return ie=u.writeSeq(V,ie,b),ie=u.writeInt(V,ie,this.r),ie=u.writeInt(V,ie,this.s),e(ie===V.length),V}decode(b){e(b!=null&&b._isBuffer===!0);let V=0;if(V=u.readSeq(b,V),[this.r,V]=u.readInt(b,V),[this.s,V]=u.readInt(b,V),V!==b.length)throw new Error("Trailing bytes.");return this}encodeRS(b){return e(b>>0===b),_e.concat([this.r.encode("be",b),this.s.encode("be",b)])}decodeRS(b,V){return e(b!=null&&b._isBuffer===!0),V==null&&(V=b.length>>>1),e(V>>0===V),e(b.length===V*2),this.r=S.decode(b.slice(0,V)),this.s=S.decode(b.slice(V,V*2)),this}static decode(b){return new K().decode(b)}static decodeRS(b,V){return new K().decodeRS(b,V)}}function w(c){e(c!=null&&c._isBuffer===!0);let b;try{b=v.decode(c)}catch{b=p.decode(c)}const V=b.toParams();if(!V.isSane())throw new Error("Invalid DSA key.");return V.encode()}function m(c){if(c==null&&(c=H),e(c>>>0===c),c<a||c>s)throw new RangeError(`"bits" ranges from ${a} to ${s}.`);const b=c,V=c<2048?160:256;return n.generate(b,V).encode()}async function _(c){return m(c)}function E(c){const b=n.decode(c);if(!b.isSane())throw new Error("Invalid DSA params.");return b.bits()}function d(c){const b=n.decode(c);if(!b.isSane())throw new Error("Invalid DSA params.");return b.q.bitLength()}function T(c){e(c!=null&&c._isBuffer===!0);let b;try{b=n.decode(c)}catch{return!1}return b.isSane()?b.verify():!1}function N(c){e(c&&typeof c=="object");const b=new n;if(c.p!=null&&(b.p=S.decode(c.p)),c.q!=null&&(b.q=S.decode(c.q)),c.g!=null&&(b.g=S.decode(c.g)),!b.isSane())throw new Error("Invalid DSA parameters.");return b.encode()}function R(c){const b=n.decode(c);if(!b.isSane())throw new Error("Invalid DSA parameters.");return{p:b.p.encode(),q:b.q.encode(),g:b.g.encode()}}function O(c){const b=n.decode(c);if(!b.isSane())throw new Error("Invalid DSA parameters.");const{p:V,q:ie,g:L}=b,x=S.random(oe,1,ie),j=L.powm(x,V),t=new v;return t.p=V,t.q=ie,t.g=L,t.x=x,t.y=j,t.encode()}function A(c){const b=m(c);return O(b)}async function y(c){const b=await _(c);return O(b)}function U(c){const b=v.decode(c);if(!b.isSane())throw new Error("Invalid DSA private key.");return b.bits()}function q(c){const b=v.decode(c);if(!b.isSane())throw new Error("Invalid DSA private key.");return b.q.bitLength()}function k(c){e(c!=null&&c._isBuffer===!0);let b;try{b=v.decode(c)}catch{return!1}return b.isSane()?b.verify():!1}function o(c){e(c&&typeof c=="object");const b=new v;if(c.p!=null&&(b.p=S.decode(c.p)),c.q!=null&&(b.q=S.decode(c.q)),c.g!=null&&(b.g=S.decode(c.g)),c.y!=null&&(b.y=S.decode(c.y)),c.x!=null&&(b.x=S.decode(c.x)),b.y.isZero()){if(!b.isSaneCompute())throw new Error("Invalid DSA private key.");b.y=b.g.powm(b.x,b.p)}else if(!b.isSane())throw new Error("Invalid DSA private key.");return b.encode()}function h(c){const b=v.decode(c);if(!b.isSane())throw new Error("Invalid RSA private key.");return{p:b.p.encode(),q:b.q.encode(),g:b.g.encode(),y:b.y.encode(),x:b.x.encode()}}function z(c){const b=v.decode(c);if(!b.isSane())throw new Error("Invalid DSA private key.");return b.toPublic().encode()}function J(c){const b=p.decode(c);if(!b.isSane())throw new Error("Invalid DSA public key.");return b.bits()}function M(c){const b=p.decode(c);if(!b.isSane())throw new Error("Invalid DSA public key.");return b.q.bitLength()}function X(c){let b;try{b=p.decode(c)}catch{return!1}return b.isSane()?b.verify():!1}function B(c){e(c&&typeof c=="object");const b=new p;if(c.p!=null&&(b.p=S.decode(c.p)),c.q!=null&&(b.q=S.decode(c.q)),c.g!=null&&(b.g=S.decode(c.g)),c.y!=null&&(b.y=S.decode(c.y)),!b.isSane())throw new Error("Invalid DSA public key.");return b.encode()}function G(c){const b=p.decode(c);if(!b.isSane())throw new Error("Invalid DSA public key.");return{p:b.p.encode(),q:b.q.encode(),g:b.g.encode(),y:b.y.encode()}}function $(c,b){return K.decode(c).encodeRS(b)}function le(c,b){return K.decodeRS(c,b).encode()}function Ee(c,b){const V=v.decode(b);return ke(c,V).encodeRS(V.size())}function Ne(c,b){const V=v.decode(b);return ke(c,V).encode()}function ke(c,b){if(e(c!=null&&c._isBuffer===!0),e(b instanceof v),!b.isSane())throw new Error("Invalid DSA private key.");const{p:V,q:ie,g:L,x}=b,j=ie.byteLength(),t=Re(c,ie),l=x.encode("be",j),I=t.encode("be",j),Y=new Q(P,l,I);for(;;){const Z=re(Y.generate(j),ie);if(Z.isZero()||Z.cmp(ie)>=0)continue;const ue=r(L,Z,V,ie).mod(ie);if(ue.isZero())continue;const pe=S.random(oe,1,ie),Ie=Z.mul(pe).fermat(ie),te=x.mul(pe).imod(ie),D=t.mul(pe).imod(ie),he=ue.mul(te).iadd(D).imod(ie).mul(Ie).imod(ie);if(he.isZero())continue;const we=new K;return we.r=ue,we.s=he,we}}function se(c,b,V){e(c!=null&&c._isBuffer===!0),e(b!=null&&b._isBuffer===!0),e(V!=null&&V._isBuffer===!0);let ie;try{ie=p.decode(V)}catch{return!1}let L;try{L=K.decodeRS(b,ie.size())}catch{return!1}try{return ve(c,L,ie)}catch{return!1}}function ge(c,b,V){e(c!=null&&c._isBuffer===!0),e(b!=null&&b._isBuffer===!0),e(V!=null&&V._isBuffer===!0);let ie;try{ie=p.decode(V)}catch{return!1}let L;try{L=K.decode(b)}catch{return!1}try{return ve(c,L,ie)}catch{return!1}}function ve(c,b,V){const{r:ie,s:L}=b,{p:x,q:j,g:t,y:l}=V;if(!V.isSane()||ie.isZero()||ie.cmp(j)>=0||L.isZero()||L.cmp(j)>=0)return!1;const I=Re(c,j),Y=L.invert(j),Z=I.mul(Y).imod(j),W=ie.mul(Y).imod(j),ue=t.powm(Z,x),pe=l.powm(W,x);return ue.mul(pe).imod(x).imod(j).eq(ie)}function Ue(c,b){const V=p.decode(c),ie=v.decode(b);if(!V.isSane())throw new Error("Invalid DSA public key.");if(!ie.isSane())throw new Error("Invalid DSA private key.");const{p:L,q:x,g:j,x:t}=ie,{y:l}=V;if(!V.p.eq(L)||!V.q.eq(x)||!V.g.eq(j))throw new Error("Incompatible DSA parameters.");if(!V.verify())throw new Error("Invalid DSA public key.");return r(l,t,L,x).encode("be",L.byteLength())}function re(c,b){e(c!=null&&c._isBuffer===!0),e(b instanceof S);const V=b.bitLength(),ie=V+7>>>3;c.length>ie&&(c=c.slice(0,ie));const L=S.decode(c),x=c.length*8-V;return x>0&&L.iushrn(x),L}function Re(c,b){return re(c,b).imod(b)}function r(c,b,V,ie){e(c instanceof S),e(b instanceof S),e(V instanceof S),e(ie instanceof S);const L=c.toRed(S.mont(V)),x=S.random(oe,1,ie),j=b.sub(x).imod(ie),t=L.redPow(j),l=L.redPow(x);return t.redMul(l).fromRed()}f.native=0,f.paramsCreate=w,f.paramsGenerate=m,f.paramsGenerateAsync=_,f.paramsBits=E,f.paramsScalarBits=d,f.paramsVerify=T,f.paramsImport=N,f.paramsExport=R,f.privateKeyCreate=O,f.privateKeyGenerate=A,f.privateKeyGenerateAsync=y,f.privateKeyBits=U,f.privateKeyScalarBits=q,f.privateKeyVerify=k,f.privateKeyImport=o,f.privateKeyExport=h,f.publicKeyCreate=z,f.publicKeyBits=J,f.publicKeyScalarBits=M,f.publicKeyVerify=X,f.publicKeyImport=B,f.publicKeyExport=G,f.signatureImport=$,f.signatureExport=le,f.sign=Ee,f.signDER=Ne,f.verify=se,f.verifyDER=ge,f.derive=Ue}],["bcrypto","/lib/bn-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * bn.js - big numbers for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(43,C)}],["bcrypto","/lib/js/bn.js",function(f,Le,C,Fe,He,Ve){/*!
 * bn.js - big numbers for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/bn.js:
 *   Copyright (c) 2015, Fedor Indutny (MIT License).
 *   https://github.com/indutny/bn.js
 *
 * Parts of this software are based on golang/go:
 *   Copyright (c) 2009, The Go Authors. All rights reserved.
 *   https://github.com/golang/go
 *
 * Parts of this software are based on openssl/openssl:
 *   Copyright (c) 1998-2018, The OpenSSL Project (Apache License v2.0).
 *   Copyright (c) 1995-1998, Eric A. Young, Tim J. Hudson. All rights reserved.
 *   https://github.com/openssl/openssl
 *
 * Parts of this software are based on libgmp:
 *   Copyright (c) 1991-1997, 1999-2014, Free Software Foundation, Inc.
 *   https://gmplib.org/
 *
 * Parts of this software are based on v8/v8:
 *   Copyright (c) 2017, The V8 Project Authors (BSD-Style License).
 *   https://github.com/v8/v8
 *
 * Resources:
 *   https://github.com/indutny/bn.js/blob/master/lib/bn.js
 *   https://github.com/indutny/miller-rabin/blob/master/lib/mr.js
 *   https://github.com/golang/go/blob/master/src/math/big/int.go
 *   https://github.com/golang/go/blob/master/src/math/big/nat.go
 *   https://github.com/golang/go/blob/master/src/math/big/prime.go
 *   https://github.com/openssl/openssl/tree/master/crypto/bn
 *   https://github.com/openssl/openssl/blob/master/crypto/bn/bn_kron.c
 *   https://github.com/gnutls/nettle/blob/master/mini-gmp.c
 *   https://github.com/v8/v8/blob/master/src/objects/bigint.cc
 */const{custom:e}=ce(44,C),S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],oe=[0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Q=[0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176],P={p192:null,p224:null,p521:null,k256:null,p251:null,p25519:null,p448:null},g={NONE:0,QUO:1,REM:2,BOTH:3,EUCLID:4,ALL:7},u=4,H=1<<u-1,a=typeof BigInt=="function";class s{constructor(r,c,b){this.words=[0],this.length=1,this.negative=0,this.red=null,this.from(r,c,b)}_iadd(r,c){let b=0,V=0;for(r.length<c.length&&([r,c]=[c,r]),r!==this&&this._alloc(r.length);V<c.length;V++){const ie=(r.words[V]|0)+(c.words[V]|0)+b;this.words[V]=ie&67108863,b=ie>>>26}for(;b!==0&&V<r.length;V++){const ie=(r.words[V]|0)+b;this.words[V]=ie&67108863,b=ie>>>26}if(this.length=r.length,b!==0)this._alloc(this.length+1),this.words[this.length++]=b;else if(r!==this)for(;V<r.length;V++)this.words[V]=r.words[V];return this}_iaddn(r){if(this.words[0]+=r,this.words[0]<67108864)return this;let c=0;for(this._alloc(this.length+1),this.words[this.length]=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,this.words[c+1]+=1;return this.length=Math.max(this.length,c+1),this}iadd(r){if(q(s.isBN(r),"num","bignum"),this.negative===r.negative)this._iadd(this,r);else{const c=this.ucmp(r);if(c===0)return this.words[0]=0,this.length=1,this.negative=0,this;c<0?(this._isub(r,this),this.negative^=1):this._isub(this,r)}return this}iaddn(r){q(X(r),"num","smi");const c=r<0|0;return c&&(r=-r),this.negative===c?this._iaddn(r):this.length===1&&this.words[0]<r?(this.words[0]=r-this.words[0],this.negative^=1):this._isubn(r),this}add(r){return q(s.isBN(r),"num","bignum"),r.length>this.length?r.clone().iadd(this):this.clone().iadd(r)}addn(r){return this.clone().iaddn(r)}_isub(r,c){let b=0,V=0;for(U(r.length>=c.length),r!==this&&this._alloc(r.length);V<c.length;V++){const ie=(r.words[V]|0)-(c.words[V]|0)+b;b=ie>>26,this.words[V]=ie&67108863}for(;b!==0&&V<r.length;V++){const ie=(r.words[V]|0)+b;b=ie>>26,this.words[V]=ie&67108863}if(U(b===0),r!==this)for(;V<r.length;V++)this.words[V]=r.words[V];return this.length=Math.max(this.length,V),this._strip()}_isubn(r){if(this.words[0]-=r,this.words[0]>=0)return this._normalize();U(this.length!==1),this._alloc(this.length+1);for(let c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.words[this.length]=0,this._strip()}isub(r){if(q(s.isBN(r),"num","bignum"),this.negative!==r.negative)this._iadd(this,r);else{const c=this.ucmp(r);if(c===0)return this.words[0]=0,this.length=1,this.negative=0,this;c<0?(this._isub(r,this),this.negative^=1):this._isub(this,r)}return this}isubn(r){q(X(r),"num","smi");const c=r<0|0;return c&&(r=-r),this.negative!==c?this._iaddn(r):this.length===1&&this.words[0]<r?(this.words[0]=r-this.words[0],this.negative^=1):this._isubn(r),this}sub(r){return this.clone().isub(r)}subn(r){return this.clone().isubn(r)}_mul(r,c){if(q(s.isBN(r),"num","bignum"),q(s.isBN(c),"out","bignum"),this.length===10&&r.length===10)return re(this,r,c);const b=this.length+r.length;return b<63?ge(this,r,c):b<1024?ve(this,r,c):Ue(this,r,c)}imul(r){return this.mul(r)._move(this)}imuln(r){q(X(r),"num","smi");const c=r<0|0;c&&(r=-r);let b=0;for(let V=0;V<this.length;V++){const ie=this.words[V]*r,L=(ie&67108863)+(b&67108863);b>>=26,b+=ie/67108864|0,b+=L>>>26,this.words[V]=L&67108863}return this.negative^=c,b!==0?(this._alloc(this.length+1),this.words[this.length++]=b):this._strip(),this}mul(r){q(s.isBN(r),"num","bignum");const c=this.length+r.length,b=new s;b.words=new Array(c);for(let V=0;V<c;V++)b.words[V]=0;return this._mul(r,b)}muln(r){return this.clone().imuln(r)}mulShift(r,c){q(s.isBN(r),"num","bignum"),q(c>>>0===c,"bits","uint32");const b=this.mul(r),V=b.utestn(c-1);return b.iushrn(c),this.negative^r.negative?b.isubn(V):b.iaddn(V)}_div(r,c){q(s.isBN(r),"num","bignum"),U((c&g.ALL)===c),U(c!==g.NONE);const b=this,V=r;if(z(!V.isZero()),b.isZero())return[new s(0),new s(0)];const ie=b.negative,L=V.negative;b.negative=0,V.negative=0;let x=null,j=null;return b.ucmp(V)<0?(c&g.QUO&&(x=new s(0)),c&g.REM&&(j=b.clone())):V.length===1?(c&g.QUO&&(x=b.quon(V.words[0])),c&g.REM&&(j=b.remn(V.words[0]))):[x,j]=b._wordDiv(V,c),b.negative=ie,V.negative=L,c&g.QUO&&(x.negative=b.negative^V.negative,x._normalize()),c&g.REM&&(j.negative=b.negative,j._normalize()),c&g.EUCLID&&(c&g.QUO&&(U((c&g.REM)!==0),j.negative!==0&&(V.negative!==0?x.iaddn(1):x.isubn(1))),c&g.REM&&j.negative!==0&&(V.negative!==0?j.isub(V):j.iadd(V))),[x,j]}_wordDiv(r,c){let b=this.clone(),V=r,ie=null,L;const x=V.words[V.length-1]|0,j=26-$(x);j!==0?(V=V.clone(),b.iushln(j),V.iushln(j),L=V.words[V.length-1]|0):L=x;const t=b.length-V.length;if(U(t>=0),c&g.QUO){ie=new s(0),ie.length=t+1,ie.words=new Array(ie.length);for(let I=0;I<ie.length;I++)ie.words[I]=0}const l=b.clone();l._ishlnsubmul(V,1,t),l.negative===0&&(ie&&(ie.words[t]=1),b=l);for(let I=t-1;I>=0;I--){const Y=b.words[V.length+I],Z=b.words[V.length+I-1],W=(Y*67108864+Z)/L|0;let ue=Math.min(W,67108863);for(b._ishlnsubmul(V,ue,I);b.negative!==0;)ue-=1,b.negative=0,b._ishlnsubmul(V,1,I),b.ineg();ie&&(ie.words[I]=ue)}return ie&&ie._strip(),c&g.REM&&j!==0&&b.iushrn(j),[ie,b]}_ishlnsubmul(r,c,b){let V=0,ie=0;for(this._expand(r.length+b);ie<r.length;ie++){const L=(this.words[ie+b]|0)+V,x=r.words[ie]*c,j=L-(x&67108863);V=(j>>26)-(x/67108864|0),this.words[ie+b]=j&67108863}for(;ie<this.length-b;ie++){const L=(this.words[ie+b]|0)+V;V=L>>26,this.words[ie+b]=L&67108863}if(V===0)return this._strip();U(V===-1),V=0;for(let L=0;L<this.length;L++){const x=-(this.words[L]|0)+V;V=x>>26,this.words[L]=x&67108863}return this.negative=1,this._strip()}quorem(r){return this._div(r,g.BOTH)}iquo(r){return this.quo(r)._move(this)}iquon(r){q(X(r),"num","smi"),z(r!==0);const c=r<0|0;c&&(r=-r);let b=0;for(let V=this.length-1;V>=0;V--){const ie=(this.words[V]|0)+b*67108864;this.words[V]=ie/r|0,b=ie%r}return this.negative^=c,this._strip()}quo(r){return this._div(r,g.QUO)[0]}quon(r){return this.clone().iquon(r)}irem(r){return this.rem(r)._move(this)}iremn(r){let c=this.remrn(r);return c<0&&(c=-c),this.words[0]=c,this.length=1,this._normalize()}rem(r){return this._div(r,g.REM)[1]}remn(r){return this.clone().iremn(r)}remrn(r){q(X(r),"num","smi"),z(r!==0),r<0&&(r=-r);const c=(1<<26)%r;let b=0;for(let V=this.length-1;V>=0;V--)b=(c*b+(this.words[V]|0))%r;return this.negative!==0?-b|0:b}divmod(r){return this._div(r,g.BOTH|g.EUCLID)}idiv(r){return this.div(r)._move(this)}idivn(r){if(this.negative===0)return this.iquon(r);const c=this.remrn(r);return this.iquon(r),c<0&&(r<0?this.iaddn(1):this.isubn(1)),this}div(r){return this._div(r,g.BOTH|g.EUCLID)[0]}divn(r){return this.clone().idivn(r)}imod(r){return this.ucmp(r)<0?(this.negative!==0&&(this._isub(r,this),this.negative=0),this):this.mod(r)._move(this)}imodn(r){return this.words[0]=this.modrn(r),this.length=1,this.negative=0,this}mod(r){return this._div(r,g.REM|g.EUCLID)[1]}modn(r){return this.clone().imodn(r)}modrn(r){q(X(r),"num","smi");let c=this.remrn(r);return c<0&&(r<0?c-=r:c+=r),c}divRound(r){const[c,b]=this.quorem(r);if(b.isZero())return c;const V=r.words[0]&1;r.iushrn(1);const ie=b.ucmp(r);return r.iushln(1),r.words[0]|=V,ie<0||r.isOdd()&&ie===0?c:this.negative^r.negative?c.isubn(1):c.iaddn(1)}ipow(r){return this.pow(r)._move(this)}ipown(r){return this.pown(r)._move(this)}pow(r){q(s.isBN(r),"num","bignum");let c=$(r.words[r.length-1]),b=new s(1);for(let V=r.length-1;V>=0;V--){const ie=r.words[V];for(let L=c-1;L>=0;L--)b=b.sqr(),ie>>L&1&&(b=b.mul(this));c=26}return b}pown(r){if(q(X(r),"num","smi"),r<0&&(r=-r),r===0)return new s(1);if(r===1)return this.clone();const c=$(r);let b=this;for(let V=c-2;V>=0;V--)b=b.sqr(),r>>V&1&&(b=b.mul(this));return b}isqr(){return this.imul(this)}sqr(){return this.mul(this)}_rootrem(r,c){if(q(r>>>0===r,"num","uint32"),r===0)throw new RangeError("Zeroth root.");if(~r&this.negative)throw new RangeError("Negative with even root.");if(this.ucmpn(1)<=0)return[this.clone(),new s(0)];let b=new s(0),V=s.shift(1,this.bitLength()/r+1|0),ie,L;if(this.negative!==0&&V.ineg(),r===2)do b=V,V=this.quo(b),V.iadd(b),V.iushrn(1);while(V.ucmp(b)<0);else do b=V,V=b.pown(r-1),V=this.quo(V),ie=b.muln(r-1),V.iadd(ie),V=V.quon(r);while(V.ucmp(b)<0);return c&&(V=b.pown(r),L=this.sub(V)),[b,L]}rootrem(r){return this._rootrem(r,1)}iroot(r){return this.root(r)._move(this)}root(r){return this._rootrem(r,0)[0]}isPower(r){if(q(r>>>0===r,"num","uint32"),r===0||~r&this.negative)return!1;const[,c]=this.rootrem(r);return c.sign()===0}sqrtrem(){return this.rootrem(2)}isqrt(){return this.sqrt()._move(this)}sqrt(){return this.root(2)}isSquare(){return this.isPower(2)}iand(r){q(s.isBN(r),"num","bignum");let c=this,b=r;if(c===b)return c;if((c.negative|b.negative)===0)return c.iuand(b);if((c.negative&b.negative)===1)return c.iaddn(1),b.iaddn(1),c.iuor(b),c.isubn(1),b.isubn(1),c;c.negative!==0&&([c,b]=[b.clone(),c]);const V=c.bitLength();return b.iaddn(1),b.inotn(V),c.iuand(b),b.inotn(V),b.isubn(1),c._move(this)}iandn(r){return q(X(r),"num","smi"),(this.negative|r<0)!==0?this.iand(new s(r)):(this.words[0]&=r,this.length=1,this)}and(r){return this.clone().iand(r)}andn(r){return this.clone().iandn(r)}andrn(r){if(q(X(r),"num","smi"),(this.negative|r<0)!==0){const c=this.iand(new s(r));if(c.length>1)throw new RangeError("Number exceeds 26 bits.");return c.negative!==0?-c.words[0]:c.words[0]}return this.words[0]&r}iuand(r){q(s.isBN(r),"num","bignum"),this.length=Math.min(this.length,r.length);for(let c=0;c<this.length;c++)this.words[c]&=r.words[c];return this._strip()}iuandn(r){return q(X(r),"num","smi"),this.words[0]&=Math.abs(r),this.length=1,this._normalize()}uand(r){return this.clone().iuand(r)}uandn(r){return this.clone().iuandn(r)}uandrn(r){q(X(r),"num","smi");const c=this.words[0]&Math.abs(r);return this.negative!==0?-c|0:c}ior(r){q(s.isBN(r),"num","bignum");let c=this,b=r;return c===b?c:(c.negative|b.negative)===0?c.iuor(b):(c.negative&b.negative)===1?(c.iaddn(1),b.iaddn(1),c.iuand(b),c.isubn(1),b.isubn(1),c):(b=b.clone(),c.negative!==0&&([c,b]=[b,c]),b.iaddn(1),c.inotn(b.bitLength()),b.iuand(c),b.isubn(1),b._move(this))}iorn(r){return q(X(r),"num","smi"),(this.negative|r<0)!==0?this.ior(new s(r)):(this.words[0]|=r,this)}or(r){return this.clone().ior(r)}orn(r){return this.clone().iorn(r)}iuor(r){q(s.isBN(r),"num","bignum"),this._expand(r.length);for(let c=0;c<r.length;c++)this.words[c]|=r.words[c];return this}iuorn(r){return q(X(r),"num","smi"),this.words[0]|=Math.abs(r),this}uor(r){return this.clone().iuor(r)}uorn(r){return this.clone().iuorn(r)}ixor(r){q(s.isBN(r),"num","bignum");let c=this,b=r;return c===b?(c.words[0]=0,c.length=1,c.negative=0,c):(c.negative|b.negative)===0?c.iuxor(b):(c.negative&b.negative)===1?(c.iaddn(1),b.iaddn(1),c.iuxor(b),c.ineg(),b.isubn(1),c):(c.negative!==0&&([c,b]=[b.clone(),c]),b.iaddn(1),c.iuxor(b),c.iaddn(1),c.ineg(),b.isubn(1),c._move(this))}ixorn(r){return q(X(r),"num","smi"),(this.negative|r<0)!==0?this.ixor(new s(r)):(this.words[0]^=r,this)}xor(r){return this.clone().ixor(r)}xorn(r){return this.clone().ixorn(r)}iuxor(r){q(s.isBN(r),"num","bignum");let c=this,b=r;c.length<b.length&&([c,b]=[b,c]);let V=0;for(;V<b.length;V++)this.words[V]=c.words[V]^b.words[V];if(c!==this)for(this._alloc(c.length);V<c.length;V++)this.words[V]=c.words[V];return this.length=c.length,this._strip()}iuxorn(r){return q(X(r),"num","smi"),this.words[0]^=Math.abs(r),this._normalize()}uxor(r){return this.clone().iuxor(r)}uxorn(r){return this.clone().iuxorn(r)}inot(){return this.negative!==0?this.ineg().isubn(1):this.iaddn(1).ineg(),this}not(){return this.clone().inot()}inotn(r){q(r>>>0===r,"width","uint32");const c=r%26;let b=Math.ceil(r/26),V=0;for(this._expand(b),c>0&&(b-=1);V<b;V++)this.words[V]^=67108863;return c>0&&(this.words[V]^=(1<<c)-1),this._strip()}notn(r){return this.clone().inotn(r)}ishl(r){return q(s.isBN(r),"bits","bignum"),q(r.bitLength()<=32,"bits","uint32"),this.ishln(r.toNumber())}ishln(r){return this.iushln(r)}shl(r){return this.clone().ishl(r)}shln(r){return this.clone().ishln(r)}iushl(r){return q(s.isBN(r),"bits","bignum"),q(r.bitLength()<=32,"bits","uint32"),this.iushln(r.toNumber())}iushln(r){q(r>>>0===r,"bits","uint32");const c=r%26,b=(r-c)/26,V=(1<<c)-1<<26-c;if(c!==0){let ie=0;for(let L=0;L<this.length;L++){const x=this.words[L]&V,j=(this.words[L]|0)-x<<c;this.words[L]=j|ie,ie=x>>>26-c}ie!==0&&(this._alloc(this.length+1),this.words[this.length++]=ie)}if(b!==0){this._alloc(this.length+b);for(let ie=this.length-1;ie>=0;ie--)this.words[ie+b]=this.words[ie];for(let ie=0;ie<b;ie++)this.words[ie]=0;this.length+=b}return this._strip()}ushl(r){return this.clone().iushl(r)}ushln(r){return this.clone().iushln(r)}_split(r,c){const b=r%26,V=Math.min((r-b)/26,this.length),ie=(1<<b)-1;if(c){c._alloc(V);for(let x=0;x<V;x++)c.words[x]=this.words[x];c.length=V}if(V!==0)if(this.length>V){this.length-=V;for(let x=0;x<this.length;x++)this.words[x]=this.words[x+V]}else this.words[0]=0,this.length=1;let L=0;if(b!==0)for(let x=this.length-1;x>=0;x--){const j=this.words[x]|0;this.words[x]=L<<26-b|j>>>b,L=j&ie}return c&&(L!==0?(c._alloc(c.length+1),c.words[c.length++]=L):(c.length===0&&(c.words[c.length++]=0),c._strip())),this._strip()}ishr(r){return q(s.isBN(r),"bits","bignum"),q(r.bitLength()<=32,"bits","uint32"),this.ishrn(r.toNumber())}ishrn(r){return q(r>>>0===r,"bits","uint32"),this.negative!==0?(this.iaddn(1),this.iushrn(r),this.isubn(1),this):this.iushrn(r)}shr(r){return this.clone().ishr(r)}shrn(r){return this.clone().ishrn(r)}iushr(r){return q(s.isBN(r),"bits","bignum"),q(r.bitLength()<=32,"bits","uint32"),this.iushrn(r.toNumber())}iushrn(r){return q(r>>>0===r,"bits","uint32"),this._split(r,null)}ushr(r){return this.clone().iushr(r)}ushrn(r){return this.clone().iushrn(r)}setn(r,c){return q(r>>>0===r,"bit","uint32"),this.negative!==0?(this.iaddn(1),this.usetn(r,!c),this.isubn(1),this):this.usetn(r,c)}usetn(r,c){q(r>>>0===r,"bit","uint32");const b=r%26,V=(r-b)/26;return this._expand(V+1),c?this.words[V]|=1<<b:this.words[V]&=~(1<<b),this._strip()}testn(r){q(r>>>0===r,"bit","uint32");const c=r%26,b=(r-c)/26;if(this.length<=b)return this.negative;const V=this.words[b],ie=V>>c&1;if(this.negative!==0){if(c>0&&V&(1<<c)-1)return ie^1;let L=b;for(;L--;)if(this.words[L]>0)return ie^1}return ie}utestn(r){q(r>>>0===r,"bit","uint32");const c=r%26,b=(r-c)/26;return this.length<=b?0:this.words[b]>>c&1}imaskn(r){return q(r>>>0===r,"bits","uint32"),this.negative!==0&&(this.iaddn(1),this.inotn(r+1),this.ineg()),this.iumaskn(r)}maskn(r){return this.clone().imaskn(r)}iumaskn(r){q(r>>>0===r,"bits","uint32");const c=r%26;let b=(r-c)/26;return this.length<=b?this:(c!==0&&(b+=1),this.length=Math.min(b,this.length),c!==0&&(this.words[this.length-1]&=(1<<c)-1),this.length===0&&(this.words[this.length++]=0),this._strip())}umaskn(r){return this.clone().iumaskn(r)}andln(r){return this.words[0]&r}bit(r){return this.utestn(r)}bits(r,c){q(r>>>0===r,"pos","uint32"),q(c>>>0===c,"width","uint32"),q(c<=26,"width","width");const b=r%26,V=(r-b)/26;if(V>=this.length)return 0;let ie=this.words[V]>>b&(1<<c)-1;if(b+c>26&&V+1<this.length){const L=b+c-26,x=this.words[V+1]&(1<<L)-1;ie|=x<<26-b}return ie}ineg(){return this.isZero()||(this.negative^=1),this}neg(){return this.clone().ineg()}iabs(){return this.negative=0,this}abs(){return this.clone().iabs()}cmp(r){if(q(s.isBN(r),"num","bignum"),this.negative!==r.negative)return r.negative-this.negative;const c=this.ucmp(r);return this.negative!==0?-c|0:c}cmpn(r){q(X(r),"num","smi");const c=r<0|0;if(this.negative!==c)return c-this.negative;const b=this.ucmpn(r);return this.negative!==0?-b|0:b}eq(r){return this.cmp(r)===0}eqn(r){return this.cmpn(r)===0}gt(r){return this.cmp(r)>0}gtn(r){return this.cmpn(r)>0}gte(r){return this.cmp(r)>=0}gten(r){return this.cmpn(r)>=0}lt(r){return this.cmp(r)<0}ltn(r){return this.cmpn(r)<0}lte(r){return this.cmp(r)<=0}lten(r){return this.cmpn(r)<=0}sign(){return this.negative!==0?-1:this.length===1&&this.words[0]===0?0:1}isZero(){return this.length===1&&this.words[0]===0}isNeg(){return this.negative!==0}isPos(){return this.negative===0}isOdd(){return(this.words[0]&1)===1}isEven(){return(this.words[0]&1)===0}ucmp(r){if(q(s.isBN(r),"num","bignum"),this.length<r.length)return-1;if(this.length>r.length)return 1;for(let c=this.length-1;c>=0;c--){const b=this.words[c]|0,V=r.words[c]|0;if(b!==V)return(b>V)-(b<V)}return 0}ucmpn(r){if(q(X(r),"num","smi"),this.length>1)return 1;const c=this.words[0]|0;return r<0&&(r=-r),(c>r)-(c<r)}legendre(r){const c=a?s.red(r):s.mont(r);return this.toRed(c).redLegendre()}jacobi(r){if(q(s.isBN(r),"num","bignum"),r.isZero()||r.isEven())throw new Error("jacobi: `num` must be odd.");let c=this._cloneNormal(),b=r.clone(),V=1;for(b.isNeg()&&(c.isNeg()&&(V=-1),b.ineg()),(c.isNeg()||c.ucmp(b)>=0)&&c.imod(b);!c.isZero();){if(c._makeOdd()&1){const x=b.andln(7);(x===3||x===5)&&(V=-V)}c.ucmp(b)<0&&([c,b]=[b,c],c.andln(3)===3&&b.andln(3)===3&&(V=-V)),c._isub(c,b).iushrn(1);const L=b.andln(7);(L===3||L===5)&&(V=-V)}return b.cmpn(1)!==0?0:V}kronecker(r){q(s.isBN(r),"num","bignum");const c=[0,1,0,-1,0,-1,0,1];let b=this._cloneNormal(),V=r.clone(),ie=1;if(V.isZero())return b.ucmpn(1)===0?ie:0;if(!b.isOdd()&&!V.isOdd())return 0;for(V._makeOdd()&1&&(ie=c[b.andln(7)]),V.isNeg()&&(b.isNeg()&&(ie=-ie),V.ineg());!b.isZero();)b._makeOdd()&1&&(ie*=c[V.andln(7)]),(b.words[0]^b.negative*67108863)&V.words[0]&2&&(ie=-ie),V.imod(b),[b,V]=[V,b],V.negative=0;return V.cmpn(1)!==0?0:ie}igcd(r){return this.gcd(r)._move(this)}gcd(r){if(q(s.isBN(r),"num","bignum"),this.isZero())return r.abs();if(r.isZero())return this.abs();let c=this.clone(),b=r.clone();c.negative=0,b.negative=0;const V=c._factor2(b);for(V!==0&&(c.iushrn(V),b.iushrn(V));;){c._makeOdd(),b._makeOdd();const ie=c.ucmp(b);if(ie<0)[c,b]=[b,c];else if(ie===0||b.ucmpn(1)===0)break;c._isub(c,b)}return b.iushln(V)}ilcm(r){return this.lcm(r)._move(this)}lcm(r){return q(s.isBN(r),"num","bignum"),this.isZero()||r.isZero()?new s(0):this.quo(this.gcd(r)).mul(r).iabs()}egcd(r){if(q(s.isBN(r),"num","bignum"),this.isZero())return[new s(0),new s(r.sign()),r.abs()];if(r.isZero())return[new s(this.sign()),new s(0),this.abs()];const c=this.clone(),b=r.clone();c.negative=0,b.negative=0;const V=new s(1),ie=new s(0),L=new s(0),x=new s(1),j=c._factor2(b);j>0&&(c.iushrn(j),b.iushrn(j));const t=c.clone(),l=b.clone();for(;!c.isZero();){let I=c._makeOdd(),Y=b._makeOdd();for(;I--;)(V.isOdd()||ie.isOdd())&&(V.iadd(l),ie.isub(t)),V.iushrn(1),ie.iushrn(1);for(;Y--;)(L.isOdd()||x.isOdd())&&(L.iadd(l),x.isub(t)),L.iushrn(1),x.iushrn(1);c.cmp(b)>=0?(c.isub(b),V.isub(L),ie.isub(x)):(b.isub(c),L.isub(V),x.isub(ie))}return this.negative!==0&&L.ineg(),r.negative!==0&&x.ineg(),[L,x,b.iushln(j)]}iinvert(r){return this.invert(r)._move(this)}invert(r){if(q(s.isBN(r),"num","bignum"),k(r.sign()>0,"invert"),r.isOdd())return this._invertp(r);if(r.cmpn(1)===0)throw new RangeError("Not invertible.");const[c,,b]=this.egcd(r);if(b.cmpn(1)!==0)throw new RangeError("Not invertible.");return c.imod(r)}ifermat(r){return this.fermat(r)._move(this)}fermat(r){const c=a?s.red(r):s.mont(r);return this.toRed(c).redFermat().fromRed()}ipowm(r,c,b){return this.powm(r,c,b)._move(this)}powm(r,c,b){const V=!a&&b?s.mont(c):s.red(c);return this.toRed(V).redPow(r).fromRed()}ipowmn(r,c,b){return this.powmn(r,c,b)._move(this)}powmn(r,c,b){const V=b?s.mont(c):s.red(c);return this.toRed(V).redPown(r).fromRed()}isqrtm(r){return this.sqrtm(r)._move(this)}sqrtm(r){q(s.isBN(r),"p","bignum");let c;return r.andln(3)===3||r.andln(7)===5?c=s.red(r):c=s.mont(r),this.toRed(c).redSqrt().fromRed()}isqrtpq(r,c){return this.sqrtpq(r,c)._move(this)}sqrtpq(r,c){const b=this.sqrtm(r),V=this.sqrtm(c),[ie,L]=r.egcd(c),x=V.mul(ie).mul(r),j=b.mul(L).mul(c),t=r.mul(c);return x.iadd(j).imod(t)}isPrime(r,c,b){return q(c>>>0===c,"reps","uint32"),!(!this.isPrimeMR(r,c+1,!0)||!this.isPrimeLucas(b))}isPrimeMR(r,c,b=!1){q(c>>>0===c,"reps","uint32"),q(c>0,"reps","integer"),q(typeof b=="boolean","force2","boolean");const V=this;if(V.cmpn(7)<0)return V.cmpn(2)===0||V.cmpn(3)===0||V.cmpn(5)===0;if(V.isEven())return!1;const ie=V.subn(1),L=ie.subn(2),x=ie.zeroBits(),j=ie.ushrn(x),t=s.red(V),l=ie.toRed(t),I=new s(1).toRed(t);e:for(let Y=0;Y<c;Y++){let Z;Y===c-1&&b?Z=new s(2):(Z=s.random(r,0,L),Z.iaddn(2));let W=Z.toRed(t).redPow(j);if(!(W.cmp(I)===0||W.cmp(l)===0)){for(let ue=1;ue<x;ue++){if(W=W.redSqr(),W.cmp(l)===0)continue e;if(W.cmp(I)===0)return!1}return!1}}return!0}isPrimeLucas(r=0){q(r>>>0===r,"limit","uint32");const c=this;if(c.cmpn(1)<=0)return!1;if(c.isEven())return c.cmpn(2)===0;let b=3;for(;;){if(b>1e4)throw new Error(`Cannot find (D/n) = -1 for ${c.toString(10)}.`);if(r!==0&&b>r)return!1;const t=new s(b*b-4).jacobi(c);if(t===-1)break;if(t===0)return c.cmpn(b+2)===0;if(b===40&&c.isSquare())return!1;b+=1}const V=c.addn(1),ie=V._makeOdd();let L=new s(2),x=new s(b);for(let j=V.bitLength();j>=0;j--)V.utestn(j)?(L=L.mul(x).isubn(b).imod(c),x=x.sqr().isubn(2).imod(c)):(x=x.mul(L).isubn(b).imod(c),L=L.sqr().isubn(2).imod(c));if(L.cmpn(2)===0||L.cmp(c.subn(2))===0){const j=L.muln(b).imod(c),t=x.ushln(1).imod(c);if(j.cmp(t)===0)return!0}for(let j=0;j<ie-1;j++){if(L.isZero())return!0;if(L.cmpn(2)===0)return!1;L=L.sqr().isubn(2).imod(c)}return!1}toTwos(r){return this.negative!==0?this.abs().inotn(r).iaddn(1):this.clone()}fromTwos(r){return q(r>>>0===r,"width","uint32"),k(r>0,"width"),this.testn(r-1)?this.notn(r).iaddn(1).ineg():this.clone()}toRed(r){if(q(r instanceof R,"ctx","reduction context"),this.red)throw new Error("Already in reduction context.");return r.convertTo(this)}fromRed(){return o(this.red,"fromRed"),this.red.convertFrom(this)}forceRed(r){if(q(r instanceof R,"ctx","reduction context"),this.red){if(!r.m.eq(this.red.m)||r.mont!==this.red.mont)throw new Error("Already in reduction context.")}else k(this.negative===0,"red"),k(this.ucmp(r.m)<0,"red");return this.clone()._forceRed(r)}redIAdd(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redIAdd"),this.red.iadd(this,r)}redAdd(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redAdd"),this.red.add(this,r)}redIAddn(r){return q(X(r),"num","smi"),o(this.red,"redIAddn"),this.red.iaddn(this,r)}redAddn(r){return q(X(r),"num","smi"),o(this.red,"redAddn"),this.red.addn(this,r)}redISub(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redISub"),this.red.isub(this,r)}redSub(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redSub"),this.red.sub(this,r)}redISubn(r){return q(X(r),"num","smi"),o(this.red,"redISubn"),this.red.isubn(this,r)}redSubn(r){return q(X(r),"num","smi"),o(this.red,"redSubn"),this.red.subn(this,r)}redIMul(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redIMul"),this.red.imul(this,r)}redMul(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redMul"),this.red.mul(this,r)}redIMuln(r){return q(X(r),"num","smi"),o(this.red,"redIMuln"),this.red.imuln(this,r)}redMuln(r){return q(X(r),"num","smi"),o(this.red,"redMuln"),this.red.muln(this,r)}redIDiv(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redIDiv"),this.red.idiv(this,r)}redDiv(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redDiv"),this.red.div(this,r)}redIDivn(r){return q(X(r),"num","smi"),o(this.red,"redIDivn"),this.red.idivn(this,r)}redDivn(r){return q(X(r),"num","smi"),o(this.red,"redDivn"),this.red.divn(this,r)}redIPow(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redIPow"),h(!r.red,"redIPow"),this.red.ipow(this,r)}redPow(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redPow"),h(!r.red,"redPow"),this.red.pow(this,r)}redIPown(r){return q(X(r),"num","smi"),o(this.red,"redIPown"),this.red.ipown(this,r)}redPown(r){return q(X(r),"num","smi"),o(this.red,"redPown"),this.red.pown(this,r)}redISqr(){return o(this.red,"redISqr"),this.red.isqr(this)}redSqr(){return o(this.red,"redSqr"),this.red.sqr(this)}redISqrt(){return o(this.red,"redISqrt"),this.red.isqrt(this)}redSqrt(){return o(this.red,"redSqrt"),this.red.sqrt(this)}redIDivSqrt(r){return o(this.red,"redIDivSqrt"),this.red.idivsqrt(this,r)}redDivSqrt(r){return o(this.red,"redDivSqrt"),this.red.divsqrt(this,r)}redIsSquare(){return o(this.red,"redIsSquare"),this.red.isSquare(this)}redIShl(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redIShl"),h(!r.red,"redIShl"),this.red.ishl(this,r)}redShl(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redShl"),h(!r.red,"redShl"),this.red.shl(this,r)}redIShln(r){return q(r>>>0===r,"num","uint32"),o(this.red,"redIShln"),this.red.ishln(this,r)}redShln(r){return q(r>>>0===r,"num","uint32"),o(this.red,"redShln"),this.red.shln(this,r)}redINeg(){return o(this.red,"redINeg"),this.red.ineg(this)}redNeg(){return o(this.red,"redNeg"),this.red.neg(this)}redEq(r){return q(s.isBN(r),"num","bignum"),o(this.red,"redEq"),this.red.eq(this,r)}redEqn(r){return q(X(r),"num","smi"),o(this.red,"redEqn"),this.red.eqn(this,r)}redIsHigh(){return o(this.red,"redIsHigh"),this.red.isHigh(this)}redIsLow(){return o(this.red,"redIsLow"),this.red.isLow(this)}redIsOdd(){return o(this.red,"redIsOdd"),this.red.isOdd(this)}redIsEven(){return o(this.red,"redIsEven"),this.red.isEven(this)}redLegendre(){return o(this.red,"redLegendre"),this.red.legendre(this)}redJacobi(){return o(this.red,"redJacobi"),this.red.jacobi(this)}redKronecker(){return o(this.red,"redKronecker"),this.red.kronecker(this)}redIInvert(){return o(this.red,"redIInvert"),this.red.iinvert(this)}redInvert(){return o(this.red,"redInvert"),this.red.invert(this)}redIFermat(){return o(this.red,"redIFermat"),this.red.ifermat(this)}redFermat(){return o(this.red,"redFermat"),this.red.fermat(this)}_move(r){return r.words=this.words,r.length=this.length,r.negative=this.negative,r.red=this.red,r}_alloc(r){for(;this.words.length<r;)this.words.push(0);return this}_expand(r){for(this._alloc(r);this.length<r;)this.words[this.length++]=0;return this}_strip(){for(;this.length>1&&this.words[this.length-1]===0;)this.length-=1;return this._normalize()}_normalize(){return U(this.length>0),this.length===1&&this.words[0]===0&&(this.negative=0),this}_check(){return U(this.length>0),U(this.length<=this.words.length),this.length===1?(this.words[0]===0&&U(this.negative===0),this):(U(this.words[this.length-1]!==0),this)}_invertp(r){if(q(s.isBN(r),"p","bignum"),k(r.sign()>0,"invert"),U(r.isOdd()),r.cmpn(1)===0)throw new RangeError("Not invertible.");const c=this.clone(),b=r.clone(),V=new s(1),ie=new s(0);for((c.isNeg()||c.ucmp(b)>=0)&&c.imod(b);!c.isZero();){let L=c._makeOdd(),x=b._makeOdd();for(;L--;)V.isOdd()&&V._iadd(V,r),V.iushrn(1);for(;x--;)ie.isOdd()&&ie._iadd(ie,r),ie.iushrn(1);c.ucmp(b)>=0?(c._isub(c,b),V.ucmp(ie)<0?(V._isub(ie,V),V._isub(r,V)):V._isub(V,ie)):(b._isub(b,c),ie.ucmp(V)<0?(ie._isub(V,ie),ie._isub(r,ie)):ie._isub(ie,V))}if(b.cmpn(1)!==0)throw new RangeError("Not invertible.");return U(ie.negative===0),U(ie.ucmp(r)<0),ie}_makeOdd(){const r=this.zeroBits();return r>0&&this.iushrn(r),r}_factor2(r){if((this.words[0]|r.words[0])&1)return 0;const c=Math.min(this.length,r.length);let b=0;for(let V=0;V<c;V++){const ie=le(this.words[V]|r.words[V]);if(b+=ie,ie!==26)break}return b}_cloneNormal(){return this.red?this.fromRed():this.clone()}_forceRed(r){return this.red=r,this}clone(){const r=new s;r.words=new Array(this.length);for(let c=0;c<this.length;c++)r.words[c]=this.words[c];return r.length=this.length,r.negative=this.negative,r.red=this.red,r}inject(r){q(s.isBN(r),"num","bignum"),this._alloc(r.length);for(let c=0;c<r.length;c++)this.words[c]=r.words[c];return this.length=r.length,this.negative=r.negative,this.red=r.red,this}set(r,c){return this.fromNumber(r,c)}swap(r){q(s.isBN(r),"num","bignum");const c=this,b=r;return[c.words,b.words]=[b.words,c.words],[c.length,b.length]=[b.length,c.length],[c.negative,b.negative]=[b.negative,c.negative],[c.red,b.red]=[b.red,c.red],c}reverse(){const r=this.negative;return this.fromBuffer(this.toBuffer("be"),"le"),this.negative=r,this}byteLength(){return Math.ceil(this.bitLength()/8)}bitLength(){const r=this.words[this.length-1],c=$(r);return(this.length-1)*26+c}zeroBits(){if(this.isZero()||this.isOdd())return 0;let r=0;for(let c=0;c<this.length;c++){const b=le(this.words[c]);if(r+=b,b!==26)break}return r}isSafe(){return this.length<=2||this.length===3&&this.words[2]===1}word(r){return q(r>>>0===r,"pos","uint32"),r>=this.length?0:this.words[r]}[e](){let r="BN";return this.red&&(r="BN-R"),`<${r}: ${this.toString(10)}>`}toNumber(){let r=this.words[0];if(this.length===2)r+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)r+=4503599627370496+this.words[1]*67108864;else if(this.length>2)throw new RangeError("Number can only safely store up to 53 bits.");return this.negative!==0?-r:r}toDouble(){let r=0;for(let c=this.length-1;c>=0;c--)r=r*67108864+this.words[c];return this.negative!==0?-r:r}valueOf(){return this.toDouble()}toBigInt(){if(!a)throw new Error("BigInt is not supported!");const r=BigInt(52),c=BigInt(26);let b=this.length-1,V=BigInt(0);for(;b>=1;b-=2){const ie=this.words[b]*67108864,L=this.words[b-1];V=V<<r|BigInt(ie+L)}return b>=0&&(V=V<<c|BigInt(this.words[0])),this.negative!==0?-V:V}toBool(){return!this.isZero()}toString(r,c){if(r=G(r),c==null&&(c=0),c===0&&(c=1),q(r>>>0===r,"base","uint32"),q(c>>>0===c,"padding","uint32"),r<2||r>36)throw new RangeError("Base ranges between 2 and 36.");if(this._check(),r===16){let x="",j=0,t=0;for(let l=0;l<this.length;l++){const I=this.words[l],Y=((I<<j|t)&16777215).toString(16);t=I>>>24-j&16777215,t!==0||l!==this.length-1?x=S[6-Y.length]+Y+x:x=Y+x,j+=2,j>=26&&(j-=26,l-=1)}for(t!==0&&(x=t.toString(16)+x);x.length%c!==0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}const b=oe[r-1],V=Q[r-1],ie=this.clone();let L="";for(ie.negative=0;!ie.isZero();){const x=ie.remrn(V).toString(r);ie.iquon(V),ie.isZero()?L=x+L:L=S[b-x.length]+x+L}for(this.isZero()&&(L="0");L.length%c!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}toJSON(){return this.toString(16,2)}toArray(r,c){return this.toArrayLike(Array,r,c)}toBuffer(r,c){return this.toArrayLike(_e,r,c)}toArrayLike(r,c,b){c==null&&(c="be"),b==null&&(b=0),q(typeof r=="function","ArrayType","function"),q(c==="be"||c==="le","endian","endianness"),q(b>>>0===b,"length","uint32"),this._check();const V=this.byteLength(),ie=b||Math.max(1,V);if(V>ie)throw new RangeError("Byte array longer than desired length.");const L=B(r,ie);if(c==="be"){let x=L.length-1,j=0;for(let t=0;t<this.length;t++){const l=(t&3)<<1,I=this.words[t]<<l|j;L[x--]=I&255,x>=0&&(L[x--]=I>>>8&255),x>=0&&(L[x--]=I>>>16&255),l===6?(x>=0&&(L[x--]=I>>>24&255),j=0):j=I>>>24}if(x>=0){for(L[x--]=j;x>=0;)L[x--]=0;j=0}U(j===0)}else{let x=0,j=0;for(let t=0;t<this.length;t++){const l=(t&3)<<1,I=this.words[t]<<l|j;L[x++]=I&255,x<L.length&&(L[x++]=I>>>8&255),x<L.length&&(L[x++]=I>>>16&255),l===6?(x<L.length&&(L[x++]=I>>>24&255),j=0):j=I>>>24}if(x<L.length){for(L[x++]=j;x<L.length;)L[x++]=0;j=0}U(j===0)}return L}encode(r,c){return this.toBuffer(r,c)}of(r,c){return this.fromNumber(r,c)}fromNumber(r,c){c==null&&(c="be"),q(M(r),"num","integer"),q(c==="be"||c==="le","endian","endianness");const b=r<0|0;return b&&(r=-r),r<67108864?(this.words[0]=r&67108863,this.length=1):r<4503599627370496?(this.words=[r&67108863,r/67108864&67108863],this.length=2):(this.words=[r&67108863,r/67108864&67108863,1],this.length=3),this.negative=b,c==="le"&&this.reverse(),this}fromDouble(r,c){c==null&&(c="be"),q(typeof r=="number","num","double"),q(c==="be"||c==="le","endian","endianness"),isFinite(r)||(r=0);const b=r<=-1|0;for(r<0&&(r=-r),r=Math.floor(r),this.words=[];r>0;){const V=r%67108864,ie=(r-V)/67108864;this.words.push(V),r=ie}return this.words.length===0&&this.words.push(0),this.length=this.words.length,this.negative=b,c==="le"&&this.reverse(),this}fromBigInt(r,c){if(c==null&&(c="be"),q(typeof r=="bigint","num","bigint"),q(c==="be"||c==="le","endian","endianness"),!a)throw new Error("BigInt is not supported!");const b=r<BigInt(0)|0;return this._fromHex(r.toString(16),b),this.negative=b,c==="le"&&this.reverse(),this}fromBool(r){return q(typeof r=="boolean","value","boolean"),this.words[0]=r|0,this.length=1,this.negative=0,this}fromString(r,c,b){if((c==="le"||c==="be")&&([c,b]=[b,c]),c=G(c),b==null&&(b="be"),q(typeof r=="string","string","string"),q(c>>>0===c,"base","uint32"),q(b==="be"||b==="le","endian","endianness"),c<2||c>36)throw new Error("Base ranges between 2 and 36.");r=r.replace(/\s+/g,"");let V=0;return r.length>0&&r.charCodeAt(0)===45&&(V=1),c===16?this._fromHex(r,V):this._fromBase(r,c,V),this.negative=V,this._normalize(),b==="le"&&this.reverse(),this}_fromHex(r,c){this.length=Math.max(2,Math.ceil((r.length-c)/6)),this.words=new Array(this.length);for(let L=0;L<this.length;L++)this.words[L]=0;let b=0,V=r.length-6,ie=0;for(;V>=c;V-=6){const L=Ee(r,V,V+6);this.words[ie]|=L<<b&67108863,this.words[ie+1]|=L>>>26-b&4194303,b+=24,b>=26&&(b-=26,ie+=1)}if(V+6!==c){const L=Ee(r,c,V+6);this.words[ie]|=L<<b&67108863,this.words[ie+1]|=L>>>26-b&4194303}return this._strip()}_fromBase(r,c,b){this.words[0]=0,this.length=1,this.negative=0;let V=0,ie=1;for(;ie<=67108863;ie*=c)V+=1;V-=1,ie=ie/c|0;const L=r.length-b,x=L%V,j=Math.min(L,L-x)+b;let t=b;for(;t<j;t+=V){const l=Ne(r,t,t+V,c);this.imuln(ie),this._iaddn(l)}if(x!==0){const l=Math.pow(c,x),I=Ne(r,t,r.length,c);this.imuln(l),this._iaddn(I)}return this}fromJSON(r){if(s.isBN(r))return r.red?r.fromRed():r.clone();if(Array.isArray(r)){for(const c of r)q(typeof c=="string","chunk","string");r=r.join("")}return this.fromString(r,16)}fromBN(r){return this.inject(r)}fromArray(r,c){return q(Array.isArray(r),"data","array"),this.fromArrayLike(r,c)}fromBuffer(r,c){return q(r!=null&&r._isBuffer===!0,"data","buffer"),this.fromArrayLike(r,c)}fromArrayLike(r,c){if(c==null&&(c="be"),q(r&&r.length>>>0===r.length,"data","array-like"),q(c==="be"||c==="le","endian","endianness"),r.length===0)return this.words[0]=0,this.length=1,this.negative=0,this;this.length=Math.max(2,Math.ceil(r.length/3)),this.words=new Array(this.length),this.negative=0;for(let x=0;x<this.length;x++)this.words[x]=0;const b=r.length%3;let V=0,ie=0,L=0;if(c==="be"){for(let x=r.length-1;x>=2;x-=3){const j=r[x]|r[x-1]<<8|r[x-2]<<16;this.words[ie]|=j<<V&67108863,this.words[ie+1]=j>>>26-V&67108863,V+=24,V>=26&&(V-=26,ie+=1)}switch(b){case 2:L=r[1]|r[0]<<8;break;case 1:L=r[0];break}}else{const x=r.length-b;for(let j=0;j<x;j+=3){const t=r[j]|r[j+1]<<8|r[j+2]<<16;this.words[ie]|=t<<V&67108863,this.words[ie+1]=t>>>26-V&67108863,V+=24,V>=26&&(V-=26,ie+=1)}switch(b){case 2:L=r[x]|r[x+1]<<8;break;case 1:L=r[x];break}}return b>0&&(this.words[ie]|=L<<V&67108863,this.words[ie+1]=L>>>26-V&67108863),this._strip()}decode(r,c){return this.fromBuffer(r,c)}from(r,c,b){if(r==null)return this;if((c==="le"||c==="be")&&([c,b]=[b,c]),typeof r=="number")return this.fromNumber(r,b);if(typeof r=="bigint")return this.fromBigInt(r,b);if(typeof r=="string")return this.fromString(r,c,b);if(typeof r=="object"){if(s.isBN(r))return this.fromBN(r,b);if(r.length>>>0===r.length)return this.fromArrayLike(r,b)}if(typeof r=="boolean")return this.fromBool(r);throw new TypeError("Non-numeric object passed to BN.")}static min(...r){let c=null;for(const b of r)q(s.isBN(b),"num","bignum"),(!c||b.cmp(c)<0)&&(c=b);return c||new s(0)}static max(...r){let c=null;for(const b of r)q(s.isBN(b),"num","bignum"),(!c||b.cmp(c)>0)&&(c=b);return c||new s(0)}static cmp(r,c){return q(s.isBN(r),"a","bignum"),r.cmp(c)}static ucmp(r,c){return q(s.isBN(r),"a","bignum"),r.ucmp(c)}static red(r){return new R(r)}static barrett(r){return new O(r)}static mont(r){return new A(r)}static _prime(r){if(P[r])return P[r];let c;if(r==="p192")c=new w;else if(r==="p224")c=new m;else if(r==="p521")c=new _;else if(r==="k256")c=new E;else if(r==="p251")c=new d;else if(r==="p25519")c=new T;else if(r==="p448")c=new N;else throw new Error(`Unknown prime: "${r}".`);return P[r]=c,c}static prime(r){return s._prime(r).p.clone()}static pow(r,c){return r===2?s.shift(1,c):new s().fromNumber(r).pown(c)}static shift(r,c){return r===1?new s(0).usetn(c,1):new s().fromNumber(r).ishln(c)}static mask(r){return s.shift(1,r).isubn(1)}static randomBits(r,c){if(q(r!=null,"rng","rng"),q(c>>>0===c,"bits","uint32"),typeof r=="object"){q(typeof r.randomBytes=="function","rng","rng");const V=c+7>>>3,ie=V*8,L=r.randomBytes(V);if(q(L!=null&&L._isBuffer===!0,"bytes","buffer"),L.length!==V)throw new RangeError("Invalid number of bytes returned from RNG.");const x=s.fromBuffer(L);return ie>c&&x.iushrn(ie-c),x}q(typeof r=="function","rng","rng");const b=r(c);if(q(s.isBN(b),"num","bignum"),k(b.negative===0,"RNG"),h(!b.red,"RNG"),b.bitLength()>c)throw new RangeError("Invalid number of bits returned from RNG.");return b}static random(r,c,b){if(c=s.cast(c,16),b=s.cast(b,16),c.cmp(b)>0)throw new RangeError("Minimum cannot be greater than maximum.");const V=b.sub(c).iabs(),ie=V.bitLength();if(ie===0)return c.clone();for(;;){const L=s.randomBits(r,ie);if(!(L.cmp(V)>=0))return L.iadd(c),L}}static of(r,c){return new s().of(r,c)}static fromNumber(r,c){return new s().fromNumber(r,c)}static fromDouble(r,c){return new s().fromDouble(r,c)}static fromBigInt(r,c){return new s().fromBigInt(r,c)}static fromBool(r){return new s().fromBool(r)}static fromString(r,c,b){return new s().fromString(r,c,b)}static fromJSON(r){return new s().fromJSON(r)}static fromBN(r){return new s().fromBN(r)}static fromArray(r,c){return new s().fromArray(r,c)}static fromBuffer(r,c){return new s().fromBuffer(r,c)}static fromArrayLike(r,c){return new s().fromArrayLike(r,c)}static decode(r,c){return new s().decode(r,c)}static from(r,c,b){return new s().from(r,c,b)}static cast(r,c,b){return s.isBN(r)?r:new s(r,c,b)}static isBN(r){return r instanceof s}}s.BN=s,s.wordSize=26,s.native=0;class n{constructor(r,c){this.name=r,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=s.shift(1,this.n).isub(this.p),this.lo=this.p.clone(),this.one=this.p.clone()}ireduce(r){const c=r.negative!==0;let b=r.bitLength();for(U(b<=this.n*2),r.negative=0;b>this.n;)this.split(r,this.lo),this.imulK(r),r._iadd(r,this.lo),b=r.bitLength();const V=b<this.n?-1:r.ucmp(this.p);return V===0?(r.words[0]=0,r.length=1):V>0&&r._isub(r,this.p),c&&!r.isZero()&&r._isub(this.p,r),r}split(r,c){r._split(this.n,c)}imulK(r){return r.imul(this.k)}pm2(r){throw new Error("Not implemented.")}fermat(r){return this.pm2(r)}}class p extends n{constructor(r,c){super(r,c)}pm3d4(r){throw new Error("Not implemented.")}pp1d4(r){throw new Error("Not implemented.")}sqrt(r){const{red:c}=r,b=this.pp1d4(r);if(!c.sqr(b).eq(r))throw new J(b);return b}divsqrt(r,c){const{red:b}=r,V=b.sqr(r),ie=b.mul(V,r),L=b.mul(ie,V),x=b.mul(b.sqr(c),c),j=this.pm3d4(b.mul(L,x)),t=b.mul(b.mul(ie,c),j);if(b.mul(c,b.sqr(t)).eq(r))return t;throw new J(t)}}class v extends n{constructor(r,c,b){super(r,c),this.sm1=new s(b,16)}pm5d8(r){throw new Error("Not implemented.")}pp3d8(r){throw new Error("Not implemented.")}sqrt(r){const{red:c}=r,b=this.sm1._forceRed(c),V=this.pp3d8(r);if(c.sqr(V).eq(r))return V;const ie=c.mul(V,b);if(c.sqr(ie).eq(r))return ie;throw new J(V)}divsqrt(r,c){const{red:b}=r,V=this.sm1._forceRed(b),ie=b.mul(b.sqr(c),c),L=b.mul(b.sqr(ie),c),x=this.pm5d8(b.mul(r,L)),j=b.mul(b.mul(r,ie),x),t=b.mul(c,b.sqr(j));if(t.eq(r))return j;const l=b.ineg(t);if(l.eq(r))return b.mul(j,V);throw l.eq(b.mul(r,V))?new J(b.mul(j,V)):new J(j)}}class K extends n{constructor(r,c,b){super(r,c),this.g=new s(b,16),this.z=this.p.subn(1).zeroBits()}powS(r){throw new Error("Not implemented.")}powE(r){throw new Error("Not implemented.")}sqrt(r){const{red:c}=r;switch(c.jacobi(r)){case-1:throw new J(r);case 0:return r.clone()}let b=this.g._forceRed(c),V=this.powE(r),ie=this.powS(r),L=this.z;for(;;){let x=ie,j=0;for(;x.cmpn(1)!==0&&j<L;)x=c.sqr(x),j+=1;if(j===0)break;U(j<L),x=c.sqrn(b,L-j-1),b=c.sqr(x),V=c.mul(V,x),ie=c.mul(ie,b),L=j}return V}divsqrt(r,c){const{red:b}=r;if(c.isZero())throw new J(c);return this.sqrt(b.div(r,c))}}class w extends p{constructor(){super("p192","ffffffff ffffffff ffffffff fffffffeffffffff ffffffff")}imulK(r){const c=this.one.inject(r);return r.iushln(64)._iadd(r,c)}core(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=c.sqrnmul(b,1,r),ie=c.sqrnmul(V,3,V),L=c.sqrnmul(ie,6,ie),x=c.sqrnmul(L,12,L),j=c.sqrnmul(x,6,ie),t=c.sqrnmul(j,1,r),l=c.sqrnmul(t,31,t),I=c.sqrnmul(l,62,l),Y=c.sqrnmul(I,3,V),Z=c.sqrn(Y,1);return c.sqrnmul(Z,62,l)}pm3d4(r){return this.core(r)}pm2(r){const{red:c}=r,b=this.core(r),V=c.sqrn(b,1);return c.sqrnmul(V,1,r)}pp1d4(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=c.sqrnmul(b,2,b),ie=c.sqrnmul(V,4,V),L=c.sqrnmul(ie,8,ie),x=c.sqrnmul(L,16,L),j=c.sqrnmul(x,32,x),t=c.sqrnmul(j,64,j);return c.sqrn(t,62)}}class m extends K{constructor(){super("p224","ffffffff ffffffff ffffffff ffffffff00000000 00000000 00000001","6a0fec67 8598a792 0c55b2d4 0b2d6ffbbea3d8ce f3fb3632 dc691b74")}imulK(r){const c=this.one.inject(r);return r.iushln(96)._isub(r,c)}powS(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=c.sqrnmul(b,2,b),ie=c.sqrnmul(V,4,V),L=c.sqrnmul(ie,8,ie),x=c.sqrnmul(L,16,L),j=c.sqrnmul(x,32,x);return c.sqrnmul(j,64,j)}powE(r){const{red:c}=r;return c.sqrn(r,127)}pm2(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=c.sqrnmul(b,1,r),ie=c.sqrnmul(V,3,V),L=c.sqrnmul(ie,6,ie),x=c.sqrnmul(L,12,L),j=c.sqrnmul(x,24,x),t=c.sqrnmul(j,48,j),l=c.sqrnmul(t,24,x),I=c.sqrnmul(l,6,ie),Y=c.sqrnmul(I,1,r),Z=c.sqrn(Y,1);return c.sqrnmul(Z,96,t)}}class _ extends p{constructor(){super("p521","000001ff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff")}imulK(r){return r}core(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=c.sqrnmul(b,1,r),ie=c.sqrnmul(V,3,V),L=c.sqrnmul(ie,1,r),x=c.sqrnmul(L,1,r),j=c.sqrnmul(x,8,x),t=c.sqrnmul(j,16,j),l=c.sqrnmul(t,32,t),I=c.sqrnmul(l,64,l),Y=c.sqrnmul(I,128,I),Z=c.sqrnmul(Y,256,Y);return c.sqrnmul(Z,7,L)}pm3d4(r){return this.core(r)}pm2(r){const{red:c}=r,b=this.core(r),V=c.sqrn(b,1);return c.sqrnmul(V,1,r)}pp1d4(r){const{red:c}=r;return c.sqrn(r,519)}}class E extends p{constructor(){super("k256","ffffffff ffffffff ffffffff ffffffffffffffff ffffffff fffffffe fffffc2f")}split(r,c){const V=Math.min(r.length,9);c._alloc(V+1);for(let x=0;x<V;x++)c.words[x]=r.words[x];if(c.length=V,r.length<=9){c._strip(),r.words[0]=0,r.length=1;return}let ie=r.words[9],L=10;for(c.words[c.length++]=ie&4194303,c._strip();L<r.length;L++){const x=r.words[L]|0;r.words[L-10]=(x&4194303)<<4|ie>>>22,ie=x}ie>>>=22,r.words[L-10]=ie,ie===0&&r.length>10?r.length-=10:r.length-=9,r._strip()}imulK(r){r._expand(r.length+2);let c=0;for(let b=0;b<r.length;b++){const V=r.words[b];c+=V*977,r.words[b]=c&67108863,c=V*64+Math.floor(c/67108864)}return r.words[r.length-1]===0&&(r.length-=1,r.words[r.length-1]===0&&(r.length-=1)),r}core(r,c){const{red:b}=r,V=b.sqrnmul(c,1,r),ie=b.sqrnmul(V,3,V),L=b.sqrnmul(ie,3,V),x=b.sqrnmul(L,2,c),j=b.sqrnmul(x,11,x),t=b.sqrnmul(j,22,j),l=b.sqrnmul(t,44,t),I=b.sqrnmul(l,88,l),Y=b.sqrnmul(I,44,t),Z=b.sqrnmul(Y,3,V),W=b.sqrn(Z,1),ue=b.sqrnmul(W,22,j);return b.sqrn(ue,4)}pm3d4(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=this.core(r,b),ie=c.sqrnmul(V,1,r),L=c.sqrn(ie,1);return c.sqrnmul(L,2,b)}pm2(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=this.core(r,b),ie=c.sqrnmul(V,1,r),L=c.sqrn(ie,1),x=c.sqrnmul(L,2,b),j=c.sqrn(x,1);return c.sqrnmul(j,1,r)}pp1d4(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=this.core(r,b),ie=c.sqrnmul(V,2,b);return c.sqrn(ie,2)}}class d extends p{constructor(){super("p251","07ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffff7")}imulK(r){if(r.isZero())return r;let c=0;for(let b=0;b<r.length;b++){const V=r.words[b]*9+c;c=V>>>26,r.words[b]=V&67108863}return c!==0&&(r._alloc(r.length+1),r.words[r.length++]=c),r}core(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=c.sqrnmul(b,1,r),ie=c.sqrnmul(V,3,V),L=c.sqrnmul(ie,6,ie),x=c.sqrnmul(L,12,L),j=c.sqrnmul(x,24,x),t=c.sqrnmul(j,48,j),l=c.sqrnmul(t,96,t),I=c.sqrnmul(l,48,j),Y=c.sqrnmul(I,6,ie);return c.sqrnmul(Y,1,r)}pm3d4(r){const{red:c}=r,b=this.core(r),V=c.sqrn(b,1);return c.sqrnmul(V,1,r)}pm2(r){const{red:c}=r,b=this.core(r),V=c.sqrn(b,1),ie=c.sqrnmul(V,1,r),L=c.sqrn(ie,1);return c.sqrnmul(L,1,r)}pp1d4(r){const{red:c}=r,b=this.core(r),V=c.sqrnmul(b,1,r);return c.sqrn(V,1)}}class T extends v{constructor(){super("p25519","7fffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffed","2b832480 4fc1df0b 2b4d0099 3dfbd7a72f431806 ad2fe478 c4ee1b27 4a0ea0b0")}imulK(r){let c=0;for(let b=0;b<r.length;b++){const V=r.words[b]*19+c;c=V>>>26,r.words[b]=V&67108863}return c!==0&&(r._alloc(r.length+1),r.words[r.length++]=c),r}core(r,c){const{red:b}=r,V=b.sqrnmul(c,2,c),ie=b.sqrnmul(V,1,r),L=b.sqrnmul(ie,5,ie),x=b.sqrnmul(L,10,L),j=b.sqrnmul(x,20,x),t=b.sqrnmul(j,10,L),l=b.sqrnmul(t,50,t),I=b.sqrnmul(l,100,l);return b.sqrnmul(I,50,t)}pm5d8(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=this.core(r,b),ie=c.sqrn(V,1);return c.sqrnmul(ie,1,r)}pm2(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=this.core(r,b),ie=c.sqrn(V,1),L=c.sqrnmul(ie,1,r),x=c.sqrn(L,1);return c.sqrnmul(x,2,b)}pp3d8(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=this.core(r,b),ie=c.sqrnmul(V,1,r);return c.sqrn(ie,1)}}class N extends p{constructor(){super("p448","ffffffff ffffffff ffffffff ffffffffffffffff ffffffff fffffffe ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff")}imulK(r){const c=this.one.inject(r);return r.iushln(224)._iadd(r,c)}core(r,c){const{red:b}=r,V=b.sqrnmul(c,1,r),ie=b.sqrnmul(V,3,V),L=b.sqrnmul(ie,3,V),x=b.sqrnmul(L,2,c),j=b.sqrnmul(x,11,x),t=b.sqrnmul(j,22,j),l=b.sqrnmul(t,44,t),I=b.sqrnmul(l,88,l),Y=b.sqrnmul(I,44,t);return b.sqrnmul(Y,2,c)}pm3d4(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=this.core(r,b),ie=c.sqrnmul(V,1,r),L=c.sqrn(ie,1);return c.sqrnmul(L,222,V)}pm2(r){const{red:c}=r,b=this.pm3d4(r),V=c.sqrn(b,1);return c.sqrnmul(V,1,r)}pp1d4(r){const{red:c}=r,b=c.sqrnmul(r,1,r),V=this.core(r,b),ie=c.sqrnmul(V,2,b);return c.sqrn(ie,222)}}class R{constructor(r){let c=null;typeof r=="string"&&(c=s._prime(r),r=c.p),q(s.isBN(r),"m","bignum"),h(!r.red,"reduction"),k(r.sign()>0,"reduction"),this.m=r,this.prime=c,this.mb=null,this.sm1=null}_verify1(r){k(r.negative===0,"red"),o(r.red!=null,"red")}_verify2(r,c){k((r.negative|c.negative)===0,"red"),o(r.red!=null&&r.red===c.red,"red")}get mont(){return!1}precompute(){if(this.sm1===null&&this.m.andln(7)===5)if(this.prime)this.sm1=this.prime.sm1.clone()._forceRed(this);else{const r=new s(2).toRed(this),c=this.m.subn(1).iushrn(2);this.sm1=this.pow(r,c)}return this}convertTo(r){const c=r.mod(this.m);return c.red=this,c}convertFrom(r){const c=r.clone();return c.red=null,c}intTo(r){return r}intFrom(r){return r}imod(r){return this.prime?this.prime.ireduce(r)._forceRed(this):r.imod(this.m)._forceRed(this)}iadd(r,c){return this._verify2(r,c),r._iadd(r,c),r.ucmp(this.m)>=0&&r._isub(r,this.m),r}add(r,c){return r.length<c.length?this.iadd(c.clone(),r):this.iadd(r.clone(),c)}iaddn(r,c){return this._verify1(r),c<0?this.isubn(r,-c):(this.m.length===1&&(c%=this.m.words[0]),r._iaddn(c),r.ucmp(this.m)>=0&&r._isub(r,this.m),r)}addn(r,c){return this.iaddn(r.clone(),c)}isub(r,c){this._verify2(r,c);const b=r.ucmp(c);return b===0?(r.words[0]=0,r.length=1,r):(b<0?(r._isub(c,r),r._isub(this.m,r)):r._isub(r,c),r)}sub(r,c){return this.isub(r.clone(),c)}isubn(r,c){return this._verify1(r),c<0?this.iaddn(r,-c):(this.m.length===1&&(c%=this.m.words[0]),r.length===1&&r.words[0]<c?(r.words[0]=c-r.words[0],r._isub(this.m,r)):r._isubn(c),r)}subn(r,c){return this.isubn(r.clone(),c)}imul(r,c){return this._verify2(r,c),this.imod(r.imul(c))}mul(r,c){return this._verify2(r,c),this.imod(r.mul(c))}imuln(r,c){if(this._verify1(r),r.isZero())return r;if(c===0)return r.words[0]=0,r.length=1,r;const b=c<0;if(b&&(c=-c),this.m.length===1&&(c%=this.m.words[0]),r.imuln(c),c<=16)for(;r.ucmp(this.m)>=0;)r._isub(r,this.m);else this.imod(r);return b&&this.ineg(r),r}muln(r,c){return this.imuln(r.clone(),c)}idiv(r,c){return this.div(r,c)._move(r)}div(r,c){return this.mul(r,this.invert(c))}idivn(r,c){return this.divn(r,c)._move(r)}divn(r,c){return this.div(r,this.convertTo(new s(c)))}ipow(r,c){return this.pow(r,c)._move(r)}pow(r,c){return this._verify1(r),c.isNeg()&&(r=this.invert(r)),c.length===1?this.pown(r,c.words[0]):a&&!this.prime?this.powInt(r,c):this.powNum(r,c)}powNum(r,c){const b=new s(1).toRed(this),V=new Array(H),ie=this.sqr(r);V[0]=r;for(let j=1;j<H;j++)V[j]=this.mul(V[j-1],ie);let L=c.bitLength(),x=b;for(;L>=u;){let j=u,t=c.bits(L-j,j);if(t<H){x=this.sqr(x),L-=1;continue}for(;(t&1)===0;)j-=1,t>>=1;x===b?x=V[t>>1].clone():(x=this.sqrn(x,j),x=this.mul(x,V[t>>1])),L-=j}if(L>0){const j=c.bits(0,L);for(;L--;)x=this.sqr(x),j>>L&1&&(x=this.mul(x,r))}return x}powInt(r,c){this.mb===null&&(this.mb=this.m.toBigInt());const b=this.intFrom(r.toBigInt()),V=ke(b,c,this.mb),ie=this.intTo(V);return s.fromBigInt(ie)._forceRed(this)}sqrn(r,c){for(;c--;)r=this.sqr(r);return r}sqrnmul(r,c,b){return this.mul(this.sqrn(r,c),b)}ipown(r,c){return this.pown(r,c)._move(r)}pown(r,c){if(this._verify1(r),c<0&&(r=this.invert(r),c=-c),c===0)return new s(1).toRed(this);if(c===1)return r.clone();const b=$(c);let V=r;for(let ie=b-2;ie>=0;ie--)V=this.sqr(V),c>>ie&1&&(V=this.mul(V,r));return V}isqr(r){return this.imul(r,r)}sqr(r){return this.mul(r,r)}isqrt(r){return this.sqrt(r)._move(r)}sqrt(r){return this._verify1(r),this.prime?this.prime.sqrt(r):this.m.andln(3)===3?this.sqrt3mod4(r):this.m.andln(7)===5?this.sm1!=null?this.sqrt5mod8sm1(r):this.sqrt5mod8(r):this.sqrt0(r)}sqrt3mod4(r){const c=this.m.addn(1).iushrn(2),b=this.pow(r,c);if(!this.sqr(b).eq(r))throw new J(b);return b}sqrt5mod8(r){const c=new s(1).toRed(this),b=this.m.ushrn(3),V=this.add(r,r),ie=this.pow(V,b),L=this.mul(V,this.sqr(ie)),x=this.mul(this.mul(ie,r),this.isub(L,c));if(!this.sqr(x).eq(r))throw new J(x);return x}sqrt5mod8sm1(r){const c=this.m.addn(3).iushrn(3),b=this.pow(r,c);if(this.sqr(b).eq(r))return b;const V=this.mul(b,this.sm1);if(this.sqr(V).eq(r))return V;throw new J(b)}sqrt0(r){if(this.m.cmpn(1)===0||!this.m.isOdd())throw new Error("Invalid prime.");switch(this.jacobi(r)){case-1:throw new J(r);case 0:return r.clone()}const c=new s(1).toRed(this),b=this.m.subn(1),V=b._makeOdd(),ie=new s(2).toRed(this);for(;this.jacobi(ie)!==-1;)this.iadd(ie,c);let L=this.pow(ie,b),x=this.pow(r,b),j=this.pow(r,b.iaddn(1).iushrn(1)),t=V;for(;;){let l=x,I=0;for(;!l.eq(c)&&I<t;)l=this.sqr(l),I+=1;if(I===0)break;U(I<t),l=this.sqrn(L,t-I-1),L=this.sqr(l),j=this.mul(j,l),x=this.mul(x,L),t=I}return j}idivsqrt(r,c){return this.divsqrt(r,c)._move(r)}divsqrt(r,c){if(this._verify2(r,c),r.isZero()&&c.isZero())throw new J(c);if(this.prime)return this.prime.divsqrt(r,c);if(this.m.andln(3)===3)return this.divsqrt3mod4(r,c);if(this.sm1!=null&&this.m.andln(7)===5)return this.divsqrt5mod8(r,c);if(c.isZero())throw new J(c);return this.sqrt(this.div(r,c))}divsqrt3mod4(r,c){const b=this.m.subn(3).iushrn(2),V=this.sqr(r),ie=this.mul(V,r),L=this.mul(ie,V),x=this.mul(this.sqr(c),c),j=this.pow(this.mul(L,x),b),t=this.mul(this.mul(ie,c),j);if(this.mul(c,this.sqr(t)).eq(r))return t;throw new J(t)}divsqrt5mod8(r,c){const b=this.m.subn(5).iushrn(3),V=this.mul(this.sqr(c),c),ie=this.mul(this.sqr(V),c),L=this.pow(this.mul(r,ie),b),x=this.mul(this.mul(r,V),L),j=this.mul(c,this.sqr(x));if(j.eq(r))return x;const t=this.ineg(j);if(t.eq(r))return this.mul(x,this.sm1);throw t.eq(this.mul(r,this.sm1))?new J(this.mul(x,this.sm1)):new J(x)}isSquare(r){return this.m.isOdd()?this.jacobi(r)>=0:this.kronecker(r)>=0}ishl(r,c){return this._verify1(r),this.imod(r.iushl(c))}shl(r,c){return this.ishl(r.clone(),c)}ishln(r,c){if(this._verify1(r),r.iushln(c),c<=4)for(;r.ucmp(this.m)>=0;)r._isub(r,this.m);else this.imod(r);return r}shln(r,c){return this.ishln(r.clone(),c)}ineg(r){return this._verify1(r),r.isZero()||r._isub(this.m,r),r}neg(r){return this.ineg(r.clone())}eq(r,c){return this._verify2(r,c),r.ucmp(c)===0}eqn(r,c){if(this._verify1(r),this.m.length===1)return c%=this.m.words[0],c<0&&(c+=this.m.words[0]),r.ucmpn(c)===0;if(c<0){this.m._isubn(-c);const b=r.ucmp(this.m);return this.m._iaddn(-c),b===0}return r.ucmpn(c)===0}isHigh(r){return!this.isLow(r)}isLow(r){return this._verify1(r),r.ucmp(this.m.ushrn(1))<=0}isOdd(r){return this._verify1(r),r.isOdd()}isEven(r){return this._verify1(r),r.isEven()}legendre(r){if(this._verify1(r),this.m.isEven())throw new Error("legendre: `num` must be odd.");const c=this.m.subn(1).iushrn(1),b=this.pow(r,c);if(b.isZero())return 0;const V=new s(1).toRed(this);if(b.eq(V))return 1;if(b.eq(this.ineg(V)))return-1;throw new Error("Invalid prime.")}jacobi(r){return this._verify1(r),r.jacobi(this.m)}kronecker(r){return this._verify1(r),r.kronecker(this.m)}iinvert(r){return this.invert(r)._move(r)}invert(r){return this._verify1(r),r.invert(this.m)._forceRed(this)}ifermat(r){return this.fermat(r)._move(r)}fermat(r){if(this._verify1(r),r.isZero()||this.m.cmpn(1)===0)throw new RangeError("Not invertible.");return this.prime?this.prime.fermat(r):this.pow(r,this.m.subn(2))}invertAll(r){q(Array.isArray(r),"elems","array");for(const ie of r)q(s.isBN(ie),"elem","bignum"),this._verify1(ie);if(this.m.cmpn(1)===0||this.m.isEven())throw new RangeError("Not invertible.");const c=r.length,b=new Array(c);if(c===0)return b;let V=new s(1).toRed(this);for(let ie=0;ie<c;ie++){if(r[ie].isZero()){b[ie]=r[ie].clone();continue}b[ie]=V,V=this.mul(V,r[ie])}V=this.invert(V);for(let ie=c-1;ie>=0;ie--)r[ie].isZero()||(b[ie]=this.mul(V,b[ie]),V=this.mul(V,r[ie]));return b}[e](){return this.prime?`<Red: ${this.prime.name}>`:`<Red: ${this.m.toString(10)}>`}}class O extends R{constructor(r){super(r),this.prime=null,this.n=this.m.bitLength(),this.n%26!==0&&(this.n+=26-this.n%26),this.k=this.n*2,this.w=this.k/26,this.b=s.shift(1,this.k).div(this.m)}convertTo(r){return r.length>this.w?super.convertTo(r):this.imod(r.clone())}_shift(r){let c=0,b=this.w;for(;b<r.length;)r.words[c++]=r.words[b++];c===0&&(r.words[c++]=0),r.length=c}imod(r){const c=r.negative;U(r.length<=this.w),r.negative=0;const b=r.mul(this.b);return this._shift(b),r._isub(r,b.mul(this.m)),r.ucmp(this.m)>=0&&r._isub(r,this.m),c&&!r.isZero()&&r._isub(this.m,r),r.red=this,r}}class A extends R{constructor(r){super(r),this.prime=null,this.n=this.m.length*26,this.r=s.shift(1,this.n),this.r2=s.shift(1,this.n*2).imod(this.m),this.ri=this.r.invert(this.m),this.mi=this.r.mul(this.ri).isubn(1).div(this.m),this.rib=null}get mont(){return!0}convertTo(r){return r.isNeg()||r.ucmp(this.m)>=0?this.imod(r.ushln(this.n)):this.mul(r,this.r2)}convertFrom(r){const c=this.mul(r,new s(1));return c.red=null,c}intTo(r){return(r<<BigInt(this.n))%this.mb}intFrom(r){return this.rib===null&&(this.rib=this.ri.toBigInt()),r*this.rib%this.mb}iaddn(r,c){return this.iadd(r,this.convertTo(new s(c)))}isubn(r,c){return this.isub(r,this.convertTo(new s(c)))}imul(r,c){return this.mul(r,c)._move(r)}mul(r,c){if(r.isZero()||c.isZero())return new s(0)._forceRed(this);const b=r.mul(c),V=b.umaskn(this.n).mul(this.mi).iumaskn(this.n),ie=b.iadd(V.mul(this.m)).iushrn(this.n);return ie.ucmp(this.m)>=0&&ie._isub(ie,this.m),ie._forceRed(this)}imuln(r,c){if(this._verify1(r),r.isZero())return r;if(c===0)return r.words[0]=0,r.length=1,r;const b=c<0;b&&(c=-c),this.m.length===1&&(c%=this.m.words[0]);const V=$(c);if(V>5)this.imul(r,this.convertTo(new s(c)));else if((c&c-1)===0)for(let ie=0;ie<V-1;ie++)this.iadd(r,r);else{const ie=r.clone();for(let L=V-2;L>=0;L--)this.iadd(r,r),c>>L&1&&this.iadd(r,ie)}return b&&this.ineg(r),r}eqn(r,c){return this._verify1(r),c===0?r.isZero():r.ucmp(this.convertTo(new s(c)))===0}isLow(r){return this._verify1(r),this.convertFrom(r).ucmp(this.m.ushrn(1))<=0}isOdd(r){return this._verify1(r),this.convertFrom(r).isOdd()}isEven(r){return this._verify1(r),this.convertFrom(r).isEven()}invert(r){return this._verify1(r),this.imod(r.invert(this.m).mul(this.r2))}}function y(Re,r,c){const b=new Re(r);return Re.captureStackTrace&&Re.captureStackTrace(b,c),b}function U(Re,r){if(!Re)throw y(Error,r||"Assertion failed.",U)}function q(Re,r,c){if(!Re){const b=`"${r}" must be a(n) ${c}.`;throw y(TypeError,b,q)}}function k(Re,r){if(!Re){const c=`"${r}" only works with positive numbers.`;throw y(RangeError,c,k)}}function o(Re,r){if(!Re){const c=`"${r}" only works with red numbers.`;throw y(TypeError,c,o)}}function h(Re,r){if(!Re){const c=`"${r}" only works with normal numbers.`;throw y(TypeError,c,h)}}function z(Re){if(!Re)throw y(RangeError,"Cannot divide by zero.",z)}class J extends Error{constructor(r){super(),this.name="SquareRootError",this.message="X is not a square mod P.",this.result=r.fromRed(),Error.captureStackTrace&&Error.captureStackTrace(this,J)}}function M(Re){return Number.isSafeInteger(Re)}function X(Re){return M(Re)&&Re>=-67108863&&Re<=67108863}function B(Re,r){return Re.allocUnsafeSlow?Re.allocUnsafeSlow(r):new Re(r)}function G(Re){if(Re==null)return 10;if(typeof Re=="number")return Re;switch(Re){case"bin":return 2;case"oct":return 8;case"dec":return 10;case"hex":return 16}return 0}function $(Re){if(Math.clz32)return 32-Math.clz32(Re);let r=Re,c=0;return r>=4096&&(c+=13,r>>>=13),r>=64&&(c+=7,r>>>=7),r>=8&&(c+=4,r>>>=4),r>=2&&(c+=2,r>>>=2),c+r}function le(Re){if(Re===0)return 26;let r=Re,c=0;return(r&8191)===0&&(c+=13,r>>>=13),(r&127)===0&&(c+=7,r>>>=7),(r&15)===0&&(c+=4,r>>>=4),(r&3)===0&&(c+=2,r>>>=2),(r&1)===0&&(c+=1),c}function Ee(Re,r,c){const b=Math.min(Re.length,c);let V=0,ie=0;for(let L=r;L<b;L++){const x=Re.charCodeAt(L)-48;V<<=4;let j;x>=49&&x<=54?j=x-49+10:x>=17&&x<=22?j=x-17+10:j=x,V|=j,ie|=j}if(ie&-16)throw new Error("Invalid string.");return V}function Ne(Re,r,c,b){const V=Math.min(Re.length,c);let ie=0;for(let L=r;L<V;L++){const x=Re.charCodeAt(L)-48;ie*=b;let j;if(x>=49?j=x-49+10:x>=17?j=x-17+10:j=x,x<0||x>207||j>=b)throw new Error("Invalid string.");ie+=j}return ie}function ke(Re,r,c){const b=BigInt(1),V=new Array(H),ie=Re*Re%c;V[0]=Re;for(let j=1;j<H;j++)V[j]=V[j-1]*ie%c;let L=r.bitLength(),x=b;for(;L>=u;){let j=u,t=r.bits(L-j,j);if(t<H){x=x*x%c,L-=1;continue}for(;(t&1)===0;)j-=1,t>>=1;x===b?x=V[t>>1]:(x=se(x,j,c),x=x*V[t>>1]%c),L-=j}if(L>0){const j=r.bits(0,L);for(;L--;)x=x*x%c,j>>L&1&&(x=x*Re%c)}return x}function se(Re,r,c){for(let b=0;b<r;b++)Re=Re*Re%c;return Re}function ge(Re,r,c){const b=Re.length+r.length;c.negative=Re.negative^r.negative,c._alloc(b),c.length=b;const V=Re.words[0],ie=r.words[0],L=V*ie,x=L&67108863;let j=L/67108864|0,t=1;for(c.words[0]=x;t<c.length-1;t++){let l=j>>>26,I=j&67108863;const Y=Math.max(0,t-Re.length+1),Z=Math.min(t,r.length-1);for(let W=Y;W<=Z;W++){const ue=t-W,pe=Re.words[ue],Ie=r.words[W],te=pe*Ie+I;l+=te/67108864|0,I=te&67108863}c.words[t]=I|0,j=l|0}return j!==0?c.words[t]=j|0:c.length-=1,c._strip()}function ve(Re,r,c){const b=Re.length+r.length;c.negative=Re.negative^r.negative,c._alloc(b),c.length=b;let V=0,ie=0,L=0;for(;L<c.length-1;L++){let x=ie;ie=0;let j=V&67108863;const t=Math.max(0,L-Re.length+1),l=Math.min(L,r.length-1);for(let I=t;I<=l;I++){const Y=L-I,Z=Re.words[Y],W=r.words[I],ue=Z*W;let pe=ue&67108863;x=x+(ue/67108864|0)|0,pe=pe+j|0,j=pe&67108863,x=x+(pe>>>26)|0,ie+=x>>>26,x&=67108863}c.words[L]=j,V=x,x=ie}return V!==0?c.words[L]=V:c.length-=1,c._strip()}function Ue(Re,r,c){if(!a||Re.length+r.length>82595519)return ve(Re,r,c);const b=BigInt(0),V=BigInt(67108863),ie=BigInt(26);let L=Re.toBigInt()*r.toBigInt();const x=L<b|0;x&&(L=-L);let j=0;for(;L>b;)c.words[j++]=Number(L&V),L>>=ie;return j===0&&(c.words[j++]=0),c.length=j,c.negative=x,c}function re(Re,r,c){const b=Re.words,V=r.words,ie=c.words,L=b[0]|0,x=L&8191,j=L>>>13,t=b[1]|0,l=t&8191,I=t>>>13,Y=b[2]|0,Z=Y&8191,W=Y>>>13,ue=b[3]|0,pe=ue&8191,Ie=ue>>>13,te=b[4]|0,D=te&8191,F=te>>>13,he=b[5]|0,we=he&8191,Me=he>>>13,de=b[6]|0,Se=de&8191,ye=de>>>13,me=b[7]|0,Te=me&8191,xe=me>>>13,Pe=b[8]|0,Ce=Pe&8191,Ke=Pe>>>13,qe=b[9]|0,Ye=qe&8191,$e=qe>>>13,Ge=V[0]|0,Qe=Ge&8191,tt=Ge>>>13,nt=V[1]|0,Xe=nt&8191,ot=nt>>>13,yt=V[2]|0,lt=yt&8191,pt=yt>>>13,or=V[3]|0,bt=or&8191,Rt=or>>>13,dr=V[4]|0,mt=dr&8191,Bt=dr>>>13,fr=V[5]|0,it=fr&8191,vt=fr>>>13,br=V[6]|0,wt=br&8191,Tt=br>>>13,ar=V[7]|0,St=ar&8191,_t=ar>>>13,Wt=V[8]|0,At=Wt&8191,Nt=Wt>>>13,Gt=V[9]|0,dt=Gt&8191,Je=Gt>>>13;let at=0,Oe,fe,Be;c.negative=Re.negative^r.negative,c._alloc(20),c.length=19,Oe=Math.imul(x,Qe),fe=Math.imul(x,tt),fe=fe+Math.imul(j,Qe)|0,Be=Math.imul(j,tt);let Dt=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,Oe=Math.imul(l,Qe),fe=Math.imul(l,tt),fe=fe+Math.imul(I,Qe)|0,Be=Math.imul(I,tt),Oe=Oe+Math.imul(x,Xe)|0,fe=fe+Math.imul(x,ot)|0,fe=fe+Math.imul(j,Xe)|0,Be=Be+Math.imul(j,ot)|0;let ne=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(ne>>>26)|0,ne&=67108863,Oe=Math.imul(Z,Qe),fe=Math.imul(Z,tt),fe=fe+Math.imul(W,Qe)|0,Be=Math.imul(W,tt),Oe=Oe+Math.imul(l,Xe)|0,fe=fe+Math.imul(l,ot)|0,fe=fe+Math.imul(I,Xe)|0,Be=Be+Math.imul(I,ot)|0,Oe=Oe+Math.imul(x,lt)|0,fe=fe+Math.imul(x,pt)|0,fe=fe+Math.imul(j,lt)|0,Be=Be+Math.imul(j,pt)|0;let ee=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(ee>>>26)|0,ee&=67108863,Oe=Math.imul(pe,Qe),fe=Math.imul(pe,tt),fe=fe+Math.imul(Ie,Qe)|0,Be=Math.imul(Ie,tt),Oe=Oe+Math.imul(Z,Xe)|0,fe=fe+Math.imul(Z,ot)|0,fe=fe+Math.imul(W,Xe)|0,Be=Be+Math.imul(W,ot)|0,Oe=Oe+Math.imul(l,lt)|0,fe=fe+Math.imul(l,pt)|0,fe=fe+Math.imul(I,lt)|0,Be=Be+Math.imul(I,pt)|0,Oe=Oe+Math.imul(x,bt)|0,fe=fe+Math.imul(x,Rt)|0,fe=fe+Math.imul(j,bt)|0,Be=Be+Math.imul(j,Rt)|0;let be=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(be>>>26)|0,be&=67108863,Oe=Math.imul(D,Qe),fe=Math.imul(D,tt),fe=fe+Math.imul(F,Qe)|0,Be=Math.imul(F,tt),Oe=Oe+Math.imul(pe,Xe)|0,fe=fe+Math.imul(pe,ot)|0,fe=fe+Math.imul(Ie,Xe)|0,Be=Be+Math.imul(Ie,ot)|0,Oe=Oe+Math.imul(Z,lt)|0,fe=fe+Math.imul(Z,pt)|0,fe=fe+Math.imul(W,lt)|0,Be=Be+Math.imul(W,pt)|0,Oe=Oe+Math.imul(l,bt)|0,fe=fe+Math.imul(l,Rt)|0,fe=fe+Math.imul(I,bt)|0,Be=Be+Math.imul(I,Rt)|0,Oe=Oe+Math.imul(x,mt)|0,fe=fe+Math.imul(x,Bt)|0,fe=fe+Math.imul(j,mt)|0,Be=Be+Math.imul(j,Bt)|0;let We=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(We>>>26)|0,We&=67108863,Oe=Math.imul(we,Qe),fe=Math.imul(we,tt),fe=fe+Math.imul(Me,Qe)|0,Be=Math.imul(Me,tt),Oe=Oe+Math.imul(D,Xe)|0,fe=fe+Math.imul(D,ot)|0,fe=fe+Math.imul(F,Xe)|0,Be=Be+Math.imul(F,ot)|0,Oe=Oe+Math.imul(pe,lt)|0,fe=fe+Math.imul(pe,pt)|0,fe=fe+Math.imul(Ie,lt)|0,Be=Be+Math.imul(Ie,pt)|0,Oe=Oe+Math.imul(Z,bt)|0,fe=fe+Math.imul(Z,Rt)|0,fe=fe+Math.imul(W,bt)|0,Be=Be+Math.imul(W,Rt)|0,Oe=Oe+Math.imul(l,mt)|0,fe=fe+Math.imul(l,Bt)|0,fe=fe+Math.imul(I,mt)|0,Be=Be+Math.imul(I,Bt)|0,Oe=Oe+Math.imul(x,it)|0,fe=fe+Math.imul(x,vt)|0,fe=fe+Math.imul(j,it)|0,Be=Be+Math.imul(j,vt)|0;let Et=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(Et>>>26)|0,Et&=67108863,Oe=Math.imul(Se,Qe),fe=Math.imul(Se,tt),fe=fe+Math.imul(ye,Qe)|0,Be=Math.imul(ye,tt),Oe=Oe+Math.imul(we,Xe)|0,fe=fe+Math.imul(we,ot)|0,fe=fe+Math.imul(Me,Xe)|0,Be=Be+Math.imul(Me,ot)|0,Oe=Oe+Math.imul(D,lt)|0,fe=fe+Math.imul(D,pt)|0,fe=fe+Math.imul(F,lt)|0,Be=Be+Math.imul(F,pt)|0,Oe=Oe+Math.imul(pe,bt)|0,fe=fe+Math.imul(pe,Rt)|0,fe=fe+Math.imul(Ie,bt)|0,Be=Be+Math.imul(Ie,Rt)|0,Oe=Oe+Math.imul(Z,mt)|0,fe=fe+Math.imul(Z,Bt)|0,fe=fe+Math.imul(W,mt)|0,Be=Be+Math.imul(W,Bt)|0,Oe=Oe+Math.imul(l,it)|0,fe=fe+Math.imul(l,vt)|0,fe=fe+Math.imul(I,it)|0,Be=Be+Math.imul(I,vt)|0,Oe=Oe+Math.imul(x,wt)|0,fe=fe+Math.imul(x,Tt)|0,fe=fe+Math.imul(j,wt)|0,Be=Be+Math.imul(j,Tt)|0;let kt=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(kt>>>26)|0,kt&=67108863,Oe=Math.imul(Te,Qe),fe=Math.imul(Te,tt),fe=fe+Math.imul(xe,Qe)|0,Be=Math.imul(xe,tt),Oe=Oe+Math.imul(Se,Xe)|0,fe=fe+Math.imul(Se,ot)|0,fe=fe+Math.imul(ye,Xe)|0,Be=Be+Math.imul(ye,ot)|0,Oe=Oe+Math.imul(we,lt)|0,fe=fe+Math.imul(we,pt)|0,fe=fe+Math.imul(Me,lt)|0,Be=Be+Math.imul(Me,pt)|0,Oe=Oe+Math.imul(D,bt)|0,fe=fe+Math.imul(D,Rt)|0,fe=fe+Math.imul(F,bt)|0,Be=Be+Math.imul(F,Rt)|0,Oe=Oe+Math.imul(pe,mt)|0,fe=fe+Math.imul(pe,Bt)|0,fe=fe+Math.imul(Ie,mt)|0,Be=Be+Math.imul(Ie,Bt)|0,Oe=Oe+Math.imul(Z,it)|0,fe=fe+Math.imul(Z,vt)|0,fe=fe+Math.imul(W,it)|0,Be=Be+Math.imul(W,vt)|0,Oe=Oe+Math.imul(l,wt)|0,fe=fe+Math.imul(l,Tt)|0,fe=fe+Math.imul(I,wt)|0,Be=Be+Math.imul(I,Tt)|0,Oe=Oe+Math.imul(x,St)|0,fe=fe+Math.imul(x,_t)|0,fe=fe+Math.imul(j,St)|0,Be=Be+Math.imul(j,_t)|0;let Pt=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,Oe=Math.imul(Ce,Qe),fe=Math.imul(Ce,tt),fe=fe+Math.imul(Ke,Qe)|0,Be=Math.imul(Ke,tt),Oe=Oe+Math.imul(Te,Xe)|0,fe=fe+Math.imul(Te,ot)|0,fe=fe+Math.imul(xe,Xe)|0,Be=Be+Math.imul(xe,ot)|0,Oe=Oe+Math.imul(Se,lt)|0,fe=fe+Math.imul(Se,pt)|0,fe=fe+Math.imul(ye,lt)|0,Be=Be+Math.imul(ye,pt)|0,Oe=Oe+Math.imul(we,bt)|0,fe=fe+Math.imul(we,Rt)|0,fe=fe+Math.imul(Me,bt)|0,Be=Be+Math.imul(Me,Rt)|0,Oe=Oe+Math.imul(D,mt)|0,fe=fe+Math.imul(D,Bt)|0,fe=fe+Math.imul(F,mt)|0,Be=Be+Math.imul(F,Bt)|0,Oe=Oe+Math.imul(pe,it)|0,fe=fe+Math.imul(pe,vt)|0,fe=fe+Math.imul(Ie,it)|0,Be=Be+Math.imul(Ie,vt)|0,Oe=Oe+Math.imul(Z,wt)|0,fe=fe+Math.imul(Z,Tt)|0,fe=fe+Math.imul(W,wt)|0,Be=Be+Math.imul(W,Tt)|0,Oe=Oe+Math.imul(l,St)|0,fe=fe+Math.imul(l,_t)|0,fe=fe+Math.imul(I,St)|0,Be=Be+Math.imul(I,_t)|0,Oe=Oe+Math.imul(x,At)|0,fe=fe+Math.imul(x,Nt)|0,fe=fe+Math.imul(j,At)|0,Be=Be+Math.imul(j,Nt)|0;let Zt=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,Oe=Math.imul(Ye,Qe),fe=Math.imul(Ye,tt),fe=fe+Math.imul($e,Qe)|0,Be=Math.imul($e,tt),Oe=Oe+Math.imul(Ce,Xe)|0,fe=fe+Math.imul(Ce,ot)|0,fe=fe+Math.imul(Ke,Xe)|0,Be=Be+Math.imul(Ke,ot)|0,Oe=Oe+Math.imul(Te,lt)|0,fe=fe+Math.imul(Te,pt)|0,fe=fe+Math.imul(xe,lt)|0,Be=Be+Math.imul(xe,pt)|0,Oe=Oe+Math.imul(Se,bt)|0,fe=fe+Math.imul(Se,Rt)|0,fe=fe+Math.imul(ye,bt)|0,Be=Be+Math.imul(ye,Rt)|0,Oe=Oe+Math.imul(we,mt)|0,fe=fe+Math.imul(we,Bt)|0,fe=fe+Math.imul(Me,mt)|0,Be=Be+Math.imul(Me,Bt)|0,Oe=Oe+Math.imul(D,it)|0,fe=fe+Math.imul(D,vt)|0,fe=fe+Math.imul(F,it)|0,Be=Be+Math.imul(F,vt)|0,Oe=Oe+Math.imul(pe,wt)|0,fe=fe+Math.imul(pe,Tt)|0,fe=fe+Math.imul(Ie,wt)|0,Be=Be+Math.imul(Ie,Tt)|0,Oe=Oe+Math.imul(Z,St)|0,fe=fe+Math.imul(Z,_t)|0,fe=fe+Math.imul(W,St)|0,Be=Be+Math.imul(W,_t)|0,Oe=Oe+Math.imul(l,At)|0,fe=fe+Math.imul(l,Nt)|0,fe=fe+Math.imul(I,At)|0,Be=Be+Math.imul(I,Nt)|0,Oe=Oe+Math.imul(x,dt)|0,fe=fe+Math.imul(x,Je)|0,fe=fe+Math.imul(j,dt)|0,Be=Be+Math.imul(j,Je)|0;let Qt=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,Oe=Math.imul(Ye,Xe),fe=Math.imul(Ye,ot),fe=fe+Math.imul($e,Xe)|0,Be=Math.imul($e,ot),Oe=Oe+Math.imul(Ce,lt)|0,fe=fe+Math.imul(Ce,pt)|0,fe=fe+Math.imul(Ke,lt)|0,Be=Be+Math.imul(Ke,pt)|0,Oe=Oe+Math.imul(Te,bt)|0,fe=fe+Math.imul(Te,Rt)|0,fe=fe+Math.imul(xe,bt)|0,Be=Be+Math.imul(xe,Rt)|0,Oe=Oe+Math.imul(Se,mt)|0,fe=fe+Math.imul(Se,Bt)|0,fe=fe+Math.imul(ye,mt)|0,Be=Be+Math.imul(ye,Bt)|0,Oe=Oe+Math.imul(we,it)|0,fe=fe+Math.imul(we,vt)|0,fe=fe+Math.imul(Me,it)|0,Be=Be+Math.imul(Me,vt)|0,Oe=Oe+Math.imul(D,wt)|0,fe=fe+Math.imul(D,Tt)|0,fe=fe+Math.imul(F,wt)|0,Be=Be+Math.imul(F,Tt)|0,Oe=Oe+Math.imul(pe,St)|0,fe=fe+Math.imul(pe,_t)|0,fe=fe+Math.imul(Ie,St)|0,Be=Be+Math.imul(Ie,_t)|0,Oe=Oe+Math.imul(Z,At)|0,fe=fe+Math.imul(Z,Nt)|0,fe=fe+Math.imul(W,At)|0,Be=Be+Math.imul(W,Nt)|0,Oe=Oe+Math.imul(l,dt)|0,fe=fe+Math.imul(l,Je)|0,fe=fe+Math.imul(I,dt)|0,Be=Be+Math.imul(I,Je)|0;let er=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(er>>>26)|0,er&=67108863,Oe=Math.imul(Ye,lt),fe=Math.imul(Ye,pt),fe=fe+Math.imul($e,lt)|0,Be=Math.imul($e,pt),Oe=Oe+Math.imul(Ce,bt)|0,fe=fe+Math.imul(Ce,Rt)|0,fe=fe+Math.imul(Ke,bt)|0,Be=Be+Math.imul(Ke,Rt)|0,Oe=Oe+Math.imul(Te,mt)|0,fe=fe+Math.imul(Te,Bt)|0,fe=fe+Math.imul(xe,mt)|0,Be=Be+Math.imul(xe,Bt)|0,Oe=Oe+Math.imul(Se,it)|0,fe=fe+Math.imul(Se,vt)|0,fe=fe+Math.imul(ye,it)|0,Be=Be+Math.imul(ye,vt)|0,Oe=Oe+Math.imul(we,wt)|0,fe=fe+Math.imul(we,Tt)|0,fe=fe+Math.imul(Me,wt)|0,Be=Be+Math.imul(Me,Tt)|0,Oe=Oe+Math.imul(D,St)|0,fe=fe+Math.imul(D,_t)|0,fe=fe+Math.imul(F,St)|0,Be=Be+Math.imul(F,_t)|0,Oe=Oe+Math.imul(pe,At)|0,fe=fe+Math.imul(pe,Nt)|0,fe=fe+Math.imul(Ie,At)|0,Be=Be+Math.imul(Ie,Nt)|0,Oe=Oe+Math.imul(Z,dt)|0,fe=fe+Math.imul(Z,Je)|0,fe=fe+Math.imul(W,dt)|0,Be=Be+Math.imul(W,Je)|0;let tr=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(tr>>>26)|0,tr&=67108863,Oe=Math.imul(Ye,bt),fe=Math.imul(Ye,Rt),fe=fe+Math.imul($e,bt)|0,Be=Math.imul($e,Rt),Oe=Oe+Math.imul(Ce,mt)|0,fe=fe+Math.imul(Ce,Bt)|0,fe=fe+Math.imul(Ke,mt)|0,Be=Be+Math.imul(Ke,Bt)|0,Oe=Oe+Math.imul(Te,it)|0,fe=fe+Math.imul(Te,vt)|0,fe=fe+Math.imul(xe,it)|0,Be=Be+Math.imul(xe,vt)|0,Oe=Oe+Math.imul(Se,wt)|0,fe=fe+Math.imul(Se,Tt)|0,fe=fe+Math.imul(ye,wt)|0,Be=Be+Math.imul(ye,Tt)|0,Oe=Oe+Math.imul(we,St)|0,fe=fe+Math.imul(we,_t)|0,fe=fe+Math.imul(Me,St)|0,Be=Be+Math.imul(Me,_t)|0,Oe=Oe+Math.imul(D,At)|0,fe=fe+Math.imul(D,Nt)|0,fe=fe+Math.imul(F,At)|0,Be=Be+Math.imul(F,Nt)|0,Oe=Oe+Math.imul(pe,dt)|0,fe=fe+Math.imul(pe,Je)|0,fe=fe+Math.imul(Ie,dt)|0,Be=Be+Math.imul(Ie,Je)|0;let jt=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(jt>>>26)|0,jt&=67108863,Oe=Math.imul(Ye,mt),fe=Math.imul(Ye,Bt),fe=fe+Math.imul($e,mt)|0,Be=Math.imul($e,Bt),Oe=Oe+Math.imul(Ce,it)|0,fe=fe+Math.imul(Ce,vt)|0,fe=fe+Math.imul(Ke,it)|0,Be=Be+Math.imul(Ke,vt)|0,Oe=Oe+Math.imul(Te,wt)|0,fe=fe+Math.imul(Te,Tt)|0,fe=fe+Math.imul(xe,wt)|0,Be=Be+Math.imul(xe,Tt)|0,Oe=Oe+Math.imul(Se,St)|0,fe=fe+Math.imul(Se,_t)|0,fe=fe+Math.imul(ye,St)|0,Be=Be+Math.imul(ye,_t)|0,Oe=Oe+Math.imul(we,At)|0,fe=fe+Math.imul(we,Nt)|0,fe=fe+Math.imul(Me,At)|0,Be=Be+Math.imul(Me,Nt)|0,Oe=Oe+Math.imul(D,dt)|0,fe=fe+Math.imul(D,Je)|0,fe=fe+Math.imul(F,dt)|0,Be=Be+Math.imul(F,Je)|0;let rr=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(rr>>>26)|0,rr&=67108863,Oe=Math.imul(Ye,it),fe=Math.imul(Ye,vt),fe=fe+Math.imul($e,it)|0,Be=Math.imul($e,vt),Oe=Oe+Math.imul(Ce,wt)|0,fe=fe+Math.imul(Ce,Tt)|0,fe=fe+Math.imul(Ke,wt)|0,Be=Be+Math.imul(Ke,Tt)|0,Oe=Oe+Math.imul(Te,St)|0,fe=fe+Math.imul(Te,_t)|0,fe=fe+Math.imul(xe,St)|0,Be=Be+Math.imul(xe,_t)|0,Oe=Oe+Math.imul(Se,At)|0,fe=fe+Math.imul(Se,Nt)|0,fe=fe+Math.imul(ye,At)|0,Be=Be+Math.imul(ye,Nt)|0,Oe=Oe+Math.imul(we,dt)|0,fe=fe+Math.imul(we,Je)|0,fe=fe+Math.imul(Me,dt)|0,Be=Be+Math.imul(Me,Je)|0;let nr=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(nr>>>26)|0,nr&=67108863,Oe=Math.imul(Ye,wt),fe=Math.imul(Ye,Tt),fe=fe+Math.imul($e,wt)|0,Be=Math.imul($e,Tt),Oe=Oe+Math.imul(Ce,St)|0,fe=fe+Math.imul(Ce,_t)|0,fe=fe+Math.imul(Ke,St)|0,Be=Be+Math.imul(Ke,_t)|0,Oe=Oe+Math.imul(Te,At)|0,fe=fe+Math.imul(Te,Nt)|0,fe=fe+Math.imul(xe,At)|0,Be=Be+Math.imul(xe,Nt)|0,Oe=Oe+Math.imul(Se,dt)|0,fe=fe+Math.imul(Se,Je)|0,fe=fe+Math.imul(ye,dt)|0,Be=Be+Math.imul(ye,Je)|0;let ir=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(ir>>>26)|0,ir&=67108863,Oe=Math.imul(Ye,St),fe=Math.imul(Ye,_t),fe=fe+Math.imul($e,St)|0,Be=Math.imul($e,_t),Oe=Oe+Math.imul(Ce,At)|0,fe=fe+Math.imul(Ce,Nt)|0,fe=fe+Math.imul(Ke,At)|0,Be=Be+Math.imul(Ke,Nt)|0,Oe=Oe+Math.imul(Te,dt)|0,fe=fe+Math.imul(Te,Je)|0,fe=fe+Math.imul(xe,dt)|0,Be=Be+Math.imul(xe,Je)|0;let sr=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+(sr>>>26)|0,sr&=67108863,Oe=Math.imul(Ye,At),fe=Math.imul(Ye,Nt),fe=fe+Math.imul($e,At)|0,Be=Math.imul($e,Nt),Oe=Oe+Math.imul(Ce,dt)|0,fe=fe+Math.imul(Ce,Je)|0,fe=fe+Math.imul(Ke,dt)|0,Be=Be+Math.imul(Ke,Je)|0;let $t=(at+Oe|0)+((fe&8191)<<13)|0;at=(Be+(fe>>>13)|0)+($t>>>26)|0,$t&=67108863,Oe=Math.imul(Ye,dt),fe=Math.imul(Ye,Je),fe=fe+Math.imul($e,dt)|0,Be=Math.imul($e,Je);let cr=(at+Oe|0)+((fe&8191)<<13)|0;return at=(Be+(fe>>>13)|0)+(cr>>>26)|0,cr&=67108863,ie[0]=Dt,ie[1]=ne,ie[2]=ee,ie[3]=be,ie[4]=We,ie[5]=Et,ie[6]=kt,ie[7]=Pt,ie[8]=Zt,ie[9]=Qt,ie[10]=er,ie[11]=tr,ie[12]=jt,ie[13]=rr,ie[14]=nr,ie[15]=ir,ie[16]=sr,ie[17]=$t,ie[18]=cr,at!==0&&(ie[19]=at,c.length+=1),c}Math.imul||(re=ge),s.Red=R,C.exports=s}],["bcrypto","/lib/internal/custom-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * custom.js - custom inspect symbol for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */f.custom="inspect"}],["bcrypto","/lib/random-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * random.js - random for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(46,C)}],["bcrypto","/lib/js/random.js",function(f,Le,C,Fe,He,Ve){/*!
 * random.js - random number generator for bcrypto
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://wiki.openssl.org/index.php/Random_Numbers
 *   https://csrc.nist.gov/projects/random-bit-generation/
 *   http://www.pcg-random.org/posts/bounded-rands.html
 *   https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues
 */const e=ce(24,C),S=Ht.crypto||Ht.msCrypto,oe=S&&typeof S.getRandomValues=="function",Q=oe?S.getRandomValues.bind(S):null,P=new Uint32Array(16),g=65536;let u=0;function H(K){e(K>>>0===K);const w=_e.alloc(K);return v(w,0,K),w}function a(K,w,m){return e(K!=null&&K._isBuffer===!0),w==null&&(w=0),e(w>>>0===w),m==null&&(m=K.length-w),e(m>>>0===m),e(w+m<=K.length),v(K,w,m),K}function s(){return(u&15)===0&&(p(P),u=0),P[u++]}function n(K,w){e(K>>>0===K),e(w>>>0===w),e(w>=K);const m=w-K;if(m===0)return K;const _=-m>>>0;let E,d;do E=s(),d=E%m;while(E-d>_);return d+K}function p(K){if(!oe)throw new Error("Entropy source not available.");return Q(K)}function v(K,w,m){if(e(K!=null&&K._isBuffer===!0),e(K.buffer instanceof ArrayBuffer),e(K.byteOffset>>>0===K.byteOffset),e(K.byteLength>>>0===K.byteLength),e(w>>>0===w),e(m>>>0===m),e(w+m<=K.byteLength),m>2**31-1)throw new RangeError('The value "size" is out of range.');const _=K.byteOffset+w,E=new Uint8Array(K.buffer,_,m);if(E.length>g)for(let d=0;d<E.length;d+=g){let T=d+g;T>E.length&&(T=E.length),p(E.subarray(d,T))}else E.length>0&&p(E)}f.native=0,f.randomBytes=H,f.randomFill=a,f.randomInt=s,f.randomRange=n}],["bcrypto","/lib/hmac-drbg-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * hmac-drbg.js - hmac-drbg for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(48,C)}],["bcrypto","/lib/js/hmac-drbg.js",function(f,Le,C,Fe,He,Ve){/*!
 * hmac-drbg.js - hmac-drbg implementation for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hmac-drbg:
 *   Copyright Fedor Indutny, 2017.
 *   https://github.com/indutny/hmac-drbg
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc6979
 *   https://csrc.nist.gov/publications/detail/sp/800-90a/archive/2012-01-23
 *   https://github.com/indutny/hmac-drbg/blob/master/lib/hmac-drbg.js
 */const e=ce(24,C),S=281474976710656,oe=_e.from([0]),Q=_e.from([1]);class P{constructor(u,H,a,s){e(u&&typeof u.id=="string"),this.hash=u,this.minEntropy=u.id==="SHA1"?10:24,this.K=_e.alloc(u.size),this.V=_e.alloc(u.size),this.rounds=0,H&&this.init(H,a,s)}init(u,H,a){H==null&&(H=_e.alloc(0)),a==null&&(a=_e.alloc(0)),e(u!=null&&u._isBuffer===!0),e(H!=null&&H._isBuffer===!0),e(a!=null&&a._isBuffer===!0);for(let n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;const s=_e.concat([u,H,a]);if(s.length<this.minEntropy)throw new Error("Not enough entropy.");return this.update(s),this.rounds=1,this}reseed(u,H){if(H==null&&(H=_e.alloc(0)),e(u!=null&&u._isBuffer===!0),e(H!=null&&H._isBuffer===!0),this.rounds===0)throw new Error("DRBG not initialized.");const a=_e.concat([u,H]);if(a.length<this.minEntropy)throw new Error("Not enough entropy.");return this.update(a),this.rounds=1,this}generate(u,H){if(e(u>>>0===u),e(H==null||H!=null&&H._isBuffer===!0),this.rounds===0)throw new Error("DRBG not initialized.");if(this.rounds>S)throw new Error("Reseed is required.");H&&H.length>0&&this.update(H);const a=Math.ceil(u/this.hash.size),s=_e.alloc(a*this.hash.size);for(let n=0;n<a;n++)this.V=this.mac(this.V),this.V.copy(s,n*this.hash.size);return this.update(H),this.rounds+=1,s.slice(0,u)}randomBytes(u){return this.generate(u)}mac(u){return this.hash.mac(u,this.K)}hmac(){return this.hash.hmac().init(this.K)}update(u){e(u==null||u!=null&&u._isBuffer===!0);const H=this.hmac();if(H.update(this.V),H.update(oe),u&&H.update(u),this.K=H.final(),this.V=this.mac(this.V),u&&u.length>0){const a=this.hmac();a.update(this.V),a.update(Q),a.update(u),this.K=a.final(),this.V=this.mac(this.V)}return this}}P.native=0,C.exports=P}],["bcrypto","/lib/internal/primes.js",function(f,Le,C,Fe,He,Ve){/*!
 * primes.js - Prime number generation for javascript
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on golang/go:
 *   Copyright (c) 2009, The Go Authors. All rights reserved.
 *   https://github.com/golang/go
 *
 * Parts of this software are based on indutny/miller-rabin:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/miller-rabin
 *
 * Resources:
 *   https://github.com/golang/go/blob/master/src/crypto/rsa/rsa.go
 *   https://github.com/golang/go/blob/master/src/math/big/prime.go
 *   https://github.com/golang/go/blob/master/src/math/big/int.go
 *   https://github.com/golang/go/blob/master/src/math/big/nat.go
 *   https://github.com/golang/go/blob/master/src/crypto/rand/util.go
 *   https://github.com/indutny/miller-rabin/blob/master/lib/mr.js
 */const e=ce(24,C),S=ce(42,C),oe=ce(45,C),Q=new Uint8Array([3,5,7,11,13,17,19,23,29,31,37,41,43,47,53]),P=new S("16294579238595022365",10),g=0|1<<2|1<<3|1<<5|1<<7|1<<11|1<<13|1<<17|1<<19|1<<23|1<<29|1<<31,u=0|1<<37-32|1<<41-32|1<<43-32|1<<47-32|1<<53-32|1<<59-32|1<<61-32,H=new S(3*5*7*11*13*17*19*23*37),a=new S(29*31*41*43*47*53);function s(v,K=20,w=oe){if(e(v>>>0===v),e(K>>>0===K),e(w!=null),v<2)throw new Error("Prime must be at least 2 bits.");for(;;){const m=S.randomBits(w,v);m.setn(v-1,1),m.setn(v-2,1),m.setn(0,1);const _=m.mod(P);e:for(let E=0;E<1<<20;E+=2){const d=_.addn(E);for(let T=0;T<Q.length;T++){const N=Q[T];if(d.modrn(N)===0&&(v>6||d.cmpn(N)!==0))continue e}m.iaddn(E);break}if(m.bitLength()===v&&!!n(m,K,w))return m}}function n(v,K,w=oe){if(e(v instanceof S),v.sign()<=0)return!1;if(v.cmpn(64)<0){const E=v.word(0);return E>31?(u&1<<E-32)!==0:(g&1<<E)!==0}if(v.isEven())return!1;const m=v.mod(H).toNumber(),_=v.mod(a).toNumber();return m%3===0||m%5===0||m%7===0||m%11===0||m%13===0||m%17===0||m%19===0||m%23===0||m%37===0||_%29===0||_%31===0||_%41===0||_%43===0||_%47===0||_%53===0?!1:v.isPrime(w,K)}function p(v,K,w){if(!n(v,K,w))return!1;const m=v.subn(1).iushrn(1);return!!n(m,K,w)}f.randomPrime=s,f.isProbablePrime=n,f.isSafePrime=p}],["bcrypto","/lib/internal/asn1.js",function(f,Le,C,Fe,He,Ve){/*!
 * asn1.js - asn1 parsing for bcrypto
 * Copyright (c) 2020, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */const e=ce(51,C),S=ce(42,C);function oe(w,m,_){if(e(w!=null&&w._isBuffer===!0),e(m>>>0===m),e(typeof _=="boolean"),m>=w.length)throw new Error("Invalid size.");const E=w[m],d=E&127;if(m+=1,(E&128)===0)return[d,m];if(_&&d===0)throw new Error("Indefinite length.");let T=0;for(let N=0;N<d;N++){e(m<w.length);const R=w[m];if(m+=1,T>=1<<24)throw new Error("Length too large.");if(T*=256,T+=R,_&&T===0)throw new Error("Unexpected leading zeroes.")}if(_&&T<128)throw new Error("Non-minimal length.");return[T,m]}function Q(w,m,_=!0){if(e(w!=null&&w._isBuffer===!0),e(m>>>0===m),e(typeof _=="boolean"),m>=w.length||w[m]!==48)throw new Error("Invalid sequence tag.");m+=1;let E;if([E,m]=oe(w,m,_),_&&m+E!==w.length)throw new Error("Trailing bytes.");return m}function P(w,m,_=!0){if(e(w!=null&&w._isBuffer===!0),e(m>>>0===m),e(typeof _=="boolean"),m>=w.length||w[m]!==2)throw new Error("Invalid integer tag.");m+=1;let E;if([E,m]=oe(w,m,_),m+E>w.length)throw new Error("Integer body out of bounds.");if(_){if(E===0)throw new Error("Zero length integer.");if(w[m]&128)throw new Error("Integers must be positive.");if(E>1&&w[m]===0&&(w[m+1]&128)===0)throw new Error("Unexpected leading zeroes.")}for(;E>0&&w[m]===0;)m+=1,E-=1;if(E>2048)throw new Error("Invalid integer size.");const d=S.decode(w.slice(m,m+E));return m+=E,[d,m]}function g(w,m,_,E=!0){e(w!=null&&w._isBuffer===!0),e(m>>>0===m),e((_&255)===_),e(typeof E=="boolean");let d;if([d,m]=P(w,m,E),d.cmpn(_)!==0)throw new Error("Invalid version.");return m}function u(w){return e(w>>>0===w),w<=127?1:w<=255?2:(e(w<=65535),3)}function H(w){return 1+u(w)+w}function a(w){e(w instanceof S);const m=w.bitLength();let _=m+7>>>3;return m>0&&(m&7)===0&&(_+=w.testn(m-1)),m===0&&(_=1),1+u(_)+_}function s(w){return e((w&255)===w),3}function n(w,m,_){return e(w!=null&&w._isBuffer===!0),e(m>>>0===m),e(_>>>0===_),_<=127?w[m++]=_:_<=255?(w[m++]=129,w[m++]=_):(e(_<=65535),w[m++]=130,w[m++]=_>>8,w[m++]=_&255),e(m<=w.length),m}function p(w,m,_){return e(w!=null&&w._isBuffer===!0),e(m>>>0===m),w[m++]=48,n(w,m,_)}function v(w,m,_){e(w!=null&&w._isBuffer===!0),e(m>>>0===m),e(_ instanceof S);const E=_.bitLength();let d=E+7>>>3,T=0;return E>0&&(E&7)===0&&(T=_.testn(E-1)),E===0&&(d=1),w[m++]=2,m=n(w,m,T+d),T&&(w[m++]=0),E!==0?_.encode().copy(w,m):w[m]=0,m+=d,e(m<=w.length),m}function K(w,m,_){return e(w!=null&&w._isBuffer===!0),e(m>>>0===m),e((_&255)===_),e(m+3<=w.length),w[m++]=2,w[m++]=1,w[m++]=_,m}f.readSize=oe,f.readSeq=Q,f.readInt=P,f.readVersion=g,f.sizeSize=u,f.sizeSeq=H,f.sizeInt=a,f.sizeVersion=s,f.writeSize=n,f.writeSeq=p,f.writeInt=v,f.writeVersion=K}],["bpkg","/lib/builtins/assert.js",function(f,Le,C,Fe,He,Ve){var e=ce(52,C),S=ce(53,C),oe=S.isDeepEqual,Q=S.isDeepStrictEqual,P={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},g={};function u(N){if(typeof N!="object"||N===null)throw new e.ArgError("options",N,"Object");var R=null,O="fail";N.message!=null&&(R=String(N.message)),typeof N.operator=="string"&&(O=N.operator),R==null&&(O==="fail"?R="Assertion failed.":R=P[O]+" "+e.stringify(N.actual)+" "+O+" "+e.stringify(N.expected)),Error.call(this,R);var A=u;typeof N.stackStartFn=="function"&&(A=N.stackStartFn),this.name="AssertionError [ERR_ASSERTION]",this.code="ERR_ASSERTION",this.message=R,this.generatedMessage=!N.message,this.actual=N.actual,this.expected=N.expected,this.operator=O,Error.captureStackTrace&&Error.captureStackTrace(this,A)}e.inherits(u,Error);var H=function N(R,O){p(N,arguments.length,R,O)};H.AssertionError=u,H.ok=H,H.fail=function N(R,O,A,y,U){var q=arguments.length,k;if(q===0?k="Failed":q===1?(A=R,R=je):q===2&&(y="!="),A instanceof Error)throw A;var o={actual:R,expected:O,operator:y===je?"fail":y,stackStartFn:U||N};A!==je&&(o.message=A);var h=new u(o);throw k&&(h.message=k,h.generatedMessage=!0),h},H.equal=function N(R,O,A){R!=O&&n({actual:R,expected:O,message:A,operator:"==",stackStartFn:N})},H.notEqual=function N(R,O,A){R==O&&n({actual:R,expected:O,message:A,operator:"!=",stackStartFn:N})},H.deepEqual=function N(R,O,A){oe(R,O)||n({actual:R,expected:O,message:A,operator:"deepEqual",stackStartFn:N})},H.notDeepEqual=function N(R,O,A){oe(R,O)&&n({actual:R,expected:O,message:A,operator:"notDeepEqual",stackStartFn:N})},H.deepStrictEqual=function N(R,O,A){Q(R,O)||n({actual:R,expected:O,message:A,operator:"deepStrictEqual",stackStartFn:N})},H.notDeepStrictEqual=a;function a(N,R,O){Q(N,R)&&n({actual:N,expected:R,message:O,operator:"notDeepStrictEqual",stackStartFn:a})}H.strictEqual=function N(R,O,A){e.equals(R,O)||n({actual:R,expected:O,message:A,operator:"strictEqual",stackStartFn:N})},H.notStrictEqual=function N(R,O,A){e.equals(R,O)&&n({actual:R,expected:O,message:A,operator:"notStrictEqual",stackStartFn:N})},H.throws=function N(R,O,A){d(N,m(R),O,A)},H.rejects=function N(R,O,A){return new Promise(function(y,U){E(R).then(function(q){try{d(N,q,O,A)}catch(k){U(k);return}y()})})},H.doesNotThrow=function N(R,O,A){T(N,m(R),O,A)},H.doesNotReject=function N(R,O,A){return new Promise(function(y,U){E(R).then(function(q){try{T(N,q,O,A)}catch(k){U(k);return}y()})})},H.ifError=function N(R){if(R!==null&&R!==je){var O="ifError got unwanted exception: ";typeof R=="object"&&typeof R.message=="string"?R.message.length===0&&R.constructor?O+=R.constructor.name:O+=R.message:O+=e.stringify(R);var A=new u({actual:R,expected:null,operator:"ifError",message:O,stackStartFn:N}),y=R.stack;if(typeof y=="string"){var U=y.split(`
`);U.shift();for(var q=A.stack.split(`
`),k=0;k<U.length;k++){var o=q.indexOf(U[k]);if(o!==-1){q=q.slice(0,o);break}}A.stack=q.join(`
`)+`
`+U.join(`
`)}throw A}};function s(N,R){p(s,arguments.length,N,R)}H.strict=e.assign(s,H,{equal:H.strictEqual,deepEqual:H.deepStrictEqual,notEqual:H.notStrictEqual,notDeepEqual:H.notDeepStrictEqual}),H.strict.strict=H.strict;function n(N){throw N.message instanceof Error?N.message:new u(N)}function p(N,R,O,A){if(!O){var y=!1;if(R===0)y=!0,A="No value argument passed to `assert.ok()`";else if(A==null)y=!0,A="Assertion failed.";else if(A instanceof Error)throw A;var U=new u({actual:O,expected:!0,message:A,operator:"==",stackStartFn:N});throw U.generatedMessage=y,U}}function v(N,R,O){for(var A=0;A<R.length;A++){var y=R[A];y in N&&(O!==je&&typeof O[y]=="string"&&N[y]instanceof RegExp&&N[y].test(O[y])?this[y]=O[y]:this[y]=N[y])}}function K(N,R,O,A,y){if(!(O in N)||!Q(N[O],R[O])){if(!A){var U=new v(N,y),q=new v(R,y,N),k=new u({actual:U,expected:q,operator:"deepStrictEqual",stackStartFn:H.throws});throw k.actual=N,k.expected=R,k.operator="throws",k}n({actual:N,expected:R,message:A,operator:"throws",stackStartFn:H.throws})}}function w(N,R,O){if(typeof R!="function"){if(R instanceof RegExp)return R.test(N);if(arguments.length===2)throw new e.ArgError("expected",R,["Function","RegExp"]);if(typeof N!="object"||N===null){var A=new u({actual:N,expected:R,message:O,operator:"deepStrictEqual",stackStartFn:H.throws});throw A.operator="throws",A}var y=e.getOwnKeys(R);if(R instanceof Error)y.push("name","message");else if(y.length===0)throw new e.ArgError("error",R,"may not be an empty object");for(var U=0;U<y.length;U++){var q=y[U];typeof N[q]=="string"&&R[q]instanceof RegExp&&R[q].test(N[q])||K(N,R,q,O,y)}return!0}return R.prototype!==je&&N instanceof R?!0:R.prototype instanceof Error?!1:R.call({},N)===!0}function m(N){if(typeof N!="function")throw new e.ArgError("fn",N,"Function");try{N()}catch(R){return R}return g}function _(N){return N!==null&&typeof N=="object"&&typeof N.then=="function"&&typeof N.catch=="function"}function E(N){return new Promise(function(R,O){try{var A;if(typeof N=="function"){if(A=N(),!_(A))throw new e.ArgError("promiseFn",A,"instance of Promise")}else if(_(N))A=N;else throw new e.ArgError("promiseFn",N,["Function","Promise"]);A.then(function(){R(g)},R)}catch(y){R(y)}})}function d(N,R,O,A){if(typeof O=="string"){if(arguments.length===4)throw new e.ArgError("error",O,["Object","Error","Function","RegExp"]);if(typeof R=="object"&&R!==null){if(R.message===O)throw new e.NodeError("ERR_AMBIGUOUS_ARGUMENT",'The error message "'+R.message+'" is identical to the message.')}else if(R===O)throw new e.NodeError("ERR_AMBIGUOUS_ARGUMENT",'The error "'+R+'" is identical to the message.');A=O,O=je}else if(O!=null&&typeof O!="object"&&typeof O!="function")throw new e.ArgError("error",O,["Object","Error","Function","RegExp"]);if(R===g){var y="";O&&O.name&&(y+=" ("+O.name+")"),y+=A?": "+A:".";var U=N.name==="rejects"?"rejection":"exception";n({actual:je,expected:O,operator:N.name,message:"Missing expected "+U+y,stackStartFn:N})}if(O&&w(R,O,A)===!1)throw R}function T(N,R,O,A){if(R!==g){if(typeof O=="string"&&(A=O,O=je),!O||w(R,O)){var y=A?": "+A:".",U=N.name==="doesNotReject"?"rejection":"exception";n({actual:R,expected:O,operator:N.name,message:"Got unwanted "+U+y+`
Actual message: "`+(R&&R.message)+'"',stackStartFn:N})}throw R}}C.exports=H}],["bpkg","/lib/builtins/internal/util.js",function(f,Le,C,Fe,He,Ve){var e=typeof ArrayBuffer=="function",S=typeof SharedArrayBuffer=="function",oe=typeof BigInt=="function",Q=typeof Symbol=="function",P=typeof Float32Array=="function",g=typeof Float64Array=="function",u=typeof Map=="function",H=typeof Set=="function";function a(se){if(Object.assign)return Object.assign.apply(Object,arguments);for(var ge=1;ge<arguments.length;ge++){var ve=arguments[ge];if(!(ve===null||typeof ve!="object"))for(var Ue=v(ve),re=0;re<Ue.length;re++)se[Ue[re]]=ve[Ue[re]]}return se}function s(se,ge){return Object.is?Object.is(se,ge):se===ge?se!==0||1/se===1/ge:se!==se&&ge!==ge}function n(se,ge){if(se.filter)return se.filter(ge);for(var ve=[],Ue=0;Ue<se.length;Ue++)ge(se[Ue])&&ve.push(se[Ue]);return ve}function p(se){var ge;try{ge=se.name}catch{}return typeof ge!="string"||ge.length===0?"Function":"Function: "+ge}function v(se){if(Object.keys)return Object.keys(se);var ge=[],ve;for(ve in se)E.call(se,ve)&&ge.push(ve);return ge}function K(se,ge){var ve=se.length>>>0===se.length,Ue=ge?v(se):w(se),re=[],Re,r,c;for(Re=0;Re<Ue.length;Re++)r=Ue[Re],!(ve&&/^\d+$/.test(r)&&r>>>0<se.length)&&re.push(r);for(c=m(se),Re=0;Re<c.length;Re++)r=c[Re],(!ge||G(se,r))&&re.push(r);return re}function w(se){return Object.getOwnPropertyNames?Object.getOwnPropertyNames(se):v(se)}function m(se){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(se):[]}function _(se){return Object.getPrototypeOf?Object.getPrototypeOf(se):se==null?je:se.__proto__}function E(se,ge){return Object.prototype.hasOwnProperty.call(se,ge)}function d(se){return!!(e&&se instanceof ArrayBuffer||S&&se instanceof SharedArrayBuffer)}function T(se){return Array.isArray?Array.isArray(se):se instanceof Array}function N(se){return!e||se==null?!1:ArrayBuffer.isView?ArrayBuffer.isView(se):d(se.buffer)}function R(se){return oe&&se instanceof BigInt}function O(se){return se instanceof Boolean}function A(se){return se===null||typeof se!="object"?!1:h(se)||M(se)||O(se)||R(se)||X(se)}function y(se){return se instanceof Date}function U(se){return P&&se instanceof Float32Array}function q(se){return g&&se instanceof Float64Array}function k(se){return u&&se instanceof Map}function o(se){return se!==se}function h(se){return se instanceof Number}function z(se){return se instanceof RegExp}function J(se){return H&&se instanceof Set}function M(se){return se instanceof String}function X(se){return Q&&se instanceof Symbol}function B(se,ge){if(Object.setPrototypeOf){Object.setPrototypeOf(se,ge),Object.setPrototypeOf(se.prototype,ge.prototype);return}{se.__proto__=ge,se.prototype.__proto__=ge.prototype;return}}function G(se,ge){if(!Object.getOwnPropertyDescriptor)return E(se,ge);var ve=Object.getOwnPropertyDescriptor(se,ge);return ve!=null&&ve.enumerable===!0}function $(se){switch(typeof se){case"undefined":case"boolean":case"number":case"symbol":return String(se);case"bigint":return se+"n";case"string":return se.length>20&&(se=se.substring(0,17)+"..."),'"'+se+'"';case"object":return se===null?"null":"["+le(se)+"]";case"function":return"["+p(se)+"]";default:return"["+typeof se+"]"}}function le(se){return Ee(se).slice(8,-1)}function Ee(se){return se===je?"[object Undefined]":se===null?"[object Null]":Object.prototype.toString.call(se)}function Ne(se,ge,ve){var Ue;if(T(ve)&&ve.length===1&&(ve=ve[0]),T(ve)){var re=ve.pop();Ue='The "'+se+'" argument must be one of type '+ve.join(", ")+", or "+re+". Received type "+typeof ge}else Ue='The "'+se+'" argument must be of type '+ve+". Received type "+typeof ge;TypeError.call(this,Ue),this.name="TypeError [ERR_INVALID_ARG_TYPE]",this.code="ERR_INVALID_ARG_TYPE",this.message=Ue,Error.captureStackTrace&&Error.captureStackTrace(this,Ne)}B(Ne,TypeError);function ke(se,ge){Error.call(this,ge),this.name="Error ["+se+"]",this.code=se,this.message=ge,Error.captureStackTrace&&Error.captureStackTrace(this,ke)}B(ke,Error),f.assign=a,f.equals=s,f.filter=n,f.funcName=p,f.getOwnKeys=v,f.getOwnNonIndexProperties=K,f.getOwnPropertyNames=w,f.getOwnPropertySymbols=m,f.getPrototypeOf=_,f.hasOwnProperty=E,f.isAnyArrayBuffer=d,f.isArray=T,f.isArrayBufferView=N,f.isBigIntObject=R,f.isBooleanObject=O,f.isBoxedPrimitive=A,f.isDate=y,f.isFloat32Array=U,f.isFloat64Array=q,f.isMap=k,f.isNaN=o,f.isNumberObject=h,f.isRegExp=z,f.isSet=J,f.isStringObject=M,f.isSymbolObject=X,f.inherits=B,f.propertyIsEnumerable=G,f.stringify=$,f.toName=le,f.toString=Ee,f.ArgError=Ne,f.NodeError=ke}],["bpkg","/lib/builtins/internal/comparisons.js",function(f,Le,C,Fe,He,Ve){var e=ce(52,C),S=!0,oe=!1,Q=0,P=1,g=2,u=3;function H(o,h){return s(o,h,oe)}function a(o,h){return s(o,h,S)}function s(o,h,z,J){if(o===h)return o!==0?!0:z?e.equals(o,h):!0;if(z){if(typeof o!="object")return typeof o=="number"&&e.isNaN(o)&&e.isNaN(h);if(typeof h!="object"||o===null||h===null||e.getPrototypeOf(o)!==e.getPrototypeOf(h))return!1}else{if(o===null||typeof o!="object")return h===null||typeof h!="object"?o==h:!1;if(h===null||typeof h!="object")return!1}var M=e.toString(o),X=e.toString(h),B,G;if(M!==X)return!1;if(e.isArray(o))return o.length!==h.length||(B=e.getOwnNonIndexProperties(o,!0),G=e.getOwnNonIndexProperties(h,!0),B.length!==G.length)?!1:n(o,h,z,J,P,B);if(M==="[object Object]")return n(o,h,z,J,Q);if(e.isDate(o)){if(o.getTime()!==h.getTime())return!1}else if(e.isRegExp(o)){if(!N(o,h))return!1}else if(o instanceof Error){if(o.message!==h.message||o.name!==h.name)return!1}else if(e.isArrayBufferView(o)){if(!z&&(e.isFloat32Array(o)||e.isFloat64Array(o))){if(!R(o,h))return!1}else if(!O(o,h))return!1;return B=e.getOwnNonIndexProperties(o,!0),G=e.getOwnNonIndexProperties(h,!0),B.length!==G.length?!1:n(o,h,z,J,Q,B)}else{if(e.isSet(o))return!e.isSet(h)||o.size!==h.size?!1:n(o,h,z,J,g);if(e.isMap(o))return!e.isMap(h)||o.size!==h.size?!1:n(o,h,z,J,u);if(e.isAnyArrayBuffer(o)){if(!A(o,h))return!1}else if(e.isBoxedPrimitive(o)&&!U(o,h))return!1}return n(o,h,z,J,Q)}function n(o,h,z,J,M,X){if(arguments.length===5){X=e.getOwnKeys(o);var B=e.getOwnKeys(h);if(X.length!==B.length)return!1}for(var G=0;G<X.length;G++)if(!e.hasOwnProperty(h,X[G]))return!1;if(z&&arguments.length===5){var $=e.getOwnPropertySymbols(o),le;if($.length!==0){var Ee=0;for(G=0;G<$.length;G++){var Ne=$[G];if(e.propertyIsEnumerable(o,Ne)){if(!e.propertyIsEnumerable(h,Ne))return!1;X.push(Ne),Ee++}else if(e.propertyIsEnumerable(h,Ne))return!1}if(le=e.getOwnPropertySymbols(h),$.length!==le.length&&p(h,le).length!==Ee)return!1}else if(le=e.getOwnPropertySymbols(h),le.length!==0&&p(h,le).length!==0)return!1}if(X.length===0&&(M===Q||M===P&&o.length===0||o.size===0))return!0;if(J===je)J={val1:q(),val2:q(),position:0};else{var ke=J.val1.get(o);if(ke!==je){var se=J.val2.get(h);if(se!==je)return ke===se}J.position++}J.val1.set(o,J.position),J.val2.set(h,J.position);var ge=d(o,h,z,X,J,M);return J.val1.delete(o),J.val2.delete(h),ge}function p(o,h){return e.filter(h,function(z){return e.propertyIsEnumerable(o,z)})}function v(o,h,z,J){for(var M=o.keys();;){var X=M.next();if(X.done)break;var B=X.value;if(s(h,B,z,J))return o.delete(B),!0}return!1}function K(o,h,z,J){var M=null,X,B,G;for(X=o.keys();B=X.next(),!B.done;)if(G=B.value,typeof G=="object"&&G!==null)M===null&&(M=new Set),M.add(G);else if(!h.has(G)){if(z||!w(o,h,G))return!1;M===null&&(M=new Set),M.add(G)}if(M!==null){for(X=h.keys();B=X.next(),!B.done;)if(G=B.value,typeof G=="object"&&G!==null){if(!v(M,G,z,J))return!1}else if(!z&&!o.has(G)&&!v(M,G,z,J))return!1;return M.size===0}return!0}function w(o,h,z){var J=T(z);return J!=null?J:h.has(J)&&!o.has(J)}function m(o,h,z,J){var M=null,X,B;for(X=o.entries();B=X.next(),!B.done;){var G=B.value[0],$=B.value[1];if(typeof G=="object"&&G!==null)M===null&&(M=new Set),M.add(G);else{var le=h.get(G);if(le===je&&!h.has(G)||!s($,le,z,J)){if(z||!_(o,h,G,$,J))return!1;M===null&&(M=new Set),M.add(G)}}}if(M!==null){for(X=h.entries();B=X.next(),!B.done;){var Ee=B.value[0],Ne=B.value[1];if(typeof Ee=="object"&&Ee!==null){if(!E(M,o,Ee,Ne,z,J))return!1}else if(!z&&(!o.has(Ee)||!s(o.get(Ee),Ne,!1,J))&&!E(M,o,Ee,Ne,!1,J))return!1}return M.size===0}return!0}function _(o,h,z,J,M){var X=T(z);if(X!=null)return X;var B=h.get(X);return B===je&&!h.has(X)||!s(J,B,!1,M)?!1:!o.has(X)&&s(J,B,!1,M)}function E(o,h,z,J,M,X){for(var B=o.keys();;){var G=B.next();if(G.done)break;var $=G.value;if(s(z,$,M,X)&&s(J,h.get($),M,X))return o.delete($),!0}return!1}function d(o,h,z,J,M,X){var B=0,G;if(X===g){if(!K(o,h,z,M))return!1}else if(X===u){if(!m(o,h,z,M))return!1}else if(X===P)for(;B<o.length;B++)if(e.hasOwnProperty(o,B)){if(!e.hasOwnProperty(h,B)||!s(o[B],h[B],z,M))return!1}else{if(e.hasOwnProperty(h,B))return!1;for(var $=e.getOwnKeys(o);B<$.length;B++)if(G=$[B],!e.hasOwnProperty(h,G)||!s(o[G],h[G],z,M))return!1;return $.length===e.getOwnKeys(h).length}for(B=0;B<J.length;B++)if(G=J[B],!s(o[G],h[G],z,M))return!1;return!0}function T(o){switch(typeof o){case"undefined":return null;case"object":return je;case"symbol":return!1;case"string":o=Number(o);case"number":if(e.isNaN(o))return!1}return!0}function N(o,h){return o.source===h.source&&o.flags===h.flags}function R(o,h){if(o.byteLength!==h.byteLength)return!1;for(var z=0;z<o.byteLength;z++)if(o[z]!==h[z])return!1;return!0}function O(o,h){return o.byteLength!==h.byteLength?!1:y(new Uint8Array(o.buffer,o.byteOffset,o.byteLength),new Uint8Array(h.buffer,h.byteOffset,h.byteLength))}function A(o,h){return o.byteLength===h.byteLength&&y(new Uint8Array(o),new Uint8Array(h))}function y(o,h){if(o.length!==h.length)return!1;for(var z=0;z<o.length;z++)if(o[z]!==h[z])return!1;return!0}function U(o,h){return e.isNumberObject(o)?e.isNumberObject(h)&&e.equals(o,h):e.isStringObject(o)?e.isStringObject(h)&&o.valueOf()===h.valueOf():e.isBooleanObject(o)?e.isBooleanObject(h)&&o.valueOf()===h.valueOf():e.isBigIntObject(o)?e.isBigIntObject(h)&&o.valueOf()===h.valueOf():e.isSymbolObject(h)&&o.valueOf()===h.valueOf()}function q(){return typeof Map=="function"?new Map:new k}function k(){this.keys=[],this.values=[]}k.prototype.get=function(o){var h=this.keys.indexOf(o);return h!==-1?this.values[h]:je},k.prototype.set=function(o,h){var z=this.keys.indexOf(o);if(z===-1){this.keys.push(o),this.values.push(h);return}this.values[z]=h},k.prototype.delete=function(o){var h=this.keys.indexOf(o);h!==-1&&(this.keys.splice(h,1),this.values.splice(h,1))},f.isDeepEqual=H,f.isDeepStrictEqual=a}],["bcrypto","/lib/rsa-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * rsa.js - RSA for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(55,C)}],["bcrypto","/lib/js/rsa.js",function(f,Le,C,Fe,He,Ve){/*!
 * rsa.js - RSA for javascript
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on golang/go:
 *   Copyright (c) 2009 The Go Authors. All rights reserved.
 *   https://github.com/golang/go
 *
 * Parts of this software are based on indutny/miller-rabin:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/miller-rabin
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/RSA_(cryptosystem)
 *   https://tools.ietf.org/html/rfc3447
 *   https://tools.ietf.org/html/rfc8017
 *   https://github.com/openssl/openssl/blob/master/crypto/rsa/rsa_ossl.c
 *   https://github.com/openssl/openssl/blob/master/crypto/rsa/rsa_sign.c
 *   https://github.com/openssl/openssl/blob/master/crypto/rsa/rsa_oaep.c
 *   https://github.com/openssl/openssl/blob/master/crypto/rsa/rsa_pss.c
 *   https://github.com/openssl/openssl/blob/master/crypto/rsa/rsa_pk1.c
 *   https://github.com/golang/go/blob/master/src/crypto/rsa/rsa.go
 *   https://github.com/golang/go/blob/master/src/crypto/rsa/pkcs1v15.go
 *   https://github.com/golang/go/blob/master/src/crypto/rsa/pss.go
 *   https://github.com/golang/go/blob/master/src/crypto/subtle/constant_time.go
 *   https://github.com/ARMmbed/mbed-crypto/blob/master/library/rsa.c
 *
 * References:
 *
 *   [RFC8017] PKCS #1: RSA Cryptography Specifications Version 2.2
 *     K. Moriarty, B. Kaliski, J. Jonsson, A. Rusch
 *     https://tools.ietf.org/html/rfc8017
 *
 *   [FIPS186] Federal Information Processing Standards Publication 186-4
 *     National Institute of Standards and Technology
 *     https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.186-4.pdf
 */const e=ce(24,C),S=ce(42,C),oe=ce(45,C),{randomPrime:Q}=ce(49,C),P=ce(56,C),g=ce(50,C),u=ce(23,C),{safeEqual:H,safeEqualByte:a,safeSelect:s,safeLTE:n}=u,p=2048,v=65537,K=512,w=16384,m=3,_=2**33-1,E=33,d=0,T=-1,N=_e.alloc(8,0),R=_e.alloc(0),O={__proto__:null,BLAKE2B160:_e.from("3027300f060b2b060104018d3a0c02010505000414","hex"),BLAKE2B256:_e.from("3033300f060b2b060104018d3a0c02010805000420","hex"),BLAKE2B384:_e.from("3043300f060b2b060104018d3a0c02010c05000430","hex"),BLAKE2B512:_e.from("3053300f060b2b060104018d3a0c02011005000440","hex"),BLAKE2S128:_e.from("3023300f060b2b060104018d3a0c02020405000410","hex"),BLAKE2S160:_e.from("3027300f060b2b060104018d3a0c02020505000414","hex"),BLAKE2S224:_e.from("302f300f060b2b060104018d3a0c0202070500041c","hex"),BLAKE2S256:_e.from("3033300f060b2b060104018d3a0c02020805000420","hex"),GOST94:_e.from("302e300a06062a850302021405000420","hex"),HASH160:_e.from([20]),HASH256:_e.from([32]),KECCAK224:_e.from([28]),KECCAK256:_e.from([32]),KECCAK384:_e.from([48]),KECCAK512:_e.from([64]),MD2:_e.from("3020300c06082a864886f70d020205000410","hex"),MD4:_e.from("3020300c06082a864886f70d020405000410","hex"),MD5:_e.from("3020300c06082a864886f70d020505000410","hex"),MD5SHA1:_e.from([36]),RIPEMD160:_e.from("3022300a060628cf0603003105000414","hex"),SHA1:_e.from("3021300906052b0e03021a05000414","hex"),SHA224:_e.from("302d300d06096086480165030402040500041c","hex"),SHA256:_e.from("3031300d060960864801650304020105000420","hex"),SHA384:_e.from("3041300d060960864801650304020205000430","hex"),SHA512:_e.from("3051300d060960864801650304020305000440","hex"),SHA3_224:_e.from("302d300d06096086480165030402070500041c","hex"),SHA3_256:_e.from("3031300d060960864801650304020805000420","hex"),SHA3_384:_e.from("3041300d060960864801650304020905000430","hex"),SHA3_512:_e.from("3051300d060960864801650304020a05000440","hex"),SHAKE128:_e.from("3021300d060960864801650304020b05000410","hex"),SHAKE256:_e.from("3031300d060960864801650304020c05000420","hex"),WHIRLPOOL:_e.from("304e300a060628cf0603003705000440","hex")};class A{constructor(){this.n=new S(0),this.e=new S(0)}bits(){return this.n.bitLength()}size(){return this.n.byteLength()}isSane(){return this.n.sign()>0&&this.e.sign()>0&&this.n.bitLength()<=w&&this.e.bitLength()<=E}verify(){return!(!this.isSane()||this.n.bitLength()<K||!this.n.isOdd()||this.e.cmpn(m)<0||!this.e.isOdd())}encrypt(x){e(x!=null&&x._isBuffer===!0);const{n:j,e:t}=this,l=S.decode(x);if(l.cmp(j)>=0)throw new Error("Invalid RSA message size.");return l.powm(t,j).encode("be",j.byteLength())}encode(){const x=g.sizeInt(this.n)+g.sizeInt(this.e),j=_e.alloc(g.sizeSeq(x));let t=0;return t=g.writeSeq(j,t,x),t=g.writeInt(j,t,this.n),t=g.writeInt(j,t,this.e),e(t===j.length),j}decode(x){let j=0;if(j=g.readSeq(x,j),[this.n,j]=g.readInt(x,j),[this.e,j]=g.readInt(x,j),j!==x.length)throw new Error("Trailing bytes.");return this}static decode(x){return new A().decode(x)}}class y extends A{constructor(){super(),this.d=new S(0),this.p=new S(0),this.q=new S(0),this.dp=new S(0),this.dq=new S(0),this.qi=new S(0)}isSane(){return this.n.sign()>0&&this.e.sign()>0&&this.d.sign()>0&&this.p.sign()>0&&this.q.sign()>0&&this.dp.sign()>0&&this.dq.sign()>0&&this.qi.sign()>0&&this.n.bitLength()<=w&&this.e.bitLength()<=E&&this.d.bitLength()<=w&&this.p.bitLength()<=w&&this.q.bitLength()<=w&&this.dp.bitLength()<=w&&this.dq.bitLength()<=w&&this.qi.bitLength()<=w}verify(){if(!this.isSane()||this.n.bitLength()<K||!this.n.isOdd()||this.e.cmpn(m)<0||!this.e.isOdd()||this.p.cmpn(3)<0||!this.p.isOdd()||this.q.cmpn(3)<0||!this.q.isOdd())return!1;const x=this.p.subn(1),j=this.q.subn(1),t=x.mul(j);if(this.d.cmpn(2)<0||this.d.cmp(t)>=0||this.dp.sign()===0||this.dp.cmp(x)>=0||this.dq.sign()===0||this.dq.cmp(j)>=0||this.qi.cmpn(2)<0||this.qi.cmp(this.p)>=0||this.p.cmp(this.q)===0||this.p.mul(this.q).cmp(this.n)!==0)return!1;const l=t.div(x.gcd(j));return!(this.e.mul(this.d).imod(l).cmpn(1)!==0||this.d.mod(x).cmp(this.dp)!==0||this.d.mod(j).cmp(this.dq)!==0||this.q.mul(this.qi).imod(this.p).cmpn(1)!==0)}decrypt(x){e(x!=null&&x._isBuffer===!0);const{n:j,e:t,p:l,q:I,dp:Y,dq:Z,qi:W}=this,ue=S.decode(x);if(ue.cmp(j)>=0)throw new Error("Invalid RSA message size.");let pe,Ie;for(;;){const we=S.random(oe,1,j);try{Ie=we.invert(j)}catch{continue}pe=we.powm(t,j);break}ue.imul(pe).imod(j);const te=ue.powm(Y,l,!0),D=ue.powm(Z,I,!0),he=te.sub(D).mul(W).imod(l).mul(I).iadd(D).imod(j);if(he.powm(t,j).cmp(ue)!==0)throw new Error("Invalid RSA private key.");return he.imul(Ie).imod(j),he.encode("be",j.byteLength())}generate(x,j){e(x>>>0===x),e(Number.isSafeInteger(j)&&j>=0),e(x>=64),e(j>=3&&(j&1)!==0);const t=new S(j);for(;;){const l=Q((x>>>1)+(x&1)),I=Q(x>>>1);if(l.cmp(I)===0||(l.cmp(I)<0&&l.swap(I),l.sub(I).bitLength()<=(x>>>1)-99))continue;const Y=l.mul(I);if(Y.bitLength()!==x)continue;const Z=l.subn(1),W=I.subn(1),ue=Z.mul(W);if(t.gcd(ue).cmpn(1)!==0)continue;const pe=ue.div(Z.gcd(W)),Ie=t.invert(pe);if(Ie.bitLength()<=x+1>>>1)continue;const te=Ie.mod(Z),D=Ie.mod(W),F=I.invert(l);return this.n=Y,this.e=t,this.d=Ie,this.p=l,this.q=I,this.dp=te,this.dq=D,this.qi=F,this}}async _generateSubtle(x,j){e(x>>>0===x),e(Number.isSafeInteger(j)&&j>=0),e(x>=64),e(j>=3&&(j&1)!==0);const t=Ht.crypto||Ht.msCrypto;if(!t)throw new Error("Crypto API not available.");const{subtle:l}=t;if(!l||!l.generateKey||!l.exportKey)throw new Error("Subtle API not available.");const I=new S(j),Y={name:"RSASSA-PKCS1-v1_5",modulusLength:x,publicExponent:I.toArrayLike(Uint8Array,"be",8),hash:{name:"SHA-256"}},Z=await l.generateKey(Y,!0,["sign"]),W=await l.exportKey("jwk",Z.privateKey),ue=S.decode(P.decodeURL(W.p)),pe=S.decode(P.decodeURL(W.q));return this.fromPQE(ue,pe,I)}async generateAsync(x,j){try{return await this._generateSubtle(x,j)}catch{return this.generate(x,j)}}fromPQE(x,j,t){if(e(x instanceof S),e(j instanceof S),e(t instanceof S),x.cmp(j)<0&&([x,j]=[j,x]),x.cmp(j)===0)throw new Error("Invalid RSA private key.");if(x.cmpn(3)<0||x.bitLength()>w)throw new Error("Invalid RSA private key.");if(j.cmpn(3)<0||j.bitLength()>w)throw new Error("Invalid RSA private key.");if(t.cmpn(m)<0||t.bitLength()>E)throw new Error("Invalid RSA private key.");if(!x.isOdd()||!j.isOdd()||!t.isOdd())throw new Error("Invalid RSA private key.");const l=x.mul(j);if(e(l.isOdd()),l.bitLength()<K||l.bitLength()>w)throw new Error("Invalid RSA private key.");const I=x.subn(1),Y=j.subn(1),Z=I.lcm(Y),W=t.invert(Z),ue=W.mod(I),pe=W.mod(Y),Ie=j.invert(x);return this.n=l,this.e=t,this.d=W,this.p=x,this.q=j,this.dp=ue,this.dq=pe,this.qi=Ie,this}fromPQD(x,j,t){if(e(x instanceof S),e(j instanceof S),e(t instanceof S),x.cmpn(3)<0||x.bitLength()>w)throw new Error("Invalid RSA private key.");if(j.cmpn(3)<0||j.bitLength()>w)throw new Error("Invalid RSA private key.");if(!x.isOdd()||!j.isOdd())throw new Error("Invalid RSA private key.");const l=x.subn(1),I=j.subn(1),Y=l.mul(I);if(t.cmpn(2)<0||t.cmp(Y)>=0)throw new Error("Invalid RSA private key.");const Z=Y.div(l.gcd(I)),W=t.invert(Z);return this.fromPQE(x,j,W)}fromNED(x,j,t){if(e(x instanceof S),e(j instanceof S),e(t instanceof S),x.sign()<0)throw new Error("Invalid RSA private key.");if(x.bitLength()<K||x.bitLength()>w)throw new Error("Invalid RSA private key.");if(j.cmpn(m)<0||j.bitLength()>E)throw new Error("Invalid RSA private key.");if(t.cmpn(2)<0||t.bitLength()>w)throw new Error("Invalid RSA private key.");if(!x.isOdd()||!j.isOdd())throw new Error("Invalid RSA private key.");const l=j.mul(t).isubn(1),I=x.subn(1),Y=l.zeroBits(),Z=l.ushrn(Y);for(let W=0;W<64;W++){let pe=S.random(oe,2,I).powm(Z,x);if(!(pe.cmpn(1)===0||pe.cmp(I)===0))for(let Ie=1;Ie<Y;Ie++){const te=pe.sqr().imod(x);if(te.cmpn(1)===0){const D=x.gcd(pe.subn(1)),F=x.gcd(pe.addn(1));return this.fromPQE(D,F,j)}if(te.cmp(I)===0)break;pe=te}}throw new Error("Invalid RSA private key.")}toPublic(){const x=new A;return x.n=this.n,x.e=this.e,x}encode(){let x=0;x+=g.sizeVersion(0),x+=g.sizeInt(this.n),x+=g.sizeInt(this.e),x+=g.sizeInt(this.d),x+=g.sizeInt(this.p),x+=g.sizeInt(this.q),x+=g.sizeInt(this.dp),x+=g.sizeInt(this.dq),x+=g.sizeInt(this.qi);const j=_e.alloc(g.sizeSeq(x));let t=0;return t=g.writeSeq(j,t,x),t=g.writeVersion(j,t,0),t=g.writeInt(j,t,this.n),t=g.writeInt(j,t,this.e),t=g.writeInt(j,t,this.d),t=g.writeInt(j,t,this.p),t=g.writeInt(j,t,this.q),t=g.writeInt(j,t,this.dp),t=g.writeInt(j,t,this.dq),t=g.writeInt(j,t,this.qi),e(t===j.length),j}decode(x){let j=0;if(j=g.readSeq(x,j),j=g.readVersion(x,j,0),[this.n,j]=g.readInt(x,j),[this.e,j]=g.readInt(x,j),[this.d,j]=g.readInt(x,j),[this.p,j]=g.readInt(x,j),[this.q,j]=g.readInt(x,j),[this.dp,j]=g.readInt(x,j),[this.dq,j]=g.readInt(x,j),[this.qi,j]=g.readInt(x,j),j!==x.length)throw new Error("Trailing bytes.");return this}static generate(x,j){return new y().generate(x,j)}static async generateAsync(x,j){return new y().generateAsync(x,j)}static fromPQE(x,j,t){return new y().fromPQE(x,j,t)}static fromPQD(x,j,t){return new y().fromPQD(x,j,t)}static fromNED(x,j,t){return new y().fromNED(x,j,t)}static decode(x){return new y().decode(x)}}function U(L,x){if(L==null&&(L=p),x==null&&(x=v),e(L>>>0===L),e(Number.isSafeInteger(x)&&x>=0),L<K||L>w)throw new RangeError(`"bits" ranges from ${K} to ${w}.`);if(x<m||x>_)throw new RangeError(`"exponent" ranges from ${m} to ${_}.`);if(x===1||(x&1)===0)throw new RangeError('"exponent" must be odd.');return y.generate(L,x).encode()}async function q(L,x){if(L==null&&(L=p),x==null&&(x=v),e(L>>>0===L),e(Number.isSafeInteger(x)&&x>=0),L<K||L>w)throw new RangeError(`"bits" ranges from ${K} to ${w}.`);if(x<m||x>_)throw new RangeError(`"exponent" ranges from ${m} to ${_}.`);if(x===1||(x&1)===0)throw new RangeError('"exponent" must be odd.');return(await y.generateAsync(L,x)).encode()}function k(L){const x=y.decode(L);if(!x.verify())throw new Error("Invalid RSA private key.");return x.bits()}function o(L){e(L!=null&&L._isBuffer===!0);let x;try{x=y.decode(L)}catch{return!1}return x.verify()}function h(L){e(L&&typeof L=="object");let x=new y;return L.n!=null&&(x.n=S.decode(L.n)),L.e!=null&&(x.e=S.decode(L.e)),L.d!=null&&(x.d=S.decode(L.d)),L.p!=null&&(x.p=S.decode(L.p)),L.q!=null&&(x.q=S.decode(L.q)),L.dp!=null&&(x.dp=S.decode(L.dp)),L.dq!=null&&(x.dq=S.decode(L.dq)),L.qi!=null&&(x.qi=S.decode(L.qi)),x.verify()||(!x.p.isZero()&&!x.q.isZero()?x.e.isZero()?x=y.fromPQD(x.p,x.q,x.d):x=y.fromPQE(x.p,x.q,x.e):x=y.fromNED(x.n,x.e,x.d)),x.encode()}function z(L){const x=y.decode(L);if(!x.verify())throw new Error("Invalid RSA private key.");return{n:x.n.encode(),e:x.e.encode(),d:x.d.encode(),p:x.p.encode(),q:x.q.encode(),dp:x.dp.encode(),dq:x.dq.encode(),qi:x.qi.encode()}}function J(L){const x=y.decode(L);if(!x.verify())throw new Error("Invalid RSA private key.");return x.toPublic().encode()}function M(L){const x=A.decode(L);if(!x.verify())throw new Error("Invalid RSA public key.");return x.bits()}function X(L){e(L!=null&&L._isBuffer===!0);let x;try{x=A.decode(L)}catch{return!1}return x.verify()}function B(L){e(L&&typeof L=="object");const x=new A;if(L.n!=null&&(x.n=S.decode(L.n)),L.e!=null&&(x.e=S.decode(L.e)),!x.verify())throw new Error("Invalid RSA public key.");return x.encode()}function G(L){const x=A.decode(L);if(!x.verify())throw new Error("Invalid RSA public key.");return{n:x.n.encode(),e:x.e.encode()}}function $(L,x,j){L&&typeof L.id=="string"&&(L=L.id),e(L==null||typeof L=="string"),e(x!=null&&x._isBuffer===!0);const[t,l]=c(L,x);if(!t)throw new Error("Unknown RSA hash function.");if(x.length!==l)throw new Error("Invalid RSA message size.");const I=y.decode(j);if(!I.verify())throw new Error("Invalid RSA private key.");const Y=t.length+l,Z=I.size();if(Z<Y+11)throw new Error("Invalid RSA message size.");const W=_e.alloc(Z);W[0]=0,W[1]=1;for(let ue=2;ue<Z-Y-1;ue++)W[ue]=255;return W[Z-Y-1]=0,t.copy(W,Z-Y),x.copy(W,Z-l),I.decrypt(W)}function le(L,x,j,t){L&&typeof L.id=="string"&&(L=L.id),e(L==null||typeof L=="string"),e(x!=null&&x._isBuffer===!0),e(j!=null&&j._isBuffer===!0),e(t!=null&&t._isBuffer===!0);try{return Ee(L,x,j,t)}catch{return!1}}function Ee(L,x,j,t){const[l,I]=c(L,x);if(!l||x.length!==I)return!1;const Y=A.decode(t);if(!Y.verify())return!1;const Z=Y.size();if(j.length!==Z)return!1;const W=l.length+I;if(Z<W+11)return!1;const ue=Y.encrypt(j);let pe=1;pe&=a(ue[0],0),pe&=a(ue[1],1);for(let Ie=2;Ie<Z-W-1;Ie++)pe&=a(ue[Ie],255);return pe&=a(ue[Z-W-1],0),pe&=H(ue.slice(Z-W,Z-I),l),pe&=H(ue.slice(Z-I,Z),x),pe===1}function Ne(L,x){e(L!=null&&L._isBuffer===!0);const j=A.decode(x);if(!j.verify())throw new Error("Invalid RSA public key.");const t=j.size();if(L.length>t-11)throw new Error("Invalid RSA message size.");const l=_e.alloc(t),I=L.length,Y=t-I-3;l[0]=0,l[1]=2,oe.randomFill(l,2,Y);for(let Z=2;Z<2+Y;Z++)for(;l[Z]===0;)oe.randomFill(l,Z,1);return l[t-I-1]=0,L.copy(l,t-I),j.encrypt(l)}function ke(L,x){e(L!=null&&L._isBuffer===!0);const j=y.decode(x);if(!j.verify())throw new Error("Invalid RSA private key.");const t=j.size();if(t<11)throw new Error("Invalid RSA private key.");if(L.length!==t)throw new Error("Invalid RSA message size.");const l=j.decrypt(L),I=a(l[0],0),Y=a(l[1],2);let Z=0,W=1;for(let te=2;te<l.length;te++){const D=a(l[te],0);Z=s(Z,te,W&D),W=s(W,0,D)}const ue=n(2+8,Z),pe=I&Y&(W^1)&ue,Ie=s(0,Z+1,pe);if(pe===0)throw new Error("Invalid RSA ciphertext.");return l.slice(Ie)}function se(L,x,j,t){if(t==null&&(t=T),e(L&&typeof L.id=="string"),e(x!=null&&x._isBuffer===!0),e((t|0)===t),x.length!==L.size)throw new Error("Invalid RSA message size.");const l=y.decode(j);if(!l.verify())throw new Error("Invalid RSA private key.");const I=l.bits(),Y=I+7>>>3,Z=I+6>>>3;if(t===d?t=Z-2-L.size:t===T&&(t=L.size),t<0||t>Y)throw new Error("Invalid PSS salt length.");const W=oe.randomBytes(t),ue=V(L,x,I-1,W);return l.decrypt(ue)}function ge(L,x,j,t,l){l==null&&(l=T),e(L&&typeof L.id=="string"),e(x!=null&&x._isBuffer===!0),e(j!=null&&j._isBuffer===!0),e(t!=null&&t._isBuffer===!0),e((l|0)===l);try{return ve(L,x,j,t,l)}catch{return!1}}function ve(L,x,j,t,l){if(x.length!==L.size)return!1;const I=A.decode(t);if(!I.verify())return!1;const Y=I.bits(),Z=Y+7>>>3;if(j.length!==Z||(l===d?l=0:l===T&&(l=L.size),l<0||l>Z))return!1;let W=I.encrypt(j);if((Y-1&7)===0){if(W[0]!==0)return!1;W=W.slice(1)}return ie(L,x,W,Y-1,l)}function Ue(L,x,j,t){t==null&&(t=R),e(L&&typeof L.id=="string"),e(x!=null&&x._isBuffer===!0),e(t!=null&&t._isBuffer===!0);const l=A.decode(j);if(!l.verify())throw new Error("Invalid RSA public key.");const I=l.size(),Y=x.length,Z=L.size;if(Y>I-2*Z-2)throw new Error("Invalid RSA message size.");const W=_e.alloc(I),ue=L.digest(t),pe=W.slice(1,1+Z),Ie=W.slice(1+Z),te=Ie.length;return W[0]=0,oe.randomFill(pe,0,pe.length),ue.copy(Ie,0),Ie.fill(0,Z,te-Y-1),Ie[te-Y-1]=1,x.copy(Ie,te-Y),b(L,Ie,pe),b(L,pe,Ie),l.encrypt(W)}function re(L,x,j,t){t==null&&(t=R),e(L&&typeof L.id=="string"),e(x!=null&&x._isBuffer===!0),e(t!=null&&t._isBuffer===!0);const l=y.decode(j);if(!l.verify())throw new Error("Invalid RSA private key.");const I=l.size(),Y=x.length,Z=L.size;if(I<Z*2+2)throw new Error("Invalid RSA private key size.");if(Y!==I)throw new Error("Invalid RSA message size.");const W=l.decrypt(x),ue=L.digest(t),pe=a(W[0],0),Ie=W.slice(1,Z+1),te=W.slice(Z+1);b(L,Ie,te),b(L,te,Ie);const D=te.slice(0,Z),F=H(D,ue),he=te.slice(Z);let we=1,Me=0,de=0;for(let ye=0;ye<he.length;ye++){const me=a(he[ye],0),Te=a(he[ye],1);Me=s(Me,ye,we&Te),we=s(we,0,Te),de=s(de,1,we&(me^1))}if((pe&F&(de^1)&(we^1))===0)throw new Error("Invalid RSA ciphertext.");return he.slice(Me+1)}function Re(L,x,j){e(L!=null&&L._isBuffer===!0),e(x>>>0===x);const t=A.decode(j);if(!t.verify())throw new Error("Invalid RSA public key.");if(L.length!==t.size())throw new Error("Invalid RSA ciphertext.");if(x<t.bits())throw new Error("Cannot make ciphertext smaller.");const l=x+7>>>3,I=S.decode(L);if(I.cmp(t.n)>=0)throw new Error("Invalid RSA ciphertext.");const Y=S.shift(1,x),Z=Y.sub(I).iadd(t.n).isubn(1).div(t.n);e(Z.sign()>0);let W=Y;for(;W.cmp(Y)>=0;){const ue=S.random(oe,0,Z);W=I.add(ue.mul(t.n))}return e(W.mod(t.n).cmp(I)===0),e(W.bitLength()<=x),W.encode("be",l)}function r(L,x,j){e(L!=null&&L._isBuffer===!0),e(x>>>0===x);const t=A.decode(j);if(!t.verify())throw new Error("Invalid RSA public key.");const l=t.size();if(L.length<l)throw new Error("Invalid RSA ciphertext.");const I=S.decode(L);if(x!==0&&I.bitLength()>x)throw new Error("Invalid RSA ciphertext.");return I.imod(t.n).encode("be",l)}function c(L,x){if(e(L==null||typeof L=="string"),e(x!=null&&x._isBuffer===!0),L==null)return[R,x.length];const j=O[L];return j==null?[null,0]:j.length===1?[R,j[0]]:[j,j[j.length-1]]}function b(L,x,j){e(L&&typeof L.id=="string"),e(x!=null&&x._isBuffer===!0),e(j!=null&&j._isBuffer===!0);const t=_e.alloc(4,0);let l=0;for(;l<x.length;){const I=L.multi(j,t);let Y=0;for(;l<x.length&&Y<I.length;)x[l++]^=I[Y++];for(Y=3;Y>=0&&(t[Y]+=1,t[Y]===0);Y--);}}function V(L,x,j,t){e(L&&typeof L.id=="string"),e(x!=null&&x._isBuffer===!0),e(j>>>0===j),e(t!=null&&t._isBuffer===!0);const l=L.size,I=t.length,Y=j+7>>>3;if(x.length!==l)throw new Error("Invalid RSA message size.");if(Y<l+I+2)throw new Error("Message too long.");const Z=_e.alloc(Y),W=Z.slice(0,Y-l-1),ue=Z.slice(Y-l-1,Y-1),pe=L.multi(N,x,t),Ie=255>>>8*Y-j;return W.fill(0,0,Y-I-l-2),W[Y-I-l-2]=1,t.copy(W,Y-I-l-1),pe.copy(ue,0),Z[Y-1]=188,b(L,W,ue),W[0]&=Ie,Z}function ie(L,x,j,t,l){e(L&&typeof L.id=="string"),e(x!=null&&x._isBuffer===!0),e(j!=null&&j._isBuffer===!0),e(t>>>0===t),e(l>>>0===l);const I=L.size,Y=t+7>>>3;if(x.length!==I||Y<I+l+2||j[Y-1]!==188)return!1;const Z=j.slice(0,Y-I-1),W=j.slice(Y-I-1,Y-1),ue=255>>>8*Y-t;if(j[0]&~ue)return!1;if(b(L,Z,W),Z[0]&=ue,l===0){l=-1;for(let te=0;te<Z.length;te++)if(Z[te]!==0){if(Z[te]===1){l=Z.length-(te+1);break}return!1}if(l===-1)return!1}else{const te=Z.length-l-1;for(let D=0;D<te;D++)if(Z[D]!==0)return!1;if(Z[te]!==1)return!1}const pe=Z.slice(Z.length-l);return L.multi(N,x,pe).equals(W)}f.native=0,f.SALT_LENGTH_AUTO=d,f.SALT_LENGTH_HASH=T,f.privateKeyGenerate=U,f.privateKeyGenerateAsync=q,f.privateKeyBits=k,f.privateKeyVerify=o,f.privateKeyImport=h,f.privateKeyExport=z,f.publicKeyCreate=J,f.publicKeyBits=M,f.publicKeyVerify=X,f.publicKeyImport=B,f.publicKeyExport=G,f.sign=$,f.verify=le,f.encrypt=Ne,f.decrypt=ke,f.signPSS=se,f.verifyPSS=ge,f.encryptOAEP=Ue,f.decryptOAEP=re,f.veil=Re,f.unveil=r}],["bcrypto","/lib/encoding/base64-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * base64.js - base64 for bcrypto
 * Copyright (c) 2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(57,C)}],["bcrypto","/lib/js/base64.js",function(f,Le,C,Fe,He,Ve){/*!
 * base64.js - base64 for javascript
 * Copyright (c) 2019-2020, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc4648
 */const e=ce(24,C),S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Q=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],P=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,63,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function g(_,E,d){e(_!=null&&_._isBuffer===!0);let T=_.length,N="",R=0;for(;T>=3;){const O=_[R++],A=_[R++],y=_[R++];N+=E[O>>2],N+=E[(O&3)<<4|A>>4],N+=E[(A&15)<<2|y>>6],N+=E[y&63],T-=3}switch(T){case 1:{const O=_[R++];N+=E[O>>2],N+=E[(O&3)<<4],d&&(N+="==");break}case 2:{const O=_[R++],A=_[R++];N+=E[O>>2],N+=E[(O&3)<<4|A>>4],N+=E[(A&15)<<2],d&&(N+="=");break}}return N}function u(_,E,d){e(typeof _=="string");const T=_e.alloc(d);let N=_.length,R=0,O=0;if(N>0&&_[N-1]==="="&&(N-=1),N>0&&_[N-1]==="="&&(N-=1),(N&3)===1)throw new Error("Invalid base64 string.");for(;N>=4;){const A=_.charCodeAt(R++),y=_.charCodeAt(R++),U=_.charCodeAt(R++),q=_.charCodeAt(R++);if((A|y|U|q)&65408)throw new Error("Invalid base64 string.");const k=E[A],o=E[y],h=E[U],z=E[q];if((k|o|h|z)<0)throw new Error("Invalid base64 string.");T[O++]=k<<2|o>>4,T[O++]=o<<4|h>>2,T[O++]=h<<6|z>>0,N-=4}switch(N){case 1:throw new Error("Invalid base64 string.");case 2:{const A=_.charCodeAt(R++),y=_.charCodeAt(R++);if((A|y)&65408)throw new Error("Invalid base64 string.");const U=E[A],q=E[y];if((U|q)<0)throw new Error("Invalid base64 string.");if(T[O++]=U<<2|q>>4,q&15)throw new Error("Invalid base64 string.");break}case 3:{const A=_.charCodeAt(R++),y=_.charCodeAt(R++),U=_.charCodeAt(R++);if((A|y|U)&65408)throw new Error("Invalid base64 string.");const q=E[A],k=E[y],o=E[U];if((q|k|o)<0)throw new Error("Invalid base64 string.");if(T[O++]=q<<2|k>>4,T[O++]=k<<4|o>>2,o&3)throw new Error("Invalid base64 string.");break}}return e(O===d),T}function H(_,E){e(typeof _=="string");let d=_.length;if(d>0&&_[d-1]==="="&&(d-=1),d>0&&_[d-1]==="="&&(d-=1),(d&3)===1)return!1;for(let T=0;T<d;T++){const N=_.charCodeAt(T);if(N&65408||E[N]===-1)return!1}switch(d&3){case 1:return!1;case 2:return(E[_.charCodeAt(d-1)]&15)===0;case 3:return(E[_.charCodeAt(d-1)]&3)===0}return!0}function a(_){return g(_,S,!0)}function s(_){const E=w(_);if(!m(_,E))throw new Error("Invalid base64 padding.");return u(_,Q,E)}function n(_){const E=w(_);return m(_,E)?H(_,Q):!1}function p(_){return g(_,oe,!1)}function v(_){const E=w(_);if(!m(_,0))throw new Error("Invalid base64 padding.");return u(_,P,E)}function K(_){return m(_,0)?H(_,P):!1}function w(_){e(typeof _=="string");let E=_.length;E>0&&_[E-1]==="="&&(E-=1),E>0&&_[E-1]==="="&&(E-=1);let d=(E>>>2)*3;const T=E&3;return T&&(d+=T-1),d}function m(_,E){switch(e(typeof _=="string"),E%3){case 0:return _.length===0?!0:_.length===1?_[0]!=="=":_[_.length-2]!=="="&&_[_.length-1]!=="=";case 1:return _.length>=4&&_[_.length-2]==="="&&_[_.length-1]==="=";case 2:return _.length>=4&&_[_.length-2]!=="="&&_[_.length-1]==="=";default:throw new Error("unreachable")}}f.native=0,f.encode=a,f.decode=s,f.test=n,f.encodeURL=p,f.decodeURL=v,f.testURL=K}],["bcrypto","/lib/p256-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * p256.js - p256 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(59,C)}],["bcrypto","/lib/js/p256.js",function(f,Le,C,Fe,He,Ve){/*!
 * p256.js - ECDSA-P256 for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */const e=ce(60,C),S=ce(33,C);C.exports=new e("P256",S,S)}],["bcrypto","/lib/js/ecdsa.js",function(f,Le,C,Fe,He,Ve){/*!
 * ecdsa.js - ECDSA for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/elliptic:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/elliptic
 *
 * References:
 *
 *   [SEC1] SEC 1: Elliptic Curve Cryptography, Version 2.0
 *     Certicom Research
 *     http://www.secg.org/sec1-v2.pdf
 *
 *   [FIPS186] Suite B Implementer's Guide to FIPS 186-3 (ECDSA)
 *     https://tinyurl.com/fips186-guide
 *
 *   [GECC] Guide to Elliptic Curve Cryptography
 *     D. Hankerson, A. Menezes, and S. Vanstone
 *     https://tinyurl.com/guide-to-ecc
 *
 *   [RFC6979] Deterministic Usage of the Digital Signature
 *             Algorithm (DSA) and Elliptic Curve Digital
 *             Signature Algorithm (ECDSA)
 *     T. Pornin
 *     https://tools.ietf.org/html/rfc6979
 */const e=ce(24,C),S=ce(42,C),oe=ce(45,C),Q=ce(50,C),P=ce(61,C),g=ce(47,C),u=ce(65,C);class H{constructor(s,n,p,v){e(typeof s=="string"),e(n),e(p),this.id=s,this.type="ecdsa",this.hash=n,this.xof=p,this.native=0,this._pre=v||null,this._curve=null,this._schnorr=null}get curve(){return this._curve||(this._curve=u.curve(this.id,this._pre),this._curve.precompute(oe),this._pre=null),this._curve}get schnorr(){return this._schnorr||(this._schnorr=new P(this.curve,this.xof)),this._schnorr}get size(){return this.curve.fieldSize}get bits(){return this.curve.fieldBits}privateKeyGenerate(){const s=this.curve.randomScalar(oe);return this.curve.encodeScalar(s)}privateKeyVerify(s){e(s!=null&&s._isBuffer===!0);let n;try{n=this.curve.decodeScalar(s)}catch{return!1}return!n.isZero()&&n.cmp(this.curve.n)<0}privateKeyExport(s){const n=this.publicKeyCreate(s,!1),{x:p,y:v}=this.publicKeyExport(n);return{d:_e.from(s),x:p,y:v}}privateKeyImport(s){e(s&&typeof s=="object");const n=S.decode(s.d,this.curve.endian);if(n.isZero()||n.cmp(this.curve.n)>=0)throw new Error("Invalid private key.");return this.curve.encodeScalar(n)}privateKeyTweakAdd(s,n){const p=this.curve.decodeScalar(n);if(p.cmp(this.curve.n)>=0)throw new Error("Invalid scalar.");const v=this.curve.decodeScalar(s);if(v.isZero()||v.cmp(this.curve.n)>=0)throw new Error("Invalid private key.");const K=v.add(p).imod(this.curve.n);if(K.isZero())throw new Error("Invalid private key.");return this.curve.encodeScalar(K)}privateKeyTweakMul(s,n){const p=this.curve.decodeScalar(n);if(p.isZero()||p.cmp(this.curve.n)>=0)throw new Error("Invalid scalar.");const v=this.curve.decodeScalar(s);if(v.isZero()||v.cmp(this.curve.n)>=0)throw new Error("Invalid private key.");const K=v.mul(p).imod(this.curve.n);if(K.isZero())throw new Error("Invalid private key.");return this.curve.encodeScalar(K)}privateKeyNegate(s){const n=this.curve.decodeScalar(s);if(n.isZero()||n.cmp(this.curve.n)>=0)throw new Error("Invalid private key.");const p=n.neg().imod(this.curve.n);return this.curve.encodeScalar(p)}privateKeyInvert(s){const n=this.curve.decodeScalar(s);if(n.isZero()||n.cmp(this.curve.n)>=0)throw new Error("Invalid private key.");const p=n.invert(this.curve.n);return this.curve.encodeScalar(p)}publicKeyCreate(s,n){const p=this.curve.decodeScalar(s);if(p.isZero()||p.cmp(this.curve.n)>=0)throw new Error("Invalid private key.");return this.curve.g.mulBlind(p).encode(n)}publicKeyConvert(s,n){return this.curve.decodePoint(s).encode(n)}publicKeyFromUniform(s,n){const p=this.curve.decodeUniform(s);return this.curve.pointFromUniform(p).encode(n)}publicKeyToUniform(s,n=oe.randomInt()){const p=this.curve.decodePoint(s),v=this.curve.pointToUniform(p,n);return this.curve.encodeUniform(v,n>>>8)}publicKeyFromHash(s,n){return this.curve.pointFromHash(s).encode(n)}publicKeyToHash(s){const n=this.curve.decodePoint(s);return this.curve.pointToHash(n,0,oe)}publicKeyVerify(s){e(s!=null&&s._isBuffer===!0);try{this.curve.decodePoint(s)}catch{return!1}return!0}publicKeyExport(s){const{x:n,y:p}=this.curve.decodePoint(s);return{x:this.curve.encodeField(n.fromRed()),y:this.curve.encodeField(p.fromRed())}}publicKeyImport(s,n){e(s&&typeof s=="object");const p=S.decode(s.x,this.curve.endian);if(p.cmp(this.curve.p)>=0)throw new Error("Invalid point.");if(s.y!=null){const K=S.decode(s.y,this.curve.endian);if(K.cmp(this.curve.p)>=0)throw new Error("Invalid point.");const w=this.curve.point(p,K);if(!w.validate())throw new Error("Invalid point.");return w.encode(n)}return this.curve.pointFromX(p,s.sign).encode(n)}publicKeyTweakAdd(s,n,p){const v=this.curve.decodeScalar(n);if(v.cmp(this.curve.n)>=0)throw new Error("Invalid scalar.");const K=this.curve.decodePoint(s);return this.curve.g.jmul(v).add(K).encode(p)}publicKeyTweakMul(s,n,p){const v=this.curve.decodeScalar(n);if(v.isZero()||v.cmp(this.curve.n)>=0)throw new Error("Invalid scalar.");return this.curve.decodePoint(s).mul(v).encode(p)}publicKeyCombine(s,n){e(Array.isArray(s));let p=this.curve.jpoint();for(const v of s){const K=this.curve.decodePoint(v);p=p.add(K)}return p.encode(n)}publicKeyNegate(s,n){return this.curve.decodePoint(s).neg().encode(n)}signatureNormalize(s){const[n,p]=this._decodeCompact(s);return p.cmp(this.curve.nh)>0&&p.ineg().imod(this.curve.n),this._encodeCompact(n,p)}signatureNormalizeDER(s){const[n,p]=this._decodeDER(s,!1);return p.cmp(this.curve.nh)>0&&p.ineg().imod(this.curve.n),this._encodeDER(n,p)}signatureExport(s){const[n,p]=this._decodeCompact(s);return this._encodeDER(n,p)}signatureImport(s){const[n,p]=this._decodeDER(s,!1);return this._encodeCompact(n,p)}isLowS(s){e(s!=null&&s._isBuffer===!0);let n;try{[,n]=this._decodeCompact(s)}catch{return!1}return n.cmp(this.curve.nh)<=0}isLowDER(s){e(s!=null&&s._isBuffer===!0);let n;try{[,n]=this._decodeDER(s,!1)}catch{return!1}return n.cmp(this.curve.nh)<=0}sign(s,n){const[p,v]=this._sign(s,n);return this._encodeCompact(p,v)}signRecoverable(s,n){const[p,v,K]=this._sign(s,n);return[this._encodeCompact(p,v),K]}signDER(s,n){const[p,v]=this._sign(s,n);return this._encodeDER(p,v)}signRecoverableDER(s,n){const[p,v,K]=this._sign(s,n);return[this._encodeDER(p,v),K]}_sign(s,n){const{n:p,nh:v}=this.curve,K=this.curve.g,w=this.curve.decodeScalar(n);if(w.isZero()||w.cmp(p)>=0)throw new Error("Invalid private key.");const m=this._reduce(s),_=this.curve.encodeScalar(m),E=new g(this.hash,n,_);for(;;){const d=E.generate(this.curve.scalarSize),T=this._truncate(d);if(T.isZero()||T.cmp(p)>=0)continue;const N=K.mulBlind(T);if(N.isInfinity())continue;const R=N.getX(),O=R.mod(p);if(O.isZero())continue;const A=this.curve.randomScalar(oe),y=T.mul(A).fermat(p),U=w.mul(A).imod(p),q=m.mul(A).imod(p),o=O.mul(U).iadd(q).imod(p).mul(y).imod(p);if(o.isZero())continue;let h=N.isOdd()|!R.eq(O)<<1;return o.cmp(v)>0&&(o.ineg().imod(p),h^=1),[O,o,h]}}verify(s,n,p){e(s!=null&&s._isBuffer===!0),e(n!=null&&n._isBuffer===!0),e(p!=null&&p._isBuffer===!0);let v,K;try{[v,K]=this._decodeCompact(n)}catch{return!1}try{return this._verify(s,v,K,p)}catch{return!1}}verifyDER(s,n,p){e(s!=null&&s._isBuffer===!0),e(n!=null&&n._isBuffer===!0),e(p!=null&&p._isBuffer===!0);let v,K;try{[v,K]=this._decodeDER(n,!1)}catch{return!1}try{return this._verify(s,v,K,p)}catch{return!1}}_verify(s,n,p,v){const{n:K}=this.curve,w=this.curve.g,m=this._reduce(s),_=this.curve.decodePoint(v);if(n.isZero()||n.cmp(K)>=0||p.isZero()||p.cmp(K)>=0)return!1;const E=p.invert(K),d=m.mul(E).imod(K),T=n.mul(E).imod(K);return w.jmulAdd(d,_,T).eqR(n)}recover(s,n,p,v){e(s!=null&&s._isBuffer===!0),e(n!=null&&n._isBuffer===!0),e(p>>>0===p),e((p&3)===p,"The recovery param is more than two bits.");let K,w;try{[K,w]=this._decodeCompact(n)}catch{return null}let m;try{m=this._recover(s,K,w,p)}catch{return null}return m.encode(v)}recoverDER(s,n,p,v){e(s!=null&&s._isBuffer===!0),e(n!=null&&n._isBuffer===!0),e(p>>>0===p),e((p&3)===p,"The recovery param is more than two bits.");let K,w;try{[K,w]=this._decodeDER(n,!1)}catch{return null}let m;try{m=this._recover(s,K,w,p)}catch{return null}return m.encode(v)}_recover(s,n,p,v){const{n:K,pmodn:w}=this.curve,m=this.curve.g,_=this._reduce(s);if(n.isZero()||n.cmp(K)>=0)throw new Error("Invalid R value.");if(p.isZero()||p.cmp(K)>=0)throw new Error("Invalid S value.");const E=(v&1)!==0,d=v>>>1;let T=n;if(d){if(this.curve.highOrder)throw new Error("Invalid high bit.");if(T.cmp(w)>=0)throw new Error("Invalid R value.");T=T.add(K)}const N=this.curve.pointFromX(T,E),R=n.invert(K),O=_.mul(R).ineg().imod(K),A=p.mul(R).imod(K),y=m.mulAdd(O,N,A);if(y.isInfinity())throw new Error("Invalid point.");return y}derive(s,n,p){const v=this.curve.decodePoint(s),K=this.curve.decodeScalar(n);if(K.isZero()||K.cmp(this.curve.n)>=0)throw new Error("Invalid private key.");if(this.curve.h.cmpn(1)>0&&v.isSmall())throw new Error("Invalid point.");return v.mulBlind(K,oe).encode(p)}schnorrSign(s,n){return this.schnorr.sign(s,n)}schnorrVerify(s,n,p){return this.schnorr.verify(s,n,p)}schnorrVerifyBatch(s){return this.schnorr.verifyBatch(s)}_encodeCompact(s,n){return _e.concat([this.curve.encodeScalar(s),this.curve.encodeScalar(n)])}_decodeCompact(s){e(s!=null&&s._isBuffer===!0);const{n}=this.curve,p=this.curve.scalarSize;if(s.length!==p*2)throw new Error("Invalid signature size.");const v=s.slice(0,p),K=s.slice(p,p*2),w=this.curve.decodeScalar(v),m=this.curve.decodeScalar(K);if(w.cmp(n)>=0||m.cmp(n)>=0)throw new Error("Invalid signature.");return[w,m]}_encodeDER(s,n){const p=Q.sizeInt(s)+Q.sizeInt(n),v=_e.alloc(Q.sizeSeq(p));let K=0;return K=Q.writeSeq(v,K,p),K=Q.writeInt(v,K,s),K=Q.writeInt(v,K,n),e(K===v.length),v}_decodeDER(s,n){e(s!=null&&s._isBuffer===!0),e(typeof n=="boolean");const{n:p}=this.curve;let v=0,K,w;if(v=Q.readSeq(s,v,n),[K,v]=Q.readInt(s,v,n),[w,v]=Q.readInt(s,v,n),n&&v!==s.length)throw new Error("Trailing bytes.");if(K.cmp(p)>=0||w.cmp(p)>=0)throw new Error("Invalid signature.");return[K,w]}_truncate(s){e(s!=null&&s._isBuffer===!0);const n=this.curve.n.bitLength(),p=n+7>>>3;s.length>p&&(s=s.slice(0,p));const v=S.decode(s,this.curve.endian),K=s.length*8-n;return K>0&&v.iushrn(K),v}_reduce(s){return this._truncate(s).imod(this.curve.n)}}C.exports=H}],["bcrypto","/lib/js/schnorr-legacy.js",function(f,Le,C,Fe,He,Ve){/*!
 * schnorr-legacy.js - bip-schnorr for bcrypto
 * Copyright (c) 2019-2020, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on sipa/bip-schnorr:
 *   Copyright (c) 2018-2019, Pieter Wuille (2-clause BSD License).
 *   https://github.com/sipa/bips/blob/d194620/bip-schnorr/reference.py
 *
 * Parts of this software are based on ElementsProject/secp256k1-zkp:
 *   Copyright (c) 2013, Pieter Wuille.
 *   https://github.com/ElementsProject/secp256k1-zkp
 *
 * Resources:
 *   https://github.com/sipa/bips/blob/d194620/bip-schnorr.mediawiki
 *   https://github.com/sipa/bips/blob/d194620/bip-schnorr/reference.py
 *   https://github.com/sipa/bips/blob/d194620/bip-schnorr/test-vectors.csv
 *   https://github.com/ElementsProject/secp256k1-zkp/tree/11af701/src/modules/schnorrsig
 *   https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/2019-05-15-schnorr.md
 *
 * References:
 *
 *   [SCHNORR] Schnorr Signatures for secp256k1
 *     Pieter Wuille
 *     https://github.com/sipa/bips/blob/d194620/bip-schnorr.mediawiki
 *
 *   [CASH] Schnorr Signature specification
 *     Mark B. Lundeberg
 *     https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/2019-05-15-schnorr.md
 */const e=ce(24,C),S=ce(62,C),oe=ce(42,C);class Q{constructor(g,u){this.curve=g,this.hash=u,this.rng=new S(this.curve,this.encode.bind(this))}check(){if(this.curve.p.andln(3)!==3)throw new Error(`Schnorr is not supported for ${this.curve.id}.`)}encode(g){e(g!=null&&g._isBuffer===!0);const{fieldSize:u}=this.curve;if(g.length===1+u)return g;if(g.length!==1+u*2)throw new Error("Invalid point.");const H=_e.alloc(1+u);return H[0]=2|g[g.length-1]&1,g.copy(H,1,1,1+u),H}hashInt(...g){const u=new this.hash;u.init();for(const s of g)u.update(s);let H=u.final(this.curve.scalarSize);H.length>this.curve.scalarSize&&(H=H.slice(0,this.curve.scalarSize));const a=oe.decode(H,this.curve.endian);return a.iumaskn(this.curve.scalarBits),a.imod(this.curve.n)}hashNonce(g,u){return this.hashInt(g,u)}hashChallenge(g,u,H){return this.hashInt(g,this.encode(u),H)}sign(g,u){return e(g!=null&&g._isBuffer===!0),this.check(),this._sign(g,u)}_sign(g,u){const{n:H}=this.curve,a=this.curve.g,s=this.curve.decodeScalar(u);if(s.isZero()||s.cmp(H)>=0)throw new Error("Invalid private key.");const n=a.mulBlind(s),p=this.hashNonce(u,g);if(p.isZero())throw new Error("Signing failed (k' = 0).");const v=a.mulBlind(p);v.isSquare()||p.ineg().imod(H);const K=v.encodeX(),w=n.encode(),m=this.hashChallenge(K,w,g),_=p.add(m.mul(s)).imod(H);return _e.concat([K,this.curve.encodeScalar(_)])}verify(g,u,H){if(e(g!=null&&g._isBuffer===!0),e(u!=null&&u._isBuffer===!0),e(H!=null&&H._isBuffer===!0),this.check(),u.length!==this.curve.fieldSize+this.curve.scalarSize)return!1;try{return this._verify(g,u,H)}catch{return!1}}_verify(g,u,H){const{p:a,n:s}=this.curve,n=this.curve.g,p=u.slice(0,this.curve.fieldSize),v=u.slice(this.curve.fieldSize),K=this.curve.decodeField(p),w=this.curve.decodeScalar(v),m=this.curve.decodePoint(H);if(K.cmp(a)>=0||w.cmp(s)>=0)return!1;const _=this.hashChallenge(p,H,g),E=n.jmulAdd(w,m,_.ineg().imod(s));return!(!E.isSquare()||!E.eqX(K))}verifyBatch(g){e(Array.isArray(g)),this.check();for(const u of g){e(Array.isArray(u)&&u.length===3);const[H,a,s]=u;if(e(H!=null&&H._isBuffer===!0),e(a!=null&&a._isBuffer===!0),e(s!=null&&s._isBuffer===!0),a.length!==this.curve.fieldSize+this.curve.scalarSize)return!1}try{return this._verifyBatch(g)}catch{return!1}}_verifyBatch(g){const{n:u}=this.curve,H=this.curve.g,a=new Array(1+g.length*2),s=new Array(1+g.length*2),n=new oe(0);this.rng.init(g),a[0]=H,s[0]=n;for(let p=0;p<g.length;p++){const[v,K,w]=g[p],m=K.slice(0,this.curve.fieldSize),_=K.slice(this.curve.fieldSize),E=this.curve.decodeSquare(m),d=this.curve.decodeScalar(_),T=this.curve.decodePoint(w);if(d.cmp(u)>=0)return!1;const N=this.hashChallenge(m,w,v),R=this.rng.generate(p),O=N.mul(R).imod(u);n.iadd(d.mul(R)).imod(u),a[1+p*2+0]=E,s[1+p*2+0]=R,a[1+p*2+1]=T,s[1+p*2+1]=O}return n.ineg().imod(u),this.curve.jmulAll(a,s).isInfinity()}}C.exports=Q}],["bcrypto","/lib/js/batch-rng.js",function(f,Le,C,Fe,He,Ve){/*!
 * batch-rng.js - batch rng for bcrypto
 * Copyright (c) 2019-2020, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on ElementsProject/secp256k1-zkp:
 *   Copyright (c) 2013, Pieter Wuille.
 *   https://github.com/ElementsProject/secp256k1-zkp
 *
 * Resources:
 *   https://github.com/ElementsProject/secp256k1-zkp/blob/11af701/src/modules/schnorrsig/main_impl.h#L166
 *   https://github.com/ElementsProject/secp256k1-zkp/blob/11af701/src/scalar_4x64_impl.h#L972
 *   https://github.com/ElementsProject/secp256k1-zkp/blob/11af701/src/scalar_8x32_impl.h#L747
 */const e=ce(24,C),S=ce(42,C),oe=ce(63,C),Q=ce(33,C);class P{constructor(u,H=a=>a){this.curve=u,this.encode=H,this.hash=new Q,this.chacha=new oe,this.key=_e.alloc(32,0),this.iv=_e.alloc(8,0),this.cache=[new S(1),new S(1)]}init(u){e(Array.isArray(u)),this.hash.init();for(const[H,a,s]of u)this.hash.update(Q.digest(H)),this.hash.update(a),this.hash.update(this.encode(s));return this.key=this.hash.final(),this.cache[0]=new S(1),this.cache[1]=new S(1),this}encrypt(u){const H=this.curve.scalarSize*2,a=_e.alloc(H,0),s=a.slice(0,this.curve.scalarSize),n=a.slice(this.curve.scalarSize);return this.chacha.init(this.key,this.iv,u),this.chacha.encrypt(a),[this.curve.decodeScalar(s),this.curve.decodeScalar(n)]}refresh(u){let H=0;for(;;){this.iv[4]=H,this.iv[5]=H>>>8,this.iv[6]=H>>>16,this.iv[7]=H>>>24,H+=1;const[a,s]=this.encrypt(u);if(!(a.isZero()||a.cmp(this.curve.n)>=0)&&!(s.isZero()||s.cmp(this.curve.n)>=0)){this.cache[0]=a,this.cache[1]=s;break}}}generate(u){return e(u>>>0===u),u&1&&this.refresh(u>>>1),this.cache[u&1]}}C.exports=P}],["bcrypto","/lib/chacha20-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * chacha20.js - chacha20 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(64,C)}],["bcrypto","/lib/js/chacha20.js",function(f,Le,C,Fe,He,Ve){/*!
 * chacha20.js - chacha20 for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources
 *   https://en.wikipedia.org/wiki/Chacha20
 *   https://tools.ietf.org/html/rfc7539#section-2
 *   https://cr.yp.to/chacha.html
 */const e=ce(24,C),S=new Int8Array(new Int16Array([1]).buffer)[0]===0;class oe{constructor(){this.state=new Uint32Array(16),this.stream=new Uint32Array(16),this.bytes=new Uint8Array(this.stream.buffer),this.pos=-1,S&&(this.bytes=_e.alloc(64))}init(a,s,n){if(n==null&&(n=0),e(a!=null&&a._isBuffer===!0),e(s!=null&&s._isBuffer===!0),e(Number.isSafeInteger(n)),a.length!==16&&a.length!==32)throw new RangeError("Invalid key size.");if(s.length>=24&&(a=oe.derive(a,s.slice(0,16)),s=s.slice(16)),this.state[0]=1634760805,this.state[1]=a.length<32?824206446:857760878,this.state[2]=a.length<32?2036477238:2036477234,this.state[3]=1797285236,this.state[4]=g(a,0),this.state[5]=g(a,4),this.state[6]=g(a,8),this.state[7]=g(a,12),this.state[8]=g(a,16%a.length),this.state[9]=g(a,20%a.length),this.state[10]=g(a,24%a.length),this.state[11]=g(a,28%a.length),this.state[12]=n>>>0,s.length===8)this.state[13]=n/4294967296>>>0,this.state[14]=g(s,0),this.state[15]=g(s,4);else if(s.length===12)this.state[13]=g(s,0),this.state[14]=g(s,4),this.state[15]=g(s,8);else if(s.length===16)this.state[12]=g(s,0),this.state[13]=g(s,4),this.state[14]=g(s,8),this.state[15]=g(s,12);else throw new RangeError("Invalid nonce size.");return this.pos=0,this}encrypt(a){if(e(a!=null&&a._isBuffer===!0),this.pos===-1)throw new Error("Context is not initialized.");for(let s=0;s<a.length;s++)(this.pos&63)===0&&(this._block(),this.pos=0),a[s]^=this.bytes[this.pos++];return a}_block(){for(let a=0;a<16;a++)this.stream[a]=this.state[a];for(let a=0;a<10;a++)Q(this.stream,0,4,8,12),Q(this.stream,1,5,9,13),Q(this.stream,2,6,10,14),Q(this.stream,3,7,11,15),Q(this.stream,0,5,10,15),Q(this.stream,1,6,11,12),Q(this.stream,2,7,8,13),Q(this.stream,3,4,9,14);for(let a=0;a<16;a++)this.stream[a]+=this.state[a];if(S)for(let a=0;a<16;a++)u(this.bytes,this.stream[a],a*4);this.state[12]+=1,this.state[12]===0&&(this.state[13]+=1)}destroy(){for(let a=0;a<16;a++)this.state[a]=0,this.stream[a]=0;if(S)for(let a=0;a<64;a++)this.bytes[a]=0;return this.pos=-1,this}static derive(a,s){if(e(a!=null&&a._isBuffer===!0),e(s!=null&&s._isBuffer===!0),a.length!==16&&a.length!==32)throw new RangeError("Invalid key size.");if(s.length!==16)throw new RangeError("Invalid nonce size.");const n=new Uint32Array(16);n[0]=1634760805,n[1]=a.length<32?824206446:857760878,n[2]=a.length<32?2036477238:2036477234,n[3]=1797285236,n[4]=g(a,0),n[5]=g(a,4),n[6]=g(a,8),n[7]=g(a,12),n[8]=g(a,16%a.length),n[9]=g(a,20%a.length),n[10]=g(a,24%a.length),n[11]=g(a,28%a.length),n[12]=g(s,0),n[13]=g(s,4),n[14]=g(s,8),n[15]=g(s,12);for(let v=0;v<10;v++)Q(n,0,4,8,12),Q(n,1,5,9,13),Q(n,2,6,10,14),Q(n,3,7,11,15),Q(n,0,5,10,15),Q(n,1,6,11,12),Q(n,2,7,8,13),Q(n,3,4,9,14);const p=_e.alloc(32);return u(p,n[0],0),u(p,n[1],4),u(p,n[2],8),u(p,n[3],12),u(p,n[12],16),u(p,n[13],20),u(p,n[14],24),u(p,n[15],28),p}}oe.native=0;function Q(H,a,s,n,p){H[a]+=H[s],H[p]=P(H[p]^H[a],16),H[n]+=H[p],H[s]=P(H[s]^H[n],12),H[a]+=H[s],H[p]=P(H[p]^H[a],8),H[n]+=H[p],H[s]=P(H[s]^H[n],7)}function P(H,a){return H<<a|H>>>32-a}function g(H,a){return H[a++]+H[a++]*256+H[a++]*65536+H[a]*16777216}function u(H,a,s){return H[s++]=a,a>>>=8,H[s++]=a,a>>>=8,H[s++]=a,a>>>=8,H[s++]=a,s}C.exports=oe}],["bcrypto","/lib/js/elliptic.js",function(f,Le,C,Fe,He,Ve){/*!
 * elliptic.js - elliptic curves for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/elliptic:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/elliptic
 *
 * Formulas from DJB and Tanja Lange [EFD].
 *
 * References:
 *
 *   [GECC] Guide to Elliptic Curve Cryptography
 *     D. Hankerson, A. Menezes, and S. Vanstone
 *     https://tinyurl.com/guide-to-ecc
 *
 *   [GLV] Faster Point Multiplication on Elliptic Curves
 *     R. Gallant, R. Lambert, and S. Vanstone
 *     https://link.springer.com/content/pdf/10.1007/3-540-44647-8_11.pdf
 *
 *   [MONT1] Montgomery curves and the Montgomery ladder
 *     Daniel J. Bernstein, Tanja Lange
 *     https://eprint.iacr.org/2017/293.pdf
 *
 *   [SQUARED] Elligator Squared
 *     Mehdi Tibouchi
 *     https://eprint.iacr.org/2014/043.pdf
 *
 *   [SEC1] SEC 1 - Standards for Efficient Cryptography Group
 *     Certicom Research
 *     https://www.secg.org/sec1-v2.pdf
 *
 *   [SEC2] SEC 2: Recommended Elliptic Curve Domain Parameters
 *     Certicom Research
 *     https://www.secg.org/sec2-v2.pdf
 *
 *   [SIDE1] Elliptic Curves and Side-Channel Attacks
 *     Marc Joye
 *     https://pdfs.semanticscholar.org/8d69/9645033e25d74fcfd4cbf07a770d2e943e14.pdf
 *
 *   [BLIND] Side-Channel Analysis on Blinding Regular Scalar Multiplications
 *     B. Feix, M. Roussellet, A. Venelli
 *     https://eprint.iacr.org/2014/191.pdf
 *
 *   [ALT] Alternative Elliptic Curve Representations
 *     R. Struik
 *     https://tools.ietf.org/id/draft-ietf-lwig-curve-representations-02.html
 *
 *   [ARITH1] Arithmetic of Elliptic Curves
 *     Christophe Doche, Tanja Lange
 *     Handbook of Elliptic and Hyperelliptic Curve Cryptography
 *     Page 267, Section 13 (978-1-58488-518-4)
 *     https://hyperelliptic.org/HEHCC/index.html
 *
 *   [ARITH2] The Arithmetic of Elliptic Curves, 2nd Edition
 *     Joseph H. Silverman
 *     http://www.pdmi.ras.ru/~lowdimma/BSD/Silverman-Arithmetic_of_EC.pdf
 *
 *   [EFD] Explicit-Formulas Database
 *     Daniel J. Bernstein, Tanja Lange
 *     https://hyperelliptic.org/EFD/index.html
 *
 *   [SAFE] SafeCurves: choosing safe curves for elliptic-curve cryptography
 *     Daniel J. Bernstein
 *     https://safecurves.cr.yp.to/
 *
 *   [4GLV] Refinement of the Four-Dimensional GLV Method on Elliptic Curves
 *     Hairong Yi, Yuqing Zhu, and Dongdai Lin
 *     http://www.site.uottawa.ca/~cadams/papers/prepro/paper_19_slides.pdf
 *
 *   [SSWU1] Efficient Indifferentiable Hashing into Ordinary Elliptic Curves
 *     E. Brier, J. Coron, T. Icart, D. Madore, H. Randriam, M. Tibouchi
 *     https://eprint.iacr.org/2009/340.pdf
 *
 *   [SSWU2] Rational points on certain hyperelliptic curves over finite fields
 *     Maciej Ulas
 *     https://arxiv.org/abs/0706.1448
 *
 *   [H2EC] Hashing to Elliptic Curves
 *     A. Faz-Hernandez, S. Scott, N. Sullivan, R. S. Wahby, C. A. Wood
 *     https://git.io/JeWz6
 *     https://github.com/cfrg/draft-irtf-cfrg-hash-to-curve
 *
 *   [SVDW1] Construction of Rational Points on Elliptic Curves
 *     A. Shallue, C. E. van de Woestijne
 *     https://works.bepress.com/andrew_shallue/1/download/
 *
 *   [SVDW2] Indifferentiable Hashing to Barreto-Naehrig Curves
 *     Pierre-Alain Fouque, Mehdi Tibouchi
 *     https://www.di.ens.fr/~fouque/pub/latincrypt12.pdf
 *
 *   [SVDW3] Covert ECDH over secp256k1
 *     Pieter Wuille
 *     https://gist.github.com/sipa/29118d3fcfac69f9930d57433316c039
 *
 *   [MONT2] Montgomery Curve (wikipedia)
 *     https://en.wikipedia.org/wiki/Montgomery_curve
 *
 *   [MONT3] Montgomery Curves and their arithmetic
 *     C. Costello, B. Smith
 *     https://eprint.iacr.org/2017/212.pdf
 *
 *   [ELL2] Elliptic-curve points indistinguishable from uniform random strings
 *     D. Bernstein, M. Hamburg, A. Krasnova, T. Lange
 *     https://elligator.cr.yp.to/elligator-20130828.pdf
 *
 *   [RFC7748] Elliptic Curves for Security
 *     A. Langley, M. Hamburg, S. Turner
 *     https://tools.ietf.org/html/rfc7748
 *
 *   [TWISTED] Twisted Edwards Curves
 *     D. Bernstein, P. Birkner, M. Joye, T. Lange, C. Peters
 *     https://eprint.iacr.org/2008/013.pdf
 *
 *   [ELL1] Injective Encodings to Elliptic Curves
 *     P. Fouque, A. Joux, M. Tibouchi
 *     https://eprint.iacr.org/2013/373.pdf
 *
 *   [ISOGENY] Twisting Edwards curves with isogenies
 *     Mike Hamburg
 *     https://www.shiftleft.org/papers/isogeny/isogeny.pdf
 *
 *   [RFC8032] Edwards-Curve Digital Signature Algorithm (EdDSA)
 *     S. Josefsson, SJD AB, I. Liusvaara
 *     https://tools.ietf.org/html/rfc8032
 *
 *   [SCHNORR] Schnorr Signatures for secp256k1
 *     Pieter Wuille
 *     https://github.com/sipa/bips/blob/d194620/bip-schnorr.mediawiki
 *
 *   [BIP340] Schnorr Signatures for secp256k1
 *     Pieter Wuille, Jonas Nick, Tim Ruffing
 *     https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki
 *
 *   [JCEN12] Efficient Software Implementation of Public-Key Cryptography
 *            on Sensor Networks Using the MSP430X Microcontroller
 *     C. P. L. Gouvea, L. B. Oliveira, J. Lopez
 *     http://conradoplg.cryptoland.net/files/2010/12/jcen12.pdf
 *
 *   [FIPS186] Federal Information Processing Standards Publication
 *     National Institute of Standards and Technology
 *     https://tinyurl.com/fips-186-3
 *
 *   [RFC5639] Elliptic Curve Cryptography (ECC) Brainpool
 *             Standard Curves and Curve Generation
 *     M. Lochter, BSI, J. Merkle
 *     https://tools.ietf.org/html/rfc5639
 *
 *   [TWISTEQ] Twisted Edwards & Short Weierstrass Equivalence
 *     Christopher Jeffrey
 *     https://gist.github.com/chjj/16ba7fa08d64e8dda269a9fe5b2a8bbc
 *
 *   [ECPM] Elliptic Curve Point Multiplication (wikipedia)
 *     https://en.wikipedia.org/wiki/Elliptic_curve_point_multiplication
 */const{custom:e}=ce(44,C),S=ce(42,C),oe={AFFINE:0,JACOBIAN:1,PROJECTIVE:2,EXTENDED:3},Q=[-3,-1,-5,-7,0,7,5,1,3];let P=0;class g{constructor(t,l,I){this.Point=null,this.id=null,this.uid=P++,this.ossl=null,this.type="base",this.endian="be",this.hash=null,this.prefix=null,this.context=!1,this.prime=null,this.p=null,this.red=null,this.fieldSize=0,this.fieldBits=0,this.adjustedSize=0,this.signBit=0,this.mask=0,this.n=null,this.h=null,this.q=null,this.z=null,this.g=null,this.nh=null,this.scalarSize=0,this.scalarBits=0,this.zero=null,this.one=null,this.two=null,this.three=null,this.four=null,this.i2=null,this.i3=null,this.i4=null,this.i6=null,this.torsion=null,this.endo=null,this.hi=null,this._init(t,l,I)}_init(t,l,I){re(typeof t=="function"),re(typeof l=="string"),re(I&&typeof I=="object"),re(I.red==null||I.red instanceof S.Red),re(I.p!=null,"Must pass a prime."),re(I.id==null||typeof I.id=="string"),re(I.ossl==null||typeof I.ossl=="string"),re(I.endian==null||typeof I.endian=="string"),re(I.hash==null||typeof I.hash=="string"),re(I.prefix==null||typeof I.prefix=="string"),re(I.context==null||typeof I.context=="boolean"),re(I.prime==null||typeof I.prime=="string"),re(I.torsion==null||Array.isArray(I.torsion)),this.Point=t,this.id=I.id||null,this.ossl=I.ossl||null,this.type=l,this.endian=I.endian||(l==="short"?"be":"le"),this.hash=I.hash||null,this.prefix=I.prefix?_e.from(I.prefix,"binary"):null,this.context=I.context||!1,this.prime=I.prime||null,this.p=S.fromJSON(I.p),I.red?this.red=I.red:(this.red=I.prime?S.red(I.prime):S.mont(this.p),this.red.precompute()),this.fieldSize=this.p.byteLength(),this.fieldBits=this.p.bitLength(),this.adjustedSize=this.fieldSize+((this.fieldBits&7)===0),this.signBit=this.adjustedSize*8-1,this.mask=255,(this.fieldBits&7)!==0&&(this.mask=(1<<(this.fieldBits&7))-1),this.n=S.fromJSON(I.n||"0"),this.h=S.fromJSON(I.h||"1"),this.q=this.n.mul(this.h),this.z=S.fromJSON(I.z||"0").toRed(this.red),this.g=null,this.nh=this.n.ushrn(1),this.scalarSize=this.n.byteLength(),this.scalarBits=this.n.bitLength(),this.zero=new S(0).toRed(this.red),this.one=new S(1).toRed(this.red),this.two=new S(2).toRed(this.red),this.three=new S(3).toRed(this.red),this.four=new S(4).toRed(this.red),this.i2=this.two.redInvert(),this.i3=this.three.redInvert(),this.i4=this.i2.redSqr(),this.i6=this.i2.redMul(this.i3),this.torsion=new Array(this.h.word(0));for(let Y=0;Y<this.torsion.length;Y++)this.torsion[Y]=this.point();return this.endo=null,this.hi=null,this._scale=L(this._scale,this),this.isIsomorphic=L(this.isIsomorphic,this),this.isIsogenous=L(this.isIsogenous,this),re(this.p.sign()>0&&this.p.isOdd()),re(this.n.sign()>=0),re(this.h.sign()>0&&this.h.cmpn(255)<=0),re(this.endian==="be"||this.endian==="le"),this}_finalize(t){if(re(t&&typeof t=="object"),this.g=t.g?this.pointFromJSON(t.g):this.point(),t.torsion){re(t.torsion.length===this.torsion.length);for(let l=0;l<this.torsion.length;l++)this.torsion[l]=this.pointFromJSON(t.torsion[l])}return this}_findTorsion(){re(!this.n.isZero());const t=this.h.word(0),l=this.one.redNeg(),I=[this.point()],Y=new Set;let Z=t;for(;I.length<Z;){let W;l.redIAdd(this.one);try{W=this.pointFromX(l.clone())}catch{continue}try{W=W.mul(this.n)}catch{Z=2;continue}if(!W.isInfinity()){W.normalize();for(const ue of[W,W.neg()]){const pe=ue.key();Y.has(pe)||(I.push(ue),Y.add(pe))}}}for(I.sort((W,ue)=>W.cmp(ue));I.length<t;)I.push(this.point());return I}_fixedMul(t,l){re(t instanceof u),re(l instanceof S),re(t.pre&&t.pre.windows);const{width:I,points:Y}=t._getWindows(0,0),Z=1<<I,ue=(l.bitLength()+I-1)/I>>>0;let pe=this.jpoint();for(let Ie=0;Ie<ue;Ie++){const te=l.bits(Ie*I,I);pe=pe.add(Y[Ie*Z+te])}return l.isNeg()&&(pe=pe.neg()),pe}_fixedNafMul(t,l){re(t instanceof u),re(l instanceof S),re(t.pre&&t.pre.doubles);const{step:I,points:Y}=t._getDoubles(0,0),Z=ge(l,2,l.bitLength()+1,I),W=((1<<I+1)-(I%2===0?2:1))/3;let ue=this.jpoint(),pe=this.jpoint();for(let Ie=W;Ie>0;Ie--){for(let te=0;te<Z.length;te++){const D=Z[te];D===Ie?pe=pe.add(Y[te]):D===-Ie&&(pe=pe.sub(Y[te]))}ue=ue.add(pe)}return ue}_wnafMul(t,l,I){re(l instanceof u),re(I instanceof S);const{width:Y,points:Z}=l._safeNAF(t),W=se(I,Y,I.bitLength()+1);let ue=this.jpoint();for(let pe=W.length-1;pe>=0;pe--){const Ie=W[pe];pe!==W.length-1&&(ue=ue.dbl()),Ie>0?ue=ue.add(Z[Ie-1>>1]):Ie<0&&(ue=ue.sub(Z[-Ie-1>>1]))}return ue}_wnafMulAdd(t,l,I){re(t>>>0===t),re(Array.isArray(l)),re(Array.isArray(I)),re(l.length===I.length);const Y=l.length,Z=new Array(Y),W=new Array(Y);let ue=0;for(let F=0;F<Y;F++){const he=l[F],we=I[F];if(re(he instanceof u),re(we instanceof S),F>0&&he.type!==l[F-1].type)throw new Error("Cannot mix points.");Z[F]=null,W[F]=null,ue=Math.max(ue,we.bitLength()+1)}let pe=null,Ie=null,te=0;for(let F=0;F<Y;F++){const he=l[F],we=I[F],Me=he._getNAF(0);if(Me){Z[te]=Me.points,W[te]=se(we,Me.width,ue),te+=1;continue}if(!pe){pe=he,Ie=we;continue}Z[te]=pe._getJNAF(he),W[te]=Ue(Ie,we,ue),pe=null,Ie=null,te+=1}if(pe){const F=pe._safeNAF(t);Z[te]=F.points,W[te]=se(Ie,F.width,ue),te+=1}let D=this.jpoint();for(let F=ue-1;F>=0;F--){F!==ue-1&&(D=D.dbl());for(let he=0;he<te;he++){const we=W[he][F];we>0?D=D.add(Z[he][we-1>>1]):we<0&&(D=D.sub(Z[he][-we-1>>1]))}}return D}_endoWnafMulAdd(t,l){throw new Error("Not implemented.")}_scale(t,l){switch(re(t instanceof g),re(t.p.eq(this.p)),t.type){case"short":return this._scaleShort(t,l);case"mont":return this._scaleMont(t,l);case"edwards":return this._scaleEdwards(t,l);default:throw new Error("Not implemented.")}}_scaleShort(t,l){throw new Error("Not implemented.")}_scaleMont(t,l){throw new Error("Not implemented.")}_scaleEdwards(t,l){throw new Error("Not implemented.")}isElliptic(){throw new Error("Not implemented.")}jinv(){throw new Error("Not implemented.")}isComplete(){return!1}precompute(t){return re(!this.g.isInfinity(),"Must have base point."),re(!this.n.isZero(),"Must have order."),this.g.precompute(this.n.bitLength(),t),this}scalar(t,l,I){const Y=new S(t,l,I);return re(!Y.red),this.n.isZero()?Y:Y.imod(this.n)}field(t,l,I){const Y=S.cast(t,l,I);return Y.red?Y.forceRed(this.red):Y.toRed(this.red)}point(t,l){throw new Error("Not implemented.")}jpoint(t,l,I){throw new Error("Not implemented.")}xpoint(t,l){throw new Error("Not implemented.")}cpoint(t,l,I,Y){if(re(t instanceof S),re(l instanceof S),re(I instanceof S),re(Y instanceof S),l.isZero()||Y.isZero())return this.point();const Z=l.redMul(Y).redInvert(),W=t.redMul(Y).redMul(Z),ue=I.redMul(l).redMul(Z);return this.point(W,ue)}solveX2(t){throw new Error("Not implemented.")}solveX(t){return this.solveX2(t).redSqrt()}solveY2(t){throw new Error("Not implemented.")}solveY(t){return this.solveY2(t).redSqrt()}validate(t){throw new Error("Not implemented.")}pointFromX(t,l){throw new Error("Not implemented.")}pointFromY(t,l){throw new Error("Not implemented.")}isIsomorphic(t){throw new Error("Not implemented.")}isIsogenous(t){throw new Error("Not implemented.")}pointFromShort(t){throw new Error("Not implemented.")}pointFromMont(t,l){throw new Error("Not implemented.")}pointFromEdwards(t){throw new Error("Not implemented.")}pointFromUniform(t){throw new Error("Not implemented.")}pointToUniform(t){throw new Error("Not implemented.")}pointFromHash(t,l=!1){if(re(t!=null&&t._isBuffer===!0),re(typeof l=="boolean"),t.length!==this.fieldSize*2)throw new Error("Invalid hash size.");const I=t.slice(0,this.fieldSize),Y=t.slice(this.fieldSize),Z=this.decodeUniform(I),W=this.decodeUniform(Y),ue=this.pointFromUniform(Z),pe=this.pointFromUniform(W),Ie=ue.add(pe);return l?Ie.mulH():Ie}pointToHash(t,l,I){re(t instanceof this.Point),re(l>>>0===l);const Y=l%this.torsion.length,Z=t.add(this.torsion[Y]);for(;;){const W=this.randomField(I),ue=this.pointFromUniform(W);if(ue.neg().eq(ue))continue;const pe=Z.sub(ue),Ie=ie(I);let te;try{te=this.pointToUniform(pe,Ie&15)}catch(he){if(he.message==="Invalid point.")continue;throw he}const D=this.encodeUniform(W,Ie>>>8),F=this.encodeUniform(te,Ie>>>16);return _e.concat([D,F])}}randomScalar(t){const l=this.n.isZero()?this.p:this.n;return S.random(t,1,l)}randomField(t){return S.random(t,1,this.p).toRed(this.red)}randomPoint(t){let l;for(;;){const I=this.randomField(t),Y=(ie(t)&1)!==0;try{l=this.pointFromX(I,Y)}catch{continue}return re(l.validate()),l.mulH()}}mulAll(t,l){return this.jmulAll(t,l)}jmulAll(t,l){return re(Array.isArray(t)),re(t.length===0||t[0]instanceof u),this.endo&&t.length>0&&t[0].type===oe.AFFINE?this._endoWnafMulAdd(t,l):this._wnafMulAdd(5,t,l)}mulH(t){return re(t instanceof S),this.imulH(t.clone())}imulH(t){re(t instanceof S),re(!t.red);const l=this.h.word(0);if((l&l-1)===0){const I=this.h.bitLength();return t.iushln(I-1).imod(this.n)}return t.imuln(l).imod(this.n)}normalizeAll(t){re(Array.isArray(t));const l=t.length,I=new Array(l);for(let W=0;W<l;W++){const ue=t[W];if(re(ue instanceof u),re(ue.curve===this),ue.type===oe.AFFINE){I[W]=this.one;continue}I[W]=ue.z}const Y=this.red.invertAll(I),Z=new Array(l);for(let W=0;W<l;W++)Z[W]=t[W].scale(Y[W]);return Z}affinizeAll(t){return this.normalizeAll(t)}clamp(t){re(t!=null&&t._isBuffer===!0),re(t.length===this.scalarSize),re(this.scalarSize<=this.fieldSize);let l=this.fieldBits&7||8,I=0,Y=this.scalarSize-1;return this.endian==="be"&&([I,Y]=[Y,I]),this.scalarSize<this.fieldSize&&(l=8),t[I]&=-this.h.word(0)&255,t[Y]&=(1<<l)-1,t[Y]|=1<<l-1,t}splitHash(t){re(t!=null&&t._isBuffer===!0),re(t.length===this.adjustedSize*2),re(this.scalarSize<=this.adjustedSize);let l=0;this.endian==="be"&&(l=this.adjustedSize-this.scalarSize);const I=t.slice(l,l+this.scalarSize),Y=t.slice(this.adjustedSize);return this.clamp(I),[I,Y]}encodeField(t){return re(t instanceof S),re(!t.red),t.encode(this.endian,this.fieldSize)}decodeField(t){if(re(t!=null&&t._isBuffer===!0),t.length!==this.fieldSize)throw new Error("Invalid field element size.");return S.decode(t,this.endian)}encodeAdjusted(t){return re(t instanceof S),re(!t.red),t.encode(this.endian,this.adjustedSize)}decodeAdjusted(t){if(re(t!=null&&t._isBuffer===!0),t.length!==this.adjustedSize)throw new Error("Invalid field element size.");return S.decode(t,this.endian)}encodeScalar(t){return re(t instanceof S),re(!t.red),t.encode(this.endian,this.scalarSize)}decodeScalar(t){if(re(t!=null&&t._isBuffer===!0),t.length!==this.scalarSize)throw new Error("Invalid scalar size.");return S.decode(t,this.endian)}encodeClamped(t){return this.clamp(this.encodeScalar(t))}decodeClamped(t){if(re(t!=null&&t._isBuffer===!0),t.length!==this.scalarSize)throw new Error("Invalid scalar size.");const l=this.clamp(_e.from(t));return S.decode(l,this.endian)}encodeUniform(t,l){re(t instanceof S),re(l>>>0===l);const I=this.endian==="le"?this.fieldSize-1:0,Y=t.fromRed().encode(this.endian,this.fieldSize);return Y[I]|=l&~this.mask&255,Y}decodeUniform(t){if(re(t!=null&&t._isBuffer===!0),t.length!==this.fieldSize)throw new Error("Invalid field size.");const l=S.decode(t,this.endian);return l.iumaskn(this.fieldBits),l.toRed(this.red)}encodePoint(t,l){return re(t instanceof u),t.encode(l)}decodePoint(t){throw new Error("Not implemented.")}encodeX(t){throw new Error("Not implemented.")}decodeX(t){throw new Error("Not implemented.")}decodeEven(t){throw new Error("Not implemented.")}decodeSquare(t){throw new Error("Not implemented.")}toShort(){throw new Error("Not implemented.")}toMont(t){throw new Error("Not implemented.")}toEdwards(t){throw new Error("Not implemented.")}pointToJSON(t,l){return re(t instanceof u),t.toJSON(l)}pointFromJSON(t){throw new Error("Not implemented.")}toJSON(t){let l,I,Y,Z,W;return this.type==="edwards"&&(l=this.prefix?this.prefix.toString():null,I=this.context),this.n.isZero()||(Y=this.n.toJSON()),this.z.isZero()||(Z=this.z.fromRed(),this.z.redIsHigh()&&Z.isub(this.p),Z=Z.toString(16)),this.endo&&(W=this.endo.toJSON()),{id:this.id,ossl:this.ossl,type:this.type,endian:this.endian,hash:this.hash,prefix:l,context:I,prime:this.prime,p:this.p.toJSON(),a:je,b:je,d:je,n:Y,h:this.h.toString(16),s:je,z:Z,c:je,g:this.g.toJSON(t),endo:W}}static fromJSON(t){return new this(t)}}class u{constructor(t,l){re(t instanceof g),re(l>>>0===l),this.curve=t,this.type=l,this.pre=null}_init(){throw new Error("Not implemented.")}_safeNAF(t){if(re(t>>>0===t),this.pre&&this.pre.naf)return this.pre.naf;if(t===0)return null;const l=1<<t-2,I=new Array(l),Y=this.toJ(),Z=l===1?null:Y.dbl();I[0]=Y;for(let W=1;W<l;W++)I[W]=I[W-1].add(Z);return new _(t,I)}_getNAF(t){if(re(t>>>0===t),this.pre&&this.pre.naf)return this.pre.naf;if(t===0)return null;const l=this._safeNAF(t).points,I=this.curve.affinizeAll(l);return new _(t,I)}_getWindows(t,l){if(re(t>>>0===t),re(l>>>0===l),this.pre&&this.pre.windows)return this.pre.windows;if(t===0)return null;const I=1<<t,Y=(l+t-1)/t>>>0,Z=new Array(Y*I);let W=this.toJ();for(let pe=0;pe<Y;pe++){Z[pe*I]=this.curve.jpoint();for(let Ie=1;Ie<I;Ie++)Z[pe*I+Ie]=Z[pe*I+Ie-1].add(W);W=W.dblp(t)}const ue=this.curve.affinizeAll(Z);return new E(t,l,ue)}_getDoubles(t,l){if(re(t>>>0===t),re(l>>>0===l),this.pre&&this.pre.doubles)return this.pre.doubles;if(t===0)return null;const I=Math.ceil(l/t)+1,Y=new Array(I);let Z=this.toJ(),W=0;Y[W++]=Z;for(let pe=0;pe<l;pe+=t){for(let Ie=0;Ie<t;Ie++)Z=Z.dbl();Y[W++]=Z}re(W===I);const ue=this.curve.affinizeAll(Y);return new d(t,ue)}_getBeta(){return null}_getBlinding(t){if(this.pre&&this.pre.blinding)return this.pre.blinding;if(!t||this.curve.n.isZero())return null;const l=this.curve.randomScalar(t),I=this.mul(l);return new T(l,I)}_hasWindows(t){if(re(t instanceof S),!this.pre||!this.pre.windows)return!1;const{width:l,bits:I}=this.pre.windows,Y=(I+l-1)/l>>>0;return t.bitLength()<=Y*l}_hasDoubles(t){if(re(t instanceof S),!this.pre||!this.pre.doubles)return!1;const{step:l,points:I}=this.pre.doubles,Y=t.bitLength()+1;return I.length>=Math.ceil(Y/l)+1}_getJNAF(t){return re(t instanceof u),re(t.type===this.type),[this,this.add(t),this.sub(t),t]}_blind(t,l){if(re(t instanceof S),re(!t.red),this.pre&&this.pre.blinding){const{blind:Y,unblind:Z}=this.pre.blinding,W=t.sub(Y);return[this,W,Z]}if(!l)return[this,t,null];if(this.pre){if(this.curve.n.isZero())return[this,t,null];const W=this.curve.randomScalar(l).mul(this.curve.n).iadd(t);return[this,W,null]}return[this.randomize(l),t,null]}clone(){throw new Error("Not implemented.")}precompute(t,l){return re(t>>>0===t),this.pre||(this.pre=new m),this.pre.naf||(this.pre.naf=this._getNAF(9)),this.pre.doubles||(this.pre.doubles=this._getDoubles(4,t+1)),this.pre.beta||(this.pre.beta=this._getBeta()),this.pre.blinding||(this.pre.blinding=this._getBlinding(l)),this}validate(){return this.curve.validate(this)}normalize(){return this}scale(t){throw new Error("Not implemented.")}randomize(t){const l=this.curve.randomField(t);return this.scale(l)}neg(){throw new Error("Not implemented.")}add(t){throw new Error("Not implemented.")}sub(t){return re(t instanceof u),this.add(t.neg())}dbl(){throw new Error("Not implemented.")}dblp(t){re(t>>>0===t);let l=this;for(let I=0;I<t;I++)l=l.dbl();return l}diffAddDbl(t,l){throw new Error("Not implemented.")}getX(){throw new Error("Not implemented.")}getY(){throw new Error("Not implemented.")}eq(t){throw new Error("Not implemented.")}cmp(t){throw new Error("Not implemented.")}isInfinity(){throw new Error("Not implemented.")}isOrder2(){throw new Error("Not implemented.")}isOdd(){throw new Error("Not implemented.")}isEven(){throw new Error("Not implemented.")}isSquare(){throw new Error("Not implemented.")}eqX(t){throw new Error("Not implemented.")}eqR(t){throw new Error("Not implemented.")}isSmall(){return this.isInfinity()?!1:this.jmulH().isInfinity()}hasTorsion(){return this.isInfinity()?!1:!this.jmul(this.curve.n).isInfinity()}order(){const{h:t,n:l}=this.curve;let I=this.toJ(),Y=new S(1);for(;!I.isInfinity();){if(Y.iaddn(1),Y.cmp(t)>0){Y=l.clone();break}I=I.add(this)}return Y}mul(t){return this.jmul(t)}muln(t){return this.jmuln(t)}mulBlind(t,l){return this.jmulBlind(t,l)}mulAdd(t,l,I){return this.jmulAdd(t,l,I)}mulH(){return this.jmulH()}div(t){return this.jdiv(t)}divn(t){return this.jdivn(t)}divH(){return this.jdivH()}jmul(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo&&this.type===oe.AFFINE?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(5,this,t)}jmuln(t){return re((t|0)===t),this.jmul(new S(t))}jmulBlind(t,l=null){const[I,Y,Z]=this._blind(t,l),W=I.jmul(Y);return Z?W.add(Z):W}jmulAdd(t,l,I){return this.curve.endo&&this.type===oe.AFFINE?this.curve._endoWnafMulAdd([this,l],[t,I]):this.curve._wnafMulAdd(5,[this,l],[t,I])}jmulH(){const t=this.curve.h.word(0);if((t&t-1)===0){const l=this.curve.h.bitLength();return this.toJ().dblp(l-1)}return this.jmul(this.curve.h)}jdiv(t){return re(t instanceof S),re(!t.red),this.jmul(t.invert(this.curve.n))}jdivn(t){return re(!this.curve.n.isZero()),this.curve.h.cmpn(t)===0?this.jdivH():this.jdiv(new S(t))}jdivH(){return this.curve.n.isZero()?this.toJ():this.curve.h.cmpn(1)===0?this.toJ():(this.curve.hi===null&&(this.curve.hi=this.curve.h.invert(this.curve.n)),this.jmul(this.curve.hi))}toP(){return this.normalize()}toJ(){return this}toX(){return this}key(){if(this.isInfinity())return`${this.curve.uid}:oo`;this.normalize();const t=this.getX().toString(16),l=this.getY().toString(16);return`${this.curve.uid}:${t},${l}`}encode(t){throw new Error("Not implemented.")}static decode(t,l){throw new Error("Not implemented.")}encodeX(){throw new Error("Not implemented.")}static decodeX(t,l){throw new Error("Not implemented.")}static decodeEven(t,l){throw new Error("Not implemented.")}static decodeSquare(t,l){throw new Error("Not implemented.")}toJSON(t){throw new Error("Not implemented.")}static fromJSON(t,l){throw new Error("Not implemented.")}[e](){return"<Point>"}}class H extends g{constructor(t){super(a,"short",t),this.a=S.fromJSON(t.a).toRed(this.red),this.b=S.fromJSON(t.b).toRed(this.red),this.c=S.fromJSON(t.c||"0").toRed(this.red),this.ai=this.a.isZero()?this.zero:this.a.redInvert(),this.zi=this.z.isZero()?this.zero:this.z.redInvert(),this.zeroA=this.a.isZero(),this.threeA=this.a.eq(this.three.redNeg()),this.redN=this.n.toRed(this.red),this.pmodn=this.p.clone(),this.highOrder=this.n.cmp(this.p)>=0,this.smallGap=!1,this._finalize(t)}_finalize(t){return super._finalize(t),t.endo!=null?this.endo=N.fromJSON(this,t.endo):this.endo=this._getEndomorphism(),this.n.isZero()||(this.pmodn=this.p.mod(this.n),this.smallGap=this.p.div(this.n).cmpn(1)<=0),this}static _isomorphism(t,l,I,Y){if(re(t instanceof S),re(l instanceof S),re(I instanceof S),re(Y==null||typeof Y=="boolean"),re(!t.isZero()||!l.isZero()),I.isZero())throw new Error("Invalid coefficient.");if(t.isZero()){const D=I,F=D.redDiv(l),he=V(F);return re(he.redJacobi()===1),[t.clone(),D.clone()]}if(l.isZero()){const D=I,he=D.redDiv(t).redSqrt();if(he.redJacobi()!==1&&he.redINeg(),he.redJacobi()!==1)throw new Error("Invalid `a` coefficient.");return[D.clone(),l.clone()]}const Z=I,W=Z.redDiv(t),ue=W.redSqrt();if(Y!=null?ue.redIsOdd()!==Y&&ue.redINeg():ue.redJacobi()!==1&&ue.redINeg(),ue.redJacobi()!==1)throw new Error("Invalid `a` coefficient.");const pe=W.redMul(ue),Ie=t.redMul(W),te=l.redMul(pe);return re(Ie.eq(Z)),[Ie,te]}_short(t,l){return H._isomorphism(this.a,this.b,t,l)}_mont(t,l){const[I,Y]=this._findRS(l),Z=Y.redInvert(),W=I.redMuln(3).redMul(Z);return t!=null?n._isomorphism(W,Z,t):[W,Z]}_edwards(t,l){const[I,Y]=this._findRS(l),Z=I.redMuln(3),W=Y.redMuln(2),ue=Z.redAdd(W),pe=Z.redSub(W);return t!=null?K._isomorphism(ue,pe,t):[ue,pe]}_findRS(t){re(t==null||typeof t=="boolean"),re(this.h.word(0)>=4),re(!this.n.isZero());const l=this.one.redNeg();let I;for(;;){l.redIAdd(this.one);try{I=this.pointFromX(l.clone())}catch{continue}if(I=I.mul(this.n),!I.isInfinity()&&!!I.y.isZero())break}const Y=I.x,W=Y.redSqr().redMuln(3).redIAdd(this.a).redSqrt();return t!=null&&W.redIsOdd()!==t&&W.redINeg(),[Y,W]}_scale0(t,l){if(re(this.a.isZero()===t.isZero()),re(this.b.isZero()===l.isZero()),this.a.isZero()){const pe=this.b.redDiv(this.field(l)),Ie=V(pe),te=Ie.redSqrt(),D=Ie.redMul(te);return re(D.redSqr().eq(pe)),re(!te.isZero()),[Ie,D]}if(this.b.isZero()){const pe=this.a.redDiv(this.field(t)),Ie=pe.redSqrt();Ie.redJacobi()!==1&&Ie.redINeg();const te=Ie.redSqrt(),D=Ie.redMul(te);return re(D.redMul(te).eq(pe)),re(!te.isZero()),[Ie,D]}const I=this.a.redDiv(this.field(t)),Y=this.b.redDiv(this.field(l)),Z=I.redSqrt();I.redMul(Z).eq(Y)||Z.redINeg(),re(I.redMul(Z).eq(Y));const W=Z.redSqrt(),ue=Z.redMul(W);return re(!W.isZero()),[Z,ue]}_scale1(t,l){const I=this.g.x.redDiv(this.field(t)),Y=this.g.y.redDiv(this.field(l)),Z=I.redSqrt();return I.redMul(Z).eq(Y)||Z.redINeg(),re(I.redMul(Z).eq(Y)),re(!Z.isZero()),[I,Y]}_scaleShort(t){return re(t instanceof H),this.g.isInfinity()||t.g.isInfinity()?this._scale0(t.a,t.b):this._scale1(t.g.x,t.g.y)}_scaleMont(t){if(re(t instanceof n),this.g.isInfinity()||t.g.isInfinity()){const[W,ue]=t._short();return this._scale0(W,ue)}const{x:l,y:I}=t.g,Y=l.redAdd(t.a3).redMul(t.bi),Z=I.redMul(t.bi);return this._scale1(Y,Z)}_scaleEdwards(t){if(re(t instanceof K),this.g.isInfinity()||t.g.isInfinity()){const[me,Te]=t._short();return this._scale0(me,Te)}const{x:l,y:I,z:Y}=t.g,Z=t.a.redMuln(5),W=t.d.redMuln(5),ue=t.d.redSub(t.a),pe=W.redSub(t.a),Ie=t.d.redSub(Z),te=I.redAdd(Y),D=I.redSub(Y),F=pe.redMul(I).redIAdd(Ie.redMul(Y)),he=D.redMuln(12),we=ue.redMul(te).redMul(Y),Me=D.redMul(l).redIMuln(4),de=he.redMul(Me).redInvert(),Se=F.redMul(Me).redMul(de),ye=we.redMul(he).redMul(de);return this._scale1(Se,ye)}_getEndomorphism(t=0){if(this.n.isZero()||this.g.isInfinity()||!this.zeroA||this.p.modrn(3)!==1||this.n.modrn(3)!==1)return null;const[l,I]=this._getEndoRoots(this.p),Y=[l,I][t&1].toRed(this.red),[Z,W]=this._getEndoRoots(this.n),ue=this.point(this.g.x.redMul(Y),this.g.y);let pe;this.g.mul(Z).eq(ue)?pe=Z:(re(this.g.mul(W).eq(ue)),pe=W);const Ie=this._getEndoBasis(pe),te=this._getEndoPrecomp(Ie);return new N(Y,pe,Ie,te)}_getEndoRoots(t){const l=t===this.p?this.red:S.mont(t),I=new S(2).toRed(l),Y=new S(3).toRed(l),Z=I.redInvert(),W=Y.redNeg().redSqrt().redMul(Z),ue=W.redNeg(),pe=W.redSub(Z).fromRed(),Ie=ue.redSub(Z).fromRed();return[pe,Ie].sort(S.cmp)}_getEndoBasis(t){const[l,I,Y,Z,W,ue]=this._egcdSqrt(t),pe=Y,Ie=Z.neg(),te=l.sqr().iadd(I.sqr()),D=W.sqr().iadd(ue.sqr());let F,he;return te.cmp(D)<=0?(F=l,he=I.neg()):(F=W,he=ue.neg()),[new R(pe,Ie),new R(F,he)]}_egcdSqrt(t){re(t instanceof S),re(!t.red),re(t.sign()>0),re(this.n.sign()>0);const l=this.n.ushrn(this.n.bitLength()>>>1);let I=t,Y=this.n.clone(),Z=new S(1),W=new S(0),ue=new S(0),pe=new S(1),Ie,te,D,F,he=0,we=0,Me;for(;!I.isZero()&&he<2;){const ye=Y.quo(I),me=Y.sub(ye.mul(I)),Te=ue.sub(ye.mul(Z)),xe=pe.sub(ye.mul(W));we===0&&me.cmp(l)<0&&(Ie=Me,te=Z,D=me,F=Te,we=1),Me=me,Y=I,I=me,ue=Z,Z=Te,pe=W,W=xe,he+=we}return re(we!==0,"Could not find r < sqrt(n)."),[Ie,te,D,F,ue,Z]}_getEndoPrecomp(t){re(Array.isArray(t)),re(t.length===2),re(t[0]instanceof R),re(t[1]instanceof R);const[l,I]=t,Y=l.a.mul(I.b).isub(l.b.mul(I.a)),Z=Y.bitLength(),W=Z>=160;re(Y.eq(this.n));let ue=Z+Math.ceil(Z/2)+1,pe,Ie;for(W&&(ue-=ue&63);ue>Z&&(pe=I.b.ushln(ue).divRound(Y),Ie=l.b.ushln(ue).divRound(Y),!(pe.ucmp(Y)<0&&Ie.ucmp(Y)<0));)W?ue-=64:ue-=1;if(ue<=Z)throw new Error("Could not calculate g1 and g2.");return[ue,pe,Ie]}_endoSplit(t){re(t instanceof S),re(!t.red),re(!this.n.isZero());const[l,I]=this.endo.basis,Y=I.b.mul(t).divRound(this.n),Z=l.b.neg().mul(t).divRound(this.n),W=Y.mul(l.a),ue=Z.mul(I.a),pe=Y.ineg().mul(l.b),Ie=Z.mul(I.b),te=t.sub(W).isub(ue),D=pe.isub(Ie);return[te,D]}_endoBeta(t){return re(t instanceof a),[t,t._getBeta()]}_endoWnafMulAdd(t,l){re(Array.isArray(t)),re(Array.isArray(l)),re(t.length===l.length),re(this.endo!=null);const I=t.length,Y=new Array(I*2),Z=new Array(I*2);for(let W=0;W<I;W++){const[ue,pe]=this._endoBeta(t[W]),[Ie,te]=this._endoSplit(l[W]);Y[W*2+0]=ue,Z[W*2+0]=Ie,Y[W*2+1]=pe,Z[W*2+1]=te}return this._wnafMulAdd(5,Y,Z)}_sswu(t){const{b:l,z:I,ai:Y,zi:Z,one:W}=this,ue=I.redSqr(),pe=l.redNeg().redMul(Y),Ie=l.redMul(Z).redMul(Y),te=t.redSqr(),D=te.redSqr(),F=ue.redMul(D).redIAdd(I.redMul(te)),he=F.isZero()?F:F.redInvert(),we=he.isZero()?Ie:pe.redMul(W.redAdd(he)),Me=I.redMul(te).redMul(we),de=this.solveY2(we),Se=this.solveY2(Me),ye=de.redIsSquare()|0,me=[we,Me][ye^1],Te=[de,Se][ye^1].redSqrt();return Te.redIsOdd()!==t.redIsOdd()&&Te.redINeg(),this.point(me,Te)}_sswui(t,l){const{a:I,b:Y,z:Z}=this,{x:W,y:ue}=t,pe=l&3,Ie=I.redSqr().redMul(W.redSqr()),te=I.redMul(Y).redMul(W).redIMuln(2),D=Y.redSqr().redMuln(3),F=I.redMul(W).redIAdd(Y),he=Ie.redISub(te).redISub(D).redSqrt(),we=F.redSub(he).redINeg(),Me=F.redAdd(he).redINeg(),de=F.redMul(Z).redIMuln(2),Se=Y.redMul(Z).redIMuln(2),ye=[we,Me][pe&1],me=[de,Se][pe>>>1],Te=ye.redDivSqrt(me);return Te.redIsOdd()!==ue.redIsOdd()&&Te.redINeg(),Te}_svdwf(t){const{c:l,z:I,zi:Y,i2:Z,i3:W}=this,ue=this.solveY2(I),pe=W.redMul(Y.redSqr()),Ie=t.redSqr(),te=Ie.redSqr(),D=Ie.redAdd(ue),F=Ie.redMul(D),he=F.isZero()?F:F.redInvert(),we=te.redMul(he).redMul(l),Me=D.redSqr().redMul(D),de=l.redSub(I).redMul(Z).redISub(we),Se=we.redSub(l.redAdd(I).redMul(Z)),ye=I.redSub(Me.redMul(he).redMul(pe)),me=this.solveY2(de),Te=this.solveY2(Se),xe=this.solveY2(ye),Pe=me.redJacobi()|1,Ce=Te.redJacobi()|1,Ke=r((Pe-1)*Ce,3),qe=[de,Se,ye][Ke],Ye=[me,Te,xe][Ke];return[qe,Ye]}_svdw(t){const[l,I]=this._svdwf(t),Y=I.redSqrt();return Y.redIsOdd()!==t.redIsOdd()&&Y.redINeg(),this.point(l,Y)}_svdwi(t,l){const{b:I,c:Y,z:Z,zero:W,two:ue}=this,{x:pe,y:Ie}=t,te=l&3,D=Z.redSqr(),F=D.redMul(Z),he=D.redSqr(),we=F.redAdd(I),Me=we.redMuln(2),de=pe.redSqr(),Se=pe.redMuln(2).redIAdd(Z),ye=pe.redMul(D),me=Y.redSub(Se),Te=Y.redAdd(Se),xe=de.redMul(D).redIAdd(he).redIMuln(9),Pe=pe.redMul(F).redIMuln(18),Ce=we.redMul(pe.redSub(Z)).redIMuln(12),qe=(te>=2?xe.redISub(Pe).redIAdd(Ce).redSqrt():W).redMul(Z),Ye=F.redISub(ye).redIMuln(3).redISub(Me),$e=we.redMul(me),Ge=we.redMul(Te),Qe=Ye.redAdd(qe),tt=Ye.redSub(qe),nt=ue,Xe=[$e,Ge,Qe,tt][te],ot=[Te,me,nt,nt][te],yt=Xe.redDivSqrt(ot),[lt]=this._svdwf(yt);if(!lt.eq(pe))throw new Error("Invalid point.");return yt.redIsOdd()!==Ie.redIsOdd()&&yt.redINeg(),yt}isElliptic(){const{a:t,b:l}=this,Y=t.redSqr().redMul(t);return!l.redSqr().redMuln(27).redIAdd(Y.redMuln(4)).isZero()}jinv(){const{a:t,b:l}=this,Y=t.redSqr().redMul(t),Z=l.redSqr(),W=Y.redMuln(4),ue=W.redMuln(1728),pe=Z.redMuln(27).redIAdd(W);if(pe.isZero())throw new Error("Curve is not elliptic.");return ue.redDiv(pe).fromRed()}point(t,l){return new a(this,t,l)}jpoint(t,l,I){return new s(this,t,l,I)}solveX(t){if(re(t instanceof S),!this.a.isZero())throw new Error("Not implemented.");const I=t.redSqr().redSub(this.b);return b(I)}solveY2(t){re(t instanceof S);const I=t.redSqr().redMul(t).redIAdd(this.b);return this.zeroA||(this.threeA?I.redIAdd(t.redMuln(-3)):I.redIAdd(this.a.redMul(t))),I}validate(t){if(re(t instanceof a),t.inf)return!0;const{x:l,y:I}=t,Y=this.solveY2(l);return I.redSqr().eq(Y)}pointFromX(t,l=null){re(t instanceof S),re(l==null||typeof l=="boolean"),t.red||(t=t.toRed(this.red));const I=this.solveY(t);if(l!=null){if(this.h.cmpn(1)>0&&I.isZero()&&l)throw new Error("Invalid point.");I.redIsOdd()!==l&&I.redINeg()}return this.point(t,I)}pointFromY(t,l=0){re(t instanceof S),re(l>>>0===l),t.red||(t=t.toRed(this.red));const I=this.solveX(t);if(l>=I.length)throw new Error("Invalid X coordinate index.");const Y=I[l];return this.point(Y,t)}isIsomorphic(t){if(re(t instanceof g),!t.p.eq(this.p))return!1;let l,I;try{[l,I]=this._scale(t)}catch{return!1}if(t.type==="short"){const Y=this.field(t.a).redMul(l.redSqr()),Z=this.field(t.b).redMul(I.redSqr());return this.a.eq(Y)&&this.b.eq(Z)}if(t.type==="mont"){const{a3:Y,bi:Z}=t,W=this.field(Y.redMul(Z)).redMul(l);return this.solveY2(W).isZero()}if(t.type==="edwards"){const Y=this.field(t.ad6).redMul(l);return this.solveY2(Y).isZero()}return!1}isIsogenous(t){return re(t instanceof g),!1}pointFromShort(t){if(re(t instanceof a),this.isIsomorphic(t.curve)){if(t.isInfinity())return this.point();const[l,I]=this._scale(t.curve),Y=this.field(t.x),Z=this.field(t.y),W=Y.redMul(l),ue=Z.redMul(I);return this.point(W,ue)}throw new Error("Not implemented.")}pointFromMont(t){if(re(t instanceof p),this.isIsomorphic(t.curve)){if(t.isInfinity())return this.point();const{a3:l,bi:I}=t.curve,[Y,Z]=this._scale(t.curve),W=t.x.redAdd(l).redMul(I),ue=t.y.redMul(I);return this.point(this.field(W).redMul(Y),this.field(ue).redMul(Z))}throw new Error("Not implemented.")}pointFromEdwards(t){if(re(t instanceof w),this.isIsomorphic(t.curve)){const{a:l,d:I,ad6:Y}=t.curve,[Z,W]=this._scale(t.curve);if(t.isInfinity())return this.point();if(t.x.isZero()){const xe=this.field(Y).redMul(Z);return this.point(xe,this.zero)}const{x:ue,y:pe,z:Ie}=t,te=l.redMuln(5),D=I.redMuln(5),F=I.redSub(l),he=D.redSub(l),we=I.redSub(te),Me=pe.redAdd(Ie),de=pe.redSub(Ie),Se=he.redMul(pe).redIAdd(we.redMul(Ie)),ye=de.redMuln(12),me=F.redMul(Me).redMul(Ie),Te=de.redMul(ue).redIMuln(4);return this.cpoint(this.field(Se).redMul(Z),this.field(ye),this.field(me).redMul(W),this.field(Te))}throw new Error("Not implemented.")}pointFromUniform(t){if(re(t instanceof S),this.z.isZero()||this.b.isZero())throw new Error("Not implemented.");if(!this.a.isZero())return this._sswu(t);if(!this.c.isZero())return this._svdw(t);throw new Error("Not implemented.")}pointToUniform(t,l){if(re(t instanceof a),re(l>>>0===l),this.z.isZero()||this.b.isZero())throw new Error("Not implemented.");if(t.isInfinity())throw new Error("Invalid point.");const I=(l>>>4&15)%this.torsion.length,Y=t.add(this.torsion[I]);return Re(()=>{if(!this.a.isZero())return this._sswui(Y,l);if(!this.c.isZero())return this._svdwi(Y,l);throw new Error("Not implemented.")})}mulAll(t,l){return super.mulAll(t,l).toP()}affinizeAll(t){const l=this.normalizeAll(t);for(let I=0;I<l.length;I++)l[I]=l[I].toP();return l}decodePoint(t){return a.decode(this,t)}encodeX(t){return re(t instanceof u),t.encodeX()}decodeEven(t){return a.decodeEven(this,t)}decodeSquare(t){return a.decodeSquare(this,t)}toShort(t,l,I=null){const[Y,Z]=this._short(t,l),W=new H({red:this.red,prime:this.prime,p:this.p,a:Y,b:Z,n:this.n,h:this.h});if(I!=null){const[,ue]=W._scale(this);ue.redIsOdd()!==I&&ue.redINeg()}this.g.isInfinity()||(W.g=W.pointFromShort(this.g));for(let ue=0;ue<this.h.word(0);ue++)W.torsion[ue]=W.pointFromShort(this.torsion[ue]);return W}toMont(t,l,I=null){const[Y,Z]=this._mont(t,l),W=new n({red:this.red,prime:this.prime,p:this.p,a:Y,b:Z,n:this.n,h:this.h});if(I!=null){const[,ue]=this._scale(W);ue.redIsOdd()!==I&&ue.redINeg()}this.g.isInfinity()||(W.g=W.pointFromShort(this.g));for(let ue=0;ue<this.h.word(0);ue++)W.torsion[ue]=W.pointFromShort(this.torsion[ue]);return W}toEdwards(t,l,I=null){const[Y,Z]=this._edwards(t,l),W=new K({red:this.red,prime:this.prime,p:this.p,a:Y,d:Z,n:this.n,h:this.h});if(I!=null){const[,ue]=this._scale(W);ue.redIsOdd()!==I&&ue.redINeg()}if(this.g.isInfinity()||(W.g=W.pointFromShort(this.g),W.g.normalize()),W.isComplete())for(let ue=0;ue<this.h.word(0);ue++)W.torsion[ue]=W.pointFromShort(this.torsion[ue]),W.torsion[ue].normalize();return W}pointFromJSON(t){return a.fromJSON(this,t)}toJSON(t){const l=super.toJSON(t);return l.a=this.a.fromRed().toJSON(),l.b=this.b.fromRed().toJSON(),this.c.isZero()||(l.c=this.c.fromRed().toJSON()),l}}class a extends u{constructor(t,l,I){re(t instanceof H),super(t,oe.AFFINE),this.x=this.curve.zero,this.y=this.curve.zero,this.inf=!0,l!=null&&this._init(l,I)}_init(t,l){re(t instanceof S),re(l instanceof S),this.x=t,this.y=l,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1}_getBeta(){if(!this.curve.endo)return null;if(this.pre&&this.pre.beta)return this.pre.beta;const t=this.x.redMul(this.curve.endo.beta),l=this.curve.point(t,this.y);return this.pre&&(l.pre=this.pre.map(I=>{const Y=I.x.redMul(this.curve.endo.beta);return this.curve.point(Y,I.y)}),this.pre.beta=l),l}_getJNAF(t){if(re(t instanceof a),this.inf||t.inf)return super._getJNAF(t);const l=[this,null,null,t];return this.y.eq(t.y)?(l[1]=this.add(t),l[2]=this.toJ().sub(t)):this.y.eq(t.y.redNeg())?(l[1]=this.toJ().add(t),l[2]=this.sub(t)):(l[1]=this.toJ().add(t),l[2]=this.toJ().sub(t)),l}clone(){return this.inf?this.curve.point():this.curve.point(this.x,this.y)}scale(t){return this.toJ().scale(t)}neg(){return this.inf?this:this.curve.point(this.x,this.y.redNeg())}add(t){if(re(t instanceof a),this.inf)return t;if(t.inf)return this;if(this.x.eq(t.x))return this.y.eq(t.y)?this.dbl():this.curve.point();if(this.y.eq(t.y)){const ue=this.x.redNeg().redISub(t.x),pe=this.y.redNeg();return this.curve.point(ue,pe)}const l=this.x.redSub(t.x),Y=this.y.redSub(t.y).redDiv(l),Z=Y.redSqr().redISub(this.x).redISub(t.x),W=Y.redMul(this.x.redSub(Z)).redISub(this.y);return this.curve.point(Z,W)}dbl(){if(this.inf)return this;if(this.y.isZero())return this.curve.point();const l=this.x.redSqr().redIMuln(3).redIAdd(this.curve.a),I=this.y.redMuln(2),Y=l.redDiv(I),Z=Y.redSqr().redISub(this.x).redISub(this.x),W=Y.redMul(this.x.redSub(Z)).redISub(this.y);return this.curve.point(Z,W)}dblp(t){return this.toJ().dblp(t).toP()}getX(){if(this.inf)throw new Error("Invalid point.");return this.x.fromRed()}getY(){if(this.inf)throw new Error("Invalid point.");return this.y.fromRed()}eq(t){return re(t instanceof a),this===t?!0:this.inf?t.inf:t.inf?!1:this.x.eq(t.x)&&this.y.eq(t.y)}cmp(t){return re(t instanceof a),this.inf&&!t.inf?-1:!this.inf&&t.inf?1:this.inf&&t.inf?0:this.order().cmp(t.order())||this.getX().cmp(t.getX())||this.getY().cmp(t.getY())}isInfinity(){return this.inf}isOrder2(){return this.inf?!1:this.y.isZero()}isOdd(){return this.inf?!1:this.y.redIsOdd()}isEven(){return this.inf?!1:this.y.redIsEven()}isSquare(){return this.inf?!1:this.y.redJacobi()!==-1}eqX(t){return re(t instanceof S),re(!t.red),this.inf?!1:this.getX().eq(t)}eqR(t){return re(t instanceof S),re(!t.red),re(!this.curve.n.isZero()),this.inf?!1:this.getX().imod(this.curve.n).eq(t)}mul(t){return super.mul(t).toP()}muln(t){return super.muln(t).toP()}mulBlind(t,l){return super.mulBlind(t,l).toP()}mulAdd(t,l,I){return super.mulAdd(t,l,I).toP()}mulH(){return super.mulH().toP()}div(t){return super.div(t).toP()}divn(t){return super.divn(t).toP()}divH(){return super.divH().toP()}toP(){return this}toJ(){return this.inf?this.curve.jpoint():this.curve.jpoint(this.x,this.y,this.curve.one)}encode(t){t==null&&(t=!0),re(typeof t=="boolean");const{fieldSize:l}=this.curve;if(this.inf)throw new Error("Invalid point.");if(t){const W=_e.alloc(1+l),ue=this.curve.encodeField(this.getX());return W[0]=2|this.y.redIsOdd(),ue.copy(W,1),W}const I=_e.alloc(1+l*2),Y=this.curve.encodeField(this.getX()),Z=this.curve.encodeField(this.getY());return I[0]=4,Y.copy(I,1),Z.copy(I,1+l),I}static decode(t,l){re(t instanceof H),re(l!=null&&l._isBuffer===!0);const I=t.fieldSize;if(l.length<1+I)throw new Error("Not a point.");const Y=l[0];switch(Y){case 2:case 3:{if(l.length!==1+I)throw new Error("Invalid point size for compressed.");const Z=t.decodeField(l.slice(1,1+I));if(Z.cmp(t.p)>=0)throw new Error("Invalid point.");const W=t.pointFromX(Z,Y===3);return re(!W.isInfinity()),W}case 4:case 6:case 7:{if(l.length!==1+I*2)throw new Error("Invalid point size for uncompressed.");const Z=t.decodeField(l.slice(1,1+I)),W=t.decodeField(l.slice(1+I,1+2*I));if(Z.cmp(t.p)>=0||W.cmp(t.p)>=0)throw new Error("Invalid point.");if(Y!==4&&Y!==(6|W.isOdd()))throw new Error("Invalid hybrid encoding.");const ue=t.point(Z,W);if(!ue.validate())throw new Error("Invalid point.");return re(!ue.isInfinity()),ue}default:throw new Error("Unknown point format.")}}encodeX(){return this.curve.encodeField(this.getX())}static decodeEven(t,l){re(t instanceof H);const I=t.decodeField(l);if(I.cmp(t.p)>=0)throw new Error("Invalid point.");return t.pointFromX(I,!1)}static decodeSquare(t,l){re(t instanceof H);const I=t.decodeField(l);if(I.cmp(t.p)>=0)throw new Error("Invalid point.");return t.pointFromX(I)}toJSON(t){if(this.inf)return[];const l=this.getX().toJSON(),I=this.getY().toJSON();return t===!0&&this.pre?[l,I,this.pre.toJSON()]:[l,I]}toPretty(){if(this.inf)return[];const t=this.curve.fieldSize*2,l=x(this.getX(),t),I=x(this.getY(),t);return[l,I]}static fromJSON(t,l){if(re(t instanceof H),re(Array.isArray(l)),re(l.length===0||l.length===2||l.length===3),l.length===0)return t.point();const I=S.fromJSON(l[0]),Y=S.fromJSON(l[1]),Z=t.point(I,Y);return l.length>2&&l[2]!=null&&(Z.pre=m.fromJSON(Z,l[2])),Z}[e](){return this.inf?"<ShortPoint: Infinity>":"<ShortPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+">"}}class s extends u{constructor(t,l,I,Y){re(t instanceof H),super(t,oe.JACOBIAN),this.x=this.curve.one,this.y=this.curve.one,this.z=this.curve.zero,this.zOne=!1,l!=null&&this._init(l,I,Y)}_init(t,l,I){re(t instanceof S),re(l instanceof S),re(I==null||I instanceof S),this.x=t,this.y=l,this.z=I||this.curve.one,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z.eq(this.curve.one)}clone(){return this.curve.jpoint(this.x,this.y,this.z)}validate(){const{a:t,b:l}=this.curve;if(this.isInfinity())return!0;if(this.zOne)return this.curve.validate(this.toP());const I=this.y.redSqr(),Y=this.x.redSqr().redMul(this.x),Z=this.z.redSqr(),W=Z.redSqr(),ue=W.redMul(Z),pe=Y.redIAdd(l.redMul(ue));return this.curve.zeroA||(this.curve.threeA?pe.redIAdd(W.redIMuln(-3).redMul(this.x)):pe.redIAdd(t.redMul(W).redMul(this.x))),I.eq(pe)}normalize(){if(this.zOne)return this;if(this.isInfinity())return this;const t=this.z.redInvert(),l=t.redSqr();return this.x=this.x.redMul(l),this.y=this.y.redMul(l).redMul(t),this.z=this.curve.one,this.zOne=!0,this}scale(t){if(re(t instanceof S),this.isInfinity())return this.curve.jpoint();const l=t.redSqr(),I=this.x.redMul(l),Y=this.y.redMul(l).redMul(t),Z=this.z.redMul(t);return this.curve.jpoint(I,Y,Z)}neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)}add(t){return re(t instanceof u),t.type===oe.AFFINE?this._mixedAdd(t):this._add(t)}_add(t){return re(t instanceof s),this.isInfinity()?t:t.isInfinity()?this:this.zOne?t._addJA(this):t.zOne?this._addJA(t):this._addJJ(t)}_mixedAdd(t){return re(t instanceof a),this.isInfinity()?t.toJ():t.isInfinity()?this:this._addJA(t)}_addJJ(t){const l=this.z.redSqr(),I=t.z.redSqr(),Y=this.x.redMul(I),Z=t.x.redMul(l),W=this.y.redMul(t.z).redMul(I),ue=t.y.redMul(this.z).redMul(l),pe=Z.redISub(Y),Ie=ue.redISub(W);if(pe.isZero())return Ie.isZero()?this.dbl():this.curve.jpoint();const te=pe.redSqr(),D=pe.redMul(te),F=Y.redMul(te),he=Ie.redSqr().redISub(D).redISub(F).redISub(F),we=Ie.redMul(F.redISub(he)).redISub(W.redMul(D)),Me=this.z.redMul(t.z).redMul(pe);return this.curve.jpoint(he,we,Me)}_addJA(t){const l=this.z.redSqr(),I=t.x.redMul(l),Y=t.y.redMul(this.z).redMul(l),Z=I.redISub(this.x),W=Y.redISub(this.y).redIMuln(2);if(Z.isZero())return W.isZero()?this.dbl():this.curve.jpoint();const ue=Z.redMuln(2).redSqr(),pe=Z.redMul(ue),Ie=this.x.redMul(ue),te=W.redSqr().redISub(pe).redISub(Ie).redISub(Ie),D=W.redMul(Ie.redISub(te)).redISub(this.y.redMul(pe).redIMuln(2)),F=this.z.redMul(Z).redIMuln(2);return this.curve.jpoint(te,D,F)}dbl(){return this.isInfinity()?this:this.y.isZero()?this.curve.jpoint():this.curve.zeroA?this._dbl0():this.curve.threeA?this._dbl3():this._dblJ()}_dblJ(){const t=this.x.redSqr(),l=this.y.redSqr(),I=this.z.redSqr(),Y=this.x.redMul(l).redIMuln(4),Z=t.redIMuln(3).redIAdd(this.curve.a.redMul(I.redSqr())),W=Z.redSqr().redISub(Y).redISub(Y),ue=W,pe=Z.redMul(Y.redISub(W)).redISub(l.redSqr().redIMuln(8)),Ie=this.y.redMul(this.z).redIMuln(2);return this.curve.jpoint(ue,pe,Ie)}_dbl0(){const t=this.x.redSqr(),l=this.y.redSqr(),I=l.redSqr(),Z=l.redIAdd(this.x).redSqr().redISub(t).redISub(I).redIMuln(2),W=t.redIMuln(3),pe=W.redSqr().redISub(Z).redISub(Z),Ie=W.redMul(Z.redISub(pe)).redISub(I.redIMuln(8)),te=this.y.redMul(this.z).redIMuln(2);return this.curve.jpoint(pe,Ie,te)}_dbl3(){const t=this.z.redSqr(),l=this.y.redSqr(),I=this.x.redMul(l),Y=this.x.redSub(t),Z=this.x.redAdd(t),W=Y.redMul(Z).redIMuln(3),ue=I.redIMuln(4),pe=ue.redMuln(2),Ie=l.redSqr().redIMuln(8),te=W.redSqr().redISub(pe),D=this.y.redAdd(this.z).redSqr().redISub(l).redISub(t),F=W.redMul(ue.redISub(te)).redISub(Ie);return this.curve.jpoint(te,F,D)}getX(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.x.fromRed()}getY(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.y.fromRed()}eq(t){if(re(t instanceof s),this===t)return!0;if(this.isInfinity())return t.isInfinity();if(t.isInfinity())return!1;if(this.z.eq(t.z))return this.x.eq(t.x)&&this.y.eq(t.y);const l=this.z.redSqr(),I=t.z.redSqr(),Y=this.x.redMul(I),Z=t.x.redMul(l);if(!Y.eq(Z))return!1;const W=l.redMul(this.z),ue=I.redMul(t.z),pe=this.y.redMul(ue),Ie=t.y.redMul(W);return pe.eq(Ie)}cmp(t){re(t instanceof s);const l=this.isInfinity(),I=t.isInfinity();return l&&!I?-1:!l&&I?1:l&&I?0:this.order().cmp(t.order())||this.getX().cmp(t.getX())||this.getY().cmp(t.getY())}isInfinity(){return this.z.isZero()}isOrder2(){return this.isInfinity()?!1:this.y.isZero()}isOdd(){return this.isInfinity()?!1:(this.normalize(),this.y.redIsOdd())}isEven(){return this.isInfinity()?!1:(this.normalize(),this.y.redIsEven())}isSquare(){return this.isInfinity()?!1:this.y.redMul(this.z).redJacobi()!==-1}eqX(t){if(re(t instanceof S),re(!t.red),this.isInfinity())return!1;const l=this.z.redSqr(),I=t.toRed(this.curve.red).redMul(l);return this.x.eq(I)}eqR(t){if(re(t instanceof S),re(!t.red),!this.curve.smallGap)return this.toP().eqR(t);if(this.isInfinity()||t.cmp(this.curve.p)>=0)return!1;const l=this.z.redSqr(),I=t.toRed(this.curve.red).redMul(l);if(this.x.eq(I))return!0;if(this.curve.highOrder||t.cmp(this.curve.pmodn)>=0)return!1;const Y=this.curve.redN.redMul(l);return I.redIAdd(Y),this.x.eq(I)}toP(){return this.isInfinity()?this.curve.point():(this.normalize(),this.curve.point(this.x,this.y))}toJ(){return this}encode(t){return this.toP().encode(t)}static decode(t,l){return a.decode(t,l).toJ()}encodeX(){return this.toP().encodeX()}static decodeEven(t,l){return a.decodeEven(t,l).toJ()}static decodeSquare(t,l){return a.decodeSquare(t,l).toJ()}toJSON(t){return this.toP().toJSON(t)}toPretty(){return this.toP().toPretty()}static fromJSON(t,l){return a.fromJSON(t,l).toJ()}[e](){return this.isInfinity()?"<JPoint: Infinity>":"<JPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}}class n extends g{constructor(t){super(p,"mont",t),this.a=S.fromJSON(t.a).toRed(this.red),this.b=S.fromJSON(t.b).toRed(this.red),this.bi=this.b.redInvert(),this.a2=this.a.redAdd(this.two),this.a24=this.a2.redMul(this.i4),this.a3=this.a.redMul(this.i3),this.a0=this.a.redMul(this.bi),this.b0=this.bi.redSqr(),this._finalize(t)}static _isomorphism(t,l,I){re(t instanceof S),re(l instanceof S),re(I instanceof S);const Y=t.clone(),Z=I.clone();if(l.redDiv(I).redJacobi()!==1)throw new Error("Invalid `b` coefficient.");return[Y,Z]}_short(t,l){const{a:I,b:Y,three:Z}=this,W=I.redSqr(),ue=W.redMul(I),pe=Y.redSqr(),Ie=pe.redMul(Y),te=Z.redSub(W),D=pe.redMuln(3),F=ue.redMuln(2).redISub(I.redMuln(9)),he=Ie.redMuln(27),we=te.redDiv(D),Me=F.redDiv(he);return t!=null?H._isomorphism(we,Me,t,l):[we,Me]}_mont(t){return n._isomorphism(this.a,this.b,t)}_edwards(t,l=!1){re(typeof l=="boolean");const{two:I,bi:Y}=this,Z=this.a.redAdd(I).redMul(Y),W=this.a.redSub(I).redMul(Y);return l&&Z.swap(W),t!=null?K._isomorphism(Z,W,t):[Z,W]}_scaleShort(t){re(t instanceof H);const[l,I]=t._scale(this);return[this.field(l.redInvert()),this.field(I.redInvert())]}_scaleMont(t){return re(t instanceof n),this.g.isInfinity()||t.g.isInfinity()?this.field(t.b).redDivSqrt(this.b):this.g.y.redDiv(this.field(t.g.y))}_scaleEdwards(t,l){re(t instanceof K);const I=t._scale(this,l);return this.field(I)}_solveY0(t){re(t instanceof S);const l=this.a0,I=this.b0,Y=t.redSqr();return Y.redMul(t).redIAdd(l.redMul(Y)).redIAdd(I.redMul(t))}_elligator2(t){const l=this.a0.redNeg(),I=this.one.redAdd(this.z.redMul(t.redSqr()));I.isZero()&&I.inject(this.one);const Y=l.redMul(I.redInvert()),Z=Y.redNeg().redISub(this.a0),W=this._solveY0(Y),ue=this._solveY0(Z),pe=W.redIsSquare()|0,Ie=[Y,Z][pe^1],te=[W,ue][pe^1].redSqrt();te.redIsOdd()!==t.redIsOdd()&&te.redINeg();const D=this.b.redMul(Ie),F=this.b.redMul(te);return this.point(D,F)}_invert2(t,l){const{x:I,y:Y}=t,Z=l&1,W=I.redMul(this.bi),ue=Y.redMul(this.bi),pe=W.redAdd(this.a0),Ie=W,te=[pe,Ie][Z].redINeg(),D=[Ie,pe][Z].redMul(this.z),F=te.redDivSqrt(D);return F.redIsOdd()!==ue.redIsOdd()&&F.redINeg(),F}isElliptic(){const t=this.a.redSqr();return!this.b.redMul(t.redSub(this.four)).isZero()}jinv(){const{a:t,three:l,four:I}=this,Y=t.redSqr(),W=Y.redSub(l).redPown(3).redIMuln(256),ue=Y.redSub(I);if(ue.isZero())throw new Error("Curve is not elliptic.");return W.redDiv(ue).fromRed()}point(t,l){return new p(this,t,l)}jpoint(t,l,I){return re(t==null&&l==null&&I==null),this.point()}xpoint(t,l){return new v(this,t,l)}solveY2(t){re(t instanceof S);const l=t.redSqr();return l.redMul(t).redIAdd(this.a.redMul(l)).redIAdd(t).redMul(this.bi)}validate(t){if(re(t instanceof p),t.isInfinity())return!0;const{x:l,y:I}=t,Y=this.solveY2(l);return I.redSqr().eq(Y)}pointFromX(t,l=null){re(t instanceof S),re(l==null||typeof l=="boolean"),t.red||(t=t.toRed(this.red));const I=this.solveY(t);if(l!=null){if(I.isZero()&&l)throw new Error("Invalid point.");I.redIsOdd()!==l&&I.redINeg()}return this.point(t,I)}isIsomorphic(t,l){if(re(t instanceof g),!t.p.eq(this.p))return!1;if(t.type==="mont"){const I=this.field(t.a),Y=this.field(t.b);return!this.a.eq(I)||this.b.isZero()?!1:Y.redDiv(this.b).redJacobi()===1}return t.isIsomorphic(this,l)}isIsogenous(t){return re(t instanceof g),t.type==="mont"?!1:t.isIsogenous(this)}pointFromShort(t){if(re(t instanceof a),this.isIsomorphic(t.curve)){if(t.isInfinity())return this.point();const{a3:l,b:I}=this,[Y,Z]=this._scale(t.curve),W=this.field(t.x).redMul(Y),ue=this.field(t.y).redMul(Z),pe=I.redMul(W).redISub(l),Ie=I.redMul(ue);return this.point(pe,Ie)}throw new Error("Not implemented.")}pointFromMont(t){if(re(t instanceof p),this.isIsomorphic(t.curve)){if(t.isInfinity())return this.point();const l=this._scale(t.curve),I=this.field(t.x),Y=this.field(t.y),Z=I,W=l.redMul(Y);return this.point(Z,W)}throw new Error("Not implemented.")}pointFromEdwards(t){re(t instanceof w),re(t.curve.p.eq(this.p));const l=this.field(t.x),I=this.field(t.y),Y=this.field(t.z);if(this.isIsogenous(t.curve)){if(t.isInfinity())return this.point();if(t.x.isZero())return this.point(this.zero,this.zero);const Z=Y.redSqr().redIMuln(2),W=I.redSqr(),ue=l.redSqr(),pe=Z.redISub(ue).redISub(W).redMul(I),Ie=ue.redMul(l);return this.cpoint(W,ue,pe,Ie)}if(this.isIsomorphic(t.curve,!0)){if(t.isInfinity())return this.point();if(t.x.isZero())return this.point(this.zero,this.zero);const Z=this._scale(t.curve,!0),W=I.redAdd(Y),ue=I.redSub(Y),pe=Z.redMul(Y).redMul(W),Ie=l.redMul(ue);return this.cpoint(W,ue,pe,Ie)}if(this.isIsomorphic(t.curve,!1)){if(t.isInfinity())return this.point();if(t.x.isZero())return this.point(this.zero,this.zero);const Z=this._scale(t.curve,!1),W=Y.redAdd(I),ue=Y.redSub(I),pe=Z.redMul(Y).redMul(W),Ie=l.redMul(ue);return this.cpoint(W,ue,pe,Ie)}throw new Error("Not implemented.")}pointFromUniform(t){if(re(t instanceof S),this.z.isZero()||this.a.isZero())throw new Error("Not implemented.");return this._elligator2(t)}pointToUniform(t,l){if(re(t instanceof p),re(l>>>0===l),this.z.isZero()||this.a.isZero())throw new Error("Not implemented.");if(t.isInfinity())throw new Error("Invalid point.");const I=(l>>>4&15)%this.torsion.length,Y=t.add(this.torsion[I]);return Re(()=>this._invert2(Y,l))}decodePoint(t,l){return p.decode(this,t,l)}encodeX(t){return re(t instanceof v),t.encode()}decodeX(t){return v.decode(this,t)}toShort(t,l,I=null){const[Y,Z]=this._short(t,l),W=new H({red:this.red,prime:this.prime,p:this.p,a:Y,b:Z,n:this.n,h:this.h});if(I!=null){const[,ue]=W._scale(this);ue.redIsOdd()!==I&&ue.redINeg()}this.g.isInfinity()||(W.g=W.pointFromMont(this.g));for(let ue=0;ue<this.h.word(0);ue++)W.torsion[ue]=W.pointFromMont(this.torsion[ue]);return W}toMont(t,l=null){const[I,Y]=this._mont(t),Z=new n({red:this.red,prime:this.prime,p:this.p,a:I,b:Y,n:this.n,h:this.h,z:this.z});if(l!=null){const W=Z._scale(this);W.redIsOdd()!==l&&W.redINeg()}this.g.isInfinity()||(Z.g=Z.pointFromMont(this.g));for(let W=0;W<this.h.word(0);W++)Z.torsion[W]=Z.pointFromMont(this.torsion[W]);return Z}toEdwards(t,l,I=null){const[Y,Z]=this._edwards(t,l),W=new K({red:this.red,prime:this.prime,p:this.p,a:Y,d:Z,n:this.n,h:this.h,z:this.z});if(I!=null){const ue=W._scale(this,l);ue.redIsOdd()!==I&&ue.redINeg()}if(this.g.isInfinity()||(W.g=W.pointFromMont(this.g),W.g.normalize()),W.isComplete())for(let ue=0;ue<this.h.word(0);ue++)W.torsion[ue]=W.pointFromMont(this.torsion[ue]),W.torsion[ue].normalize();return W}pointFromJSON(t){return p.fromJSON(this,t)}toJSON(t){const l=super.toJSON(t);return l.a=this.a.fromRed().toJSON(),l.b=this.b.fromRed().toJSON(),l}}class p extends u{constructor(t,l,I){re(t instanceof n),super(t,oe.AFFINE),this.x=this.curve.zero,this.y=this.curve.zero,this.inf=!0,l!=null&&this._init(l,I)}_init(t,l){re(t instanceof S),re(l instanceof S),this.x=t,this.y=l,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1}clone(){return this.inf?this.curve.point():this.curve.point(this.x,this.y)}scale(t){return this.clone()}randomize(t){return this.clone()}neg(){return this.inf?this:this.curve.point(this.x,this.y.redNeg())}add(t){if(re(t instanceof p),this.inf)return t;if(t.inf)return this;if(this.x.eq(t.x))return this.y.eq(t.y)?this.dbl():this.curve.point();const l=t.x.redSub(this.x),Y=t.y.redSub(this.y).redDiv(l),W=this.curve.b.redMul(Y.redSqr()).redISub(this.curve.a).redISub(this.x).redISub(t.x),ue=Y.redMul(this.x.redSub(W)).redISub(this.y);return this.curve.point(W,ue)}dbl(){if(this.inf)return this;if(this.y.isZero())return this.curve.point();const t=this.x.redSqr().redIMuln(3),l=this.curve.a.redMul(this.x).redIMuln(2),I=t.redIAdd(l).redIAdd(this.curve.one),Y=this.curve.b.redMul(this.y).redIMuln(2),Z=I.redDiv(Y),ue=this.curve.b.redMul(Z.redSqr()).redISub(this.curve.a).redISub(this.x).redISub(this.x),pe=Z.redMul(this.x.redSub(ue)).redISub(this.y);return this.curve.point(ue,pe)}getX(){if(this.inf)throw new Error("Invalid point.");return this.x.fromRed()}getY(){if(this.inf)throw new Error("Invalid point.");return this.y.fromRed()}eq(t){return re(t instanceof p),this===t?!0:this.inf?t.inf:t.inf?!1:this.x.eq(t.x)&&this.y.eq(t.y)}cmp(t){return re(t instanceof p),this.inf&&!t.inf?-1:!this.inf&&t.inf?1:this.inf&&t.inf?0:this.order().cmp(t.order())||this.getX().cmp(t.getX())||this.getY().cmp(t.getY())}isInfinity(){return this.inf}isOrder2(){return this.inf?!1:this.y.isZero()}isOdd(){return this.inf?!1:this.y.redIsOdd()}isEven(){return this.inf?!1:this.y.redIsEven()}toP(){return this}toJ(){return this}toX(){return this.inf?this.curve.xpoint():this.curve.xpoint(this.x,this.curve.one)}encode(){return this.toX().encode()}static decode(t,l,I){return re(t instanceof n),t.decodeX(l).toP(I)}toJSON(t){if(this.inf)return[];const l=this.getX().toJSON(),I=this.getY().toJSON();return[l,I]}toPretty(){if(this.inf)return[];const t=this.curve.fieldSize*2,l=x(this.getX(),t),I=x(this.getY(),t);return[l,I]}static fromJSON(t,l){if(re(t instanceof n),re(Array.isArray(l)),re(l.length===0||l.length===2||l.length===3),l.length===0)return t.point();const I=S.fromJSON(l[0]),Y=S.fromJSON(l[1]);return t.point(I,Y)}[e](){return this.inf?"<MontPoint: Infinity>":"<MontPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+">"}}class v extends u{constructor(t,l,I){re(t instanceof n),super(t,oe.PROJECTIVE),this.x=this.curve.one,this.z=this.curve.zero,l!=null&&this._init(l,I)}_init(t,l){re(t instanceof S),re(l==null||l instanceof S),this.x=t,this.z=l||this.curve.one,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red))}clone(){return this.curve.xpoint(this.x,this.z)}precompute(t,l){return this}validate(){if(this.isInfinity())return!0;const{x:t,z:l}=this,I=t.redSqr(),Y=I.redMul(t),Z=l.redSqr(),W=this.curve.a.redMul(I).redMul(l);return Y.redIAdd(W).redIAdd(t.redMul(Z)).redMul(this.curve.bi).redMul(l).redJacobi()!==-1}normalize(){return this.isInfinity()?this:this.z.eq(this.curve.one)?this:(this.x=this.x.redDiv(this.z),this.z=this.curve.one,this)}scale(t){if(re(t instanceof S),this.isInfinity())return this.curve.xpoint();const l=this.x.redMul(t),I=this.z.redMul(t);return this.curve.xpoint(l,I)}neg(){return this}dbl(){const l=this.x.redAdd(this.z).redSqr(),Y=this.x.redSub(this.z).redSqr(),Z=l.redSub(Y),W=l.redMul(Y),ue=Z.redMul(Y.redIAdd(this.curve.a24.redMul(Z)));return this.curve.xpoint(W,ue)}diffAddDbl(t,l){re(t instanceof v),re(l instanceof v);const I=t.x.redAdd(t.z),Y=I.redSqr(),Z=t.x.redSub(t.z),W=Z.redSqr(),ue=Y.redSub(W),pe=l.x.redAdd(l.z),te=l.x.redSub(l.z).redMul(I),D=pe.redMul(Z),F=this.z.redMul(te.redAdd(D).redSqr()),he=this.x.redMul(te.redISub(D).redSqr()),we=Y.redMul(W),Me=ue.redMul(W.redIAdd(this.curve.a24.redMul(ue)));return[this.curve.xpoint(we,Me),this.curve.xpoint(F,he)]}getX(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.x.fromRed()}getY(t){return this.toP(t).getY()}eq(t){if(re(t instanceof v),this===t)return!0;if(this.isInfinity())return t.isInfinity();if(t.isInfinity())return!1;if(this.z.eq(t.z))return this.x.eq(t.x);const l=this.x.redMul(t.z),I=t.x.redMul(this.z);return l.eq(I)}cmp(t){re(t instanceof v);const l=this.isInfinity(),I=t.isInfinity();return l&&!I?-1:!l&&I?1:l&&I?0:this.order().cmp(t.order())||this.getX().cmp(t.getX())}isInfinity(){return this.z.isZero()}isOrder2(){return this.isInfinity()?!1:this.x.isZero()}isOdd(){return!1}isEven(){return!1}hasTorsion(){return this.isInfinity()?!1:this.x.isZero()?!0:super.hasTorsion()}order(){try{return this.toP().order()}catch{return new S(1)}}jmul(t){re(t instanceof S),re(!t.red);const l=t.bitLength();let I=this.curve.xpoint(),Y=this;for(let Z=l-1;Z>=0;Z--)t.bit(Z)===0?[I,Y]=this.diffAddDbl(I,Y):[Y,I]=this.diffAddDbl(Y,I);return I}jmulBlind(t,l){return l?this.randomize(l).jmul(t):this.jmul(t)}jmulAdd(t,l,I){throw new Error("Not implemented.")}toP(t=null){return re(t==null||typeof t=="boolean"),this.isInfinity()?this.curve.point():(this.normalize(),this.curve.pointFromX(this.x,t))}toJ(){return this}toX(){return this}key(){if(this.isInfinity())return`${this.curve.uid}:oo`;this.normalize();const t=this.getX().toString(16);return`${this.curve.uid}:${t}`}encode(){return this.curve.encodeField(this.getX())}static decode(t,l){re(t instanceof n);const I=t.decodeField(l);I.iumaskn(t.fieldBits);const Y=t.xpoint(I,t.one);return re(!Y.isInfinity()),Y}toJSON(t){return this.toP().toJSON(t)}toPretty(){return this.toP().toPretty()}static fromJSON(t,l){return p.fromJSON(t,l).toX()}[e](){return this.isInfinity()?"<XPoint: Infinity>":"<XPoint: x="+this.x.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}}class K extends g{constructor(t){super(w,"edwards",t),this.a=S.fromJSON(t.a).toRed(this.red),this.d=S.fromJSON(t.d).toRed(this.red),this.s=S.fromJSON(t.s||"0").toRed(this.red),this.si=this.s.isZero()?this.zero:this.s.redInvert(),this.k=this.d.redMuln(2),this.smi=-this.d.redNeg().word(0),this.ad6=this.a.redAdd(this.d).redMul(this.i6),this.twisted=!this.a.eq(this.one),this.oneA=this.a.eq(this.one),this.mOneA=this.a.eq(this.one.redNeg()),this.smallD=this.prime!=null&&this.d.redNeg().length===1,this.alt=null,this._finalize(t)}static _isomorphism(t,l,I){re(t instanceof S),re(l instanceof S),re(I instanceof S);const Y=I.clone(),Z=I.redMul(l).redDiv(t);if(t.redDiv(I).redJacobi()!==1)throw new Error("Invalid `a` coefficient.");return[Y,Z]}_short(t,l){const{a:I,d:Y}=this,Z=I.redSqr(),W=Z.redMul(I),ue=Y.redSqr(),pe=ue.redMul(Y),Ie=I.redMul(Y).redIMuln(14),te=Z.redMul(Y),D=I.redMul(ue),F=te.redIAdd(D).redIMuln(33),he=Z.redAdd(Ie).redIAdd(ue).redDivn(-48),we=F.redISub(W).redISub(pe).redDivn(864);return t!=null?H._isomorphism(he,we,t,l):[he,we]}_mont(t,l=!1){re(typeof l=="boolean");let I,Y;l?(I=this.d.redAdd(this.a),Y=this.d.redSub(this.a)):(I=this.a.redAdd(this.d),Y=this.a.redSub(this.d));const Z=Y.redInvert(),W=I.redMuln(2).redMul(Z),ue=Z.redMuln(4);return t!=null?n._isomorphism(W,ue,t):[W,ue]}_edwards(t){return K._isomorphism(this.a,this.d,t)}_scaleShort(t){re(t instanceof H);const[l,I]=t._scale(this);return[this.field(l.redInvert()),this.field(I.redInvert())]}_scaleMont(t,l=!1){if(re(t instanceof n),re(typeof l=="boolean"),this.g.isInfinity()||t.g.isInfinity()){const[Y]=t._edwards(null,l);return this.field(Y).redDivSqrt(this.a)}const I=t.g.x.redDiv(t.g.y);return this.g.x.redDiv(this.field(I))}_scaleEdwards(t){return re(t instanceof K),this.g.isInfinity()||t.g.isInfinity()?this.field(t.a).redDivSqrt(this.a):this.g.x.redDiv(this.field(t.g.x))}_mulA(t){return re(t instanceof S),this.oneA?t.clone():this.mOneA?t.redNeg():this.a.redMul(t)}_mulD(t){return re(t instanceof S),this.smallD?t.redMuln(this.smi):this.d.redMul(t)}_elligator1(t){const{s:l,si:I,i2:Y,one:Z,two:W}=this,ue=I.redSqr().redIMuln(2),pe=l.redSqr().redMul(Y),Ie=pe.redSqr(),te=ue.redAdd(pe),D=te.redSqr().redISub(W),F=ue.redSub(Z),he=Z.redSub(t),we=Z.redAdd(t),Me=we.isZero()?we:he.redDiv(we),de=Me.redSqr(),Se=de.redMul(Me),me=Se.redMul(de).redAdd(D.redMul(Se)).redIAdd(Me),Te=this.field(me.redJacobi()),xe=this.field(de.redAdd(Ie).redJacobi()),Pe=Te.redMul(xe),Ce=Te.redMul(Me),Ke=Te.redMul(me).redSqrt().redMul(Pe),qe=Z.redAdd(Ce),Ye=te.redMul(Ce),$e=qe.redSqr(),Ge=F.redMul(l).redMul(Ce).redMul(qe),Qe=Me.isZero()?this.one:Ke,tt=Ye.redSub($e),nt=Ye.redAdd($e);return this.cpoint(Ge,Qe,tt,nt)}_invert1(t,l){const{s:I,si:Y,i2:Z,one:W}=this,{x:ue,y:pe,z:Ie}=t,te=l&1,D=Y.redSqr().redIMuln(2),F=I.redSqr().redMul(Z),he=F.redSqr(),we=D.redAdd(F),Me=D.redSub(W),de=pe.redSub(Ie),Se=pe.redAdd(Ie).redIMuln(2),ye=Se.isZero()?Se:de.redDiv(Se),me=W.redAdd(ye.redMul(we)),Pe=me.redSqr().redISub(W).redSqrt().redSub(me),Ce=W.redAdd(Pe),qe=Me.redMul(I).redMul(Pe).redMul(Ce).redMul(ue.redMul(Ie)),Ye=Pe.redSqr().redIAdd(he),Ge=this.field(qe.redMul(Ye).redJacobi()).redMul(Pe),Qe=W.redSub(Ge),tt=W.redAdd(Ge),nt=tt.isZero()?tt:Qe.redDiv(tt);return nt.redIsOdd()!==Boolean(te)&&nt.redINeg(),nt}_alt(){return this.alt||(this.alt=this.toMont()),this.alt}isElliptic(){const t=this.a.redMul(this.d),l=this.a.redSub(this.d);return!t.redMul(l).isZero()}jinv(){const{a:t,d:l}=this,I=t.redMul(l),Y=t.redSub(l).redPown(4),Z=t.redSqr(),W=l.redSqr(),pe=Z.redAdd(I.redMuln(14)).redIAdd(W).redPown(3).redIMuln(16),Ie=I.redMul(Y);if(Ie.isZero())throw new Error("Curve is not elliptic.");return pe.redDiv(Ie).fromRed()}isComplete(){return this.a.redJacobi()===1&&this.d.redJacobi()===-1}point(t,l,I,Y){return new w(this,t,l,I,Y)}jpoint(t,l,I){return re(t==null&&l==null&&I==null),this.point()}cpoint(t,l,I,Y){re(t instanceof S),re(l instanceof S),re(I instanceof S),re(Y instanceof S);const Z=t.redMul(Y),W=I.redMul(l),ue=l.redMul(Y),pe=t.redMul(I);return this.point(Z,W,ue,pe)}solveX2(t){re(t instanceof S);const l=t.redSqr(),I=this._mulD(l).redISub(this.a);return l.redISub(this.one).redDiv(I)}solveX(t){const l=t.redSqr(),I=this._mulD(l).redISub(this.a);return l.redISub(this.one).redDivSqrt(I)}solveY2(t){re(t instanceof S);const l=t.redSqr(),I=this._mulA(l).redISub(this.one),Y=this._mulD(l).redISub(this.one);return I.redDiv(Y)}solveY(t){const l=t.redSqr(),I=this._mulA(l).redISub(this.one),Y=this._mulD(l).redISub(this.one);return I.redDivSqrt(Y)}validate(t){if(re(t instanceof w),t.zOne){const D=t.x.redSqr(),F=t.y.redSqr(),he=this._mulD(D).redMul(F),we=this._mulA(D).redIAdd(F),Me=this.one.redAdd(he),de=t.t,Se=t.x.redMul(t.y);return we.eq(Me)&&de.eq(Se)}const l=t.x.redSqr(),I=t.y.redSqr(),Y=t.z.redSqr(),Z=Y.redSqr(),W=this._mulD(l).redMul(I),ue=this._mulA(l).redIAdd(I).redMul(Y),pe=Z.redIAdd(W),Ie=t.t.redMul(t.z),te=t.x.redMul(t.y);return ue.eq(pe)&&Ie.eq(te)}pointFromX(t,l=null){re(t instanceof S),re(l==null||typeof l=="boolean"),t.red||(t=t.toRed(this.red));const I=this.solveY(t);if(l!=null){if(I.isZero()&&l)throw new Error("Invalid point.");I.redIsOdd()!==l&&I.redINeg()}return this.point(t,I)}pointFromY(t,l=null){re(t instanceof S),re(l==null||typeof l=="boolean"),t.red||(t=t.toRed(this.red));const I=this.solveX(t);if(l!=null){if(I.isZero()&&l)throw new Error("Invalid point.");I.redIsOdd()!==l&&I.redINeg()}return this.point(I,t)}isIsomorphic(t,l=!1){if(re(t instanceof g),re(typeof l=="boolean"),!t.p.eq(this.p))return!1;if(t.type==="short")return t.isIsomorphic(this);if(t.type==="mont"){const I=this.field(t.a);let Y,Z;return l?(Y=this.d.redAdd(this.a),Z=this.d.redSub(this.a)):(Y=this.a.redAdd(this.d),Z=this.a.redSub(this.d)),I.redMul(Z).eq(Y.redIMuln(2))}if(t.type==="edwards"){const I=this.field(t.a),Y=this.field(t.d);return this.a.redMul(Y).eq(I.redMul(this.d))}return!1}isIsogenous(t){if(re(t instanceof g),!t.p.eq(this.p))return!1;if(t.type==="mont"){if(!this.a.eq(this.one))return!1;const l=this.field(t.a),I=this.field(t.b),Y=this.two.redSub(this.d.redMuln(4));return l.eq(Y)&&I.eq(this.one)}if(t.type==="edwards"){const l=this.field(t.a),I=this.field(t.d);return l.eq(this.a.redNeg())&&I.eq(this.d.redSub(this.a))}return!1}pointFromShort(t){if(re(t instanceof a),this.isIsomorphic(t.curve)){if(t.isInfinity())return this.point();if(t.y.isZero())return this.point(this.zero,this.one.redNeg());const{a:l,d:I}=this,[Y,Z]=this._scale(t.curve),W=l.redMuln(5),ue=I.redMuln(5),pe=this.field(t.x).redMul(Y),Ie=this.field(t.y).redMul(Z),te=pe.redMuln(6),D=pe.redMuln(12),F=te.redSub(l).redISub(I),he=Ie.redMuln(6),we=D.redSub(W).redIAdd(I),Me=D.redAdd(l).redISub(ue);return this.cpoint(F,he,we,Me)}throw new Error("Not implemented.")}pointFromMont(t){re(t instanceof p),re(t.curve.p.eq(this.p));const l=this.field(t.x),I=this.field(t.y);if(this.isIsogenous(t.curve)){if(t.isInfinity())return this.point();if(t.x.isZero())return this.point();const Y=l.redSqr(),Z=Y.redMul(l),W=Z.redMul(l),ue=W.redMul(l),pe=I.redSqr(),Ie=I.redMuln(4),te=Y.redSub(this.one),D=Y.redMuln(2),F=pe.redMuln(4),he=Z.redIMuln(2),we=l.redMul(pe).redIMuln(4),Me=Y.redMul(pe).redIMuln(2),de=pe.redIMuln(2),Se=Ie.redMul(te),ye=W.redISub(D).redIAdd(F).redIAdd(this.one),me=ue.redSub(he).redISub(we).redIAdd(l).redINeg(),Te=ue.redISub(Me).redISub(he).redISub(de).redIAdd(l);return this.cpoint(Se,ye,me,Te).divn(4)}if(this.isIsomorphic(t.curve,!0)){if(t.isInfinity())return this.point();if(t.x.isZero())return this.point(this.zero,this.one.redNeg());const Z=this._scale(t.curve,!0).redMul(l),W=I,ue=l.redAdd(this.one),pe=l.redSub(this.one);return this.cpoint(Z,W,ue,pe)}if(this.isIsomorphic(t.curve,!1)){if(t.isInfinity())return this.point();if(t.x.isZero())return this.point(this.zero,this.one.redNeg());const Z=this._scale(t.curve,!1).redMul(l),W=I,ue=l.redSub(this.one),pe=l.redAdd(this.one);return this.cpoint(Z,W,ue,pe)}throw new Error("Not implemented.")}pointFromEdwards(t){re(t instanceof w),re(t.curve.p.eq(this.p));const l=this.field(t.curve.a),I=this.field(t.x),Y=this.field(t.y),Z=this.field(t.z),W=this.field(t.t);if(this.isIsogenous(t.curve)){const ue=I.redMul(Y),pe=I.redSqr(),Ie=Y.redSqr(),te=Z.redSqr(),D=l.redMul(pe),F=ue.redIMuln(2),he=Ie.redSub(D),we=Ie.redAdd(D),Me=te.redIMuln(2).redISub(we),de=this.cpoint(F,he,we,Me);return this.twisted?de:de.divn(4)}if(this.isIsomorphic(t.curve)){const ue=this._scale(t.curve),pe=ue.redMul(I),Ie=Y,te=Z,D=ue.redMul(W);return this.point(pe,Ie,te,D)}throw new Error("Not implemented.")}pointFromUniform(t,l=null){re(t instanceof S),re(t.red===this.red),re(l==null||l instanceof n),l||(l=this._alt());const I=l.field(t),Y=l.pointFromUniform(I);return this.pointFromMont(Y)}pointToUniform(t,l,I=null){re(t instanceof w),re(l>>>0===l),re(I==null||I instanceof n),I||(I=this._alt());const Y=(l>>4&15)%this.torsion.length,Z=t.add(this.torsion[Y]),W=I.pointFromEdwards(Z),ue=I.pointToUniform(W,l&15);return this.field(ue)}pointFromHash(t,l,I=null){re(I==null||I instanceof n),I||(I=this._alt());const Y=I.pointFromHash(t,l);return this.pointFromMont(Y)}pointToHash(t,l,I,Y=null){re(t instanceof w),re(l>>>0===l),re(Y==null||Y instanceof n),Y||(Y=this._alt());const Z=l%this.torsion.length,W=t.add(this.torsion[Z]),ue=Y.pointFromEdwards(W);return Y.pointToHash(ue,0,I)}decodePoint(t){return w.decode(this,t)}toShort(t,l,I=null){const[Y,Z]=this._short(t,l),W=new H({red:this.red,prime:this.prime,p:this.p,a:Y,b:Z,n:this.n,h:this.h});if(I!=null){const[,ue]=W._scale(this);ue.redIsOdd()!==I&&ue.redINeg()}this.g.isInfinity()||(W.g=W.pointFromEdwards(this.g));for(let ue=0;ue<this.h.word(0);ue++)W.torsion[ue]=W.pointFromEdwards(this.torsion[ue]);return W}toMont(t,l,I=null){const[Y,Z]=this._mont(t,l),W=new n({red:this.red,prime:this.prime,p:this.p,a:Y,b:Z,n:this.n,h:this.h,z:this.z});if(I!=null){const ue=this._scale(W,l);ue.redIsOdd()!==I&&ue.redINeg()}this.g.isInfinity()||(W.g=W.pointFromEdwards(this.g));for(let ue=0;ue<this.h.word(0);ue++)W.torsion[ue]=W.pointFromEdwards(this.torsion[ue]);return W}toEdwards(t,l=null){const[I,Y]=this._edwards(t),Z=new K({red:this.red,prime:this.prime,p:this.p,a:I,d:Y,n:this.n,h:this.h,z:this.z});if(l!=null){const W=Z._scale(this);W.redIsOdd()!==l&&W.redINeg()}if(this.g.isInfinity()||(Z.g=Z.pointFromEdwards(this.g),Z.g.normalize()),Z.isComplete())for(let W=0;W<this.h.word(0);W++)Z.torsion[W]=Z.pointFromEdwards(this.torsion[W]),Z.torsion[W].normalize();return Z}pointFromJSON(t){return w.fromJSON(this,t)}toJSON(t){const l=super.toJSON(t);return l.a=this.a.fromRed().toJSON(),l.d=this.d.fromRed().toJSON(),this.s.isZero()||(l.s=this.s.fromRed().toJSON()),l}}class w extends u{constructor(t,l,I,Y,Z){re(t instanceof K),super(t,oe.EXTENDED),this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0,l!=null&&this._init(l,I,Y,Z)}_init(t,l,I,Y){re(t instanceof S),re(l instanceof S),re(I==null||I instanceof S),re(Y==null||Y instanceof S),this.x=t,this.y=l,this.z=I||this.curve.one,this.t=Y||null,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z.eq(this.curve.one),this._check(),this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redDiv(this.z)))}_check(){if(this.z.isZero())throw new Error("Invalid point.")}clone(){return this.curve.point(this.x,this.y,this.z,this.t)}normalize(){if(this.zOne)return this;const t=this.z.redInvert();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t=this.t.redMul(t),this.z=this.curve.one,this.zOne=!0,this}scale(t){re(t instanceof S);const l=this.x.redMul(t),I=this.y.redMul(t),Y=this.z.redMul(t),Z=this.t.redMul(t);return this.curve.point(l,I,Y,Z)}neg(){const t=this.x.redNeg(),l=this.y,I=this.z,Y=this.t.redNeg();return this.curve.point(t,l,I,Y)}add(t){return re(t instanceof w),this.isInfinity()?t:t.isInfinity()?this:this.zOne?t._add(this):this._add(t)}_add(t){return this.curve.mOneA?this._addM1(t):this._addA(t)}_addM1(t){const l=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),I=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),Y=this.t.redMul(this.curve.k).redMul(t.t),Z=t.zOne?this.z.redAdd(this.z):this.z.redMul(t.z).redIMuln(2),W=I.redSub(l),ue=Z.redSub(Y),pe=Z.redIAdd(Y),Ie=I.redIAdd(l),te=W.redMul(ue),D=pe.redMul(Ie),F=W.redMul(Ie),he=ue.redMul(pe);return this.curve.point(te,D,he,F)}_addA(t){const l=this.x.redMul(t.x),I=this.y.redMul(t.y),Y=this.curve._mulD(this.t).redMul(t.t),Z=t.zOne?this.z.clone():this.z.redMul(t.z),ue=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(l).redISub(I),pe=Z.redSub(Y),Ie=Z.redIAdd(Y),te=I.redISub(this.curve._mulA(l)),D=ue.redMul(pe),F=Ie.redMul(te),he=ue.redMul(te),we=pe.redMul(Ie);return this.curve.point(D,F,we,he)}dbl(){return this.isInfinity()?this:this._dbl()}_dbl(){const t=this.x.redSqr(),l=this.y.redSqr(),I=this.zOne?this.curve.two:this.z.redSqr().redIMuln(2),Y=this.curve._mulA(t),Z=this.x.redAdd(this.y).redSqr().redISub(t).redISub(l),W=Y.redAdd(l),ue=W.redSub(I),pe=Y.redISub(l),Ie=Z.redMul(ue),te=W.redMul(pe),D=Z.redMul(pe),F=ue.redMul(W);return this.curve.point(Ie,te,F,D)}getX(){return this.normalize(),this.x.fromRed()}getY(){return this.normalize(),this.y.fromRed()}eq(t){if(re(t instanceof w),re(!this.z.isZero()),re(!t.z.isZero()),this===t)return!0;if(this.z.eq(t.z))return this.x.eq(t.x)&&this.y.eq(t.y);const l=this.x.redMul(t.z),I=t.x.redMul(this.z);if(!l.eq(I))return!1;const Y=this.y.redMul(t.z),Z=t.y.redMul(this.z);return Y.eq(Z)}cmp(t){return re(t instanceof w),this.order().cmp(t.order())||this.getY().cmp(t.getY())||this.getX().cmp(t.getX())}isInfinity(){return re(!this.z.isZero()),this.x.isZero()?this.y.eq(this.z):!1}isOrder2(){return this.isInfinity()?!1:this.x.isZero()}isOdd(){return this.normalize(),this.x.redIsOdd()}isEven(){return this.normalize(),this.x.redIsEven()}toP(){return this.normalize()}toJ(){return this}encode(){const t=this.getY();return t.setn(this.curve.signBit,this.x.redIsOdd()),this.curve.encodeAdjusted(t)}static decode(t,l){re(t instanceof K);const I=t.decodeAdjusted(l),Y=I.testn(t.signBit)!==0;if(I.setn(t.signBit,0),I.cmp(t.p)>=0)throw new Error("Invalid point.");return t.pointFromY(I,Y)}toJSON(t){if(this.isInfinity())return[];const l=this.getX().toJSON(),I=this.getY().toJSON();return t===!0&&this.pre?[l,I,this.pre.toJSON()]:[l,I]}toPretty(){const t=this.curve.fieldSize*2,l=x(this.getX(),t),I=x(this.getY(),t);return[l,I]}static fromJSON(t,l){if(re(t instanceof K),re(Array.isArray(l)),re(l.length===0||l.length===2||l.length===3),l.length===0)return t.point();const I=S.fromJSON(l[0]),Y=S.fromJSON(l[1]),Z=t.point(I,Y);return l.length>2&&l[2]!=null&&(Z.pre=m.fromJSON(Z,l[2])),Z}[e](){return this.isInfinity()?"<EdwardsPoint: Infinity>":"<EdwardsPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}}class m{constructor(){this.naf=null,this.windows=null,this.doubles=null,this.blinding=null,this.beta=null}map(t){re(typeof t=="function");const l=new this.constructor;return this.naf&&(l.naf=this.naf.map(t)),this.doubles&&(l.doubles=this.doubles.map(t)),l}toJSON(){return{naf:this.naf?this.naf.toJSON():null,windows:this.windows?this.windows.toJSON():null,doubles:this.doubles?this.doubles.toJSON():null,blinding:this.blinding?this.blinding.toJSON():je}}fromJSON(t,l){return re(t instanceof u),re(l&&typeof l=="object"),l.naf!=null&&(this.naf=_.fromJSON(t,l.naf)),l.windows!=null&&(this.windows=E.fromJSON(t,l.windows)),l.doubles!=null&&(this.doubles=d.fromJSON(t,l.doubles)),l.blinding!=null&&(this.blinding=T.fromJSON(t,l.blinding)),this}static fromJSON(t,l){return new this().fromJSON(t,l)}}class _{constructor(t,l){this.width=t,this.points=l}map(t){re(typeof t=="function");const{width:l}=this,I=[];for(const Y of this.points)I.push(t(Y));return new this.constructor(l,I)}toJSON(){return{width:this.width,points:this.points.slice(1).map(t=>t.toJSON())}}static fromJSON(t,l){re(t instanceof u),re(l&&typeof l=="object"),re(l.width>>>0===l.width),re(Array.isArray(l.points));const{curve:I}=t,{width:Y}=l,Z=[t];for(const W of l.points)Z.push(I.pointFromJSON(W));return new this(Y,Z)}}class E{constructor(t,l,I){this.width=t,this.bits=l,this.points=I}toJSON(){return{width:this.width,bits:this.bits,points:this.points.slice(1).map(t=>t.toJSON())}}static fromJSON(t,l){re(t instanceof u),re(l&&typeof l=="object"),re(l.width>>>0===l.width),re(l.bits>>>0===l.bits),re(Array.isArray(l.points));const{curve:I}=t,{width:Y,bits:Z}=l,W=[t];for(const ue of l.points)W.push(I.pointFromJSON(ue));return new this(Y,Z,W)}}class d{constructor(t,l){this.step=t,this.points=l}map(t){re(typeof t=="function");const{step:l}=this,I=[];for(const Y of this.points)I.push(t(Y));return new this.constructor(l,I)}toJSON(){return{step:this.step,points:this.points.slice(1).map(t=>t.toJSON())}}static fromJSON(t,l){re(t instanceof u),re(l&&typeof l=="object"),re(l.step>>>0===l.step),re(Array.isArray(l.points));const{curve:I}=t,{step:Y}=l,Z=[t];for(const W of l.points)Z.push(I.pointFromJSON(W));return new this(Y,Z)}}class T{constructor(t,l){this.blind=t,this.unblind=l}toJSON(){return{blind:this.blind.toJSON(),unblind:this.unblind.toJSON()}}static fromJSON(t,l){re(t instanceof u),re(l&&typeof l=="object");const{curve:I}=t,Y=S.fromJSON(l.blind),Z=I.pointFromJSON(l.unblind);return new this(Y,Z)}}class N{constructor(t,l,I,Y){this.beta=t,this.lambda=l,this.basis=I,this.pre=Y}toJSON(){return{beta:this.beta.fromRed().toJSON(),lambda:this.lambda.toJSON(),basis:[this.basis[0].toJSON(),this.basis[1].toJSON()],pre:[this.pre[0],this.pre[1].toJSON(),this.pre[2].toJSON()]}}static fromJSON(t,l){re(t instanceof g),re(l&&typeof l=="object"),re(Array.isArray(l.basis)),re(Array.isArray(l.pre)),re(l.basis.length===2),re(l.pre.length===3),re(l.pre[0]>>>0===l.pre[0]);const I=S.fromJSON(l.beta).toRed(t.red),Y=S.fromJSON(l.lambda),Z=[R.fromJSON(l.basis[0]),R.fromJSON(l.basis[1])],W=[l.pre[0],S.fromJSON(l.pre[1]),S.fromJSON(l.pre[2])];return new this(I,Y,Z,W)}}class R{constructor(t,l){this.a=t,this.b=l}toJSON(){return{a:this.a.toJSON(),b:this.b.toJSON()}}static fromJSON(t){re(t&&typeof t=="object");const l=S.fromJSON(t.a),I=S.fromJSON(t.b);return new this(l,I)}}class O extends H{constructor(t){super({id:"P192",ossl:"prime192v1",type:"short",endian:"be",hash:"SHA256",prime:"p192",p:["ffffffff ffffffff ffffffff fffffffe","ffffffff ffffffff"],a:["ffffffff ffffffff ffffffff fffffffe","ffffffff fffffffc"],b:["64210519 e59c80e7 0fa7e9ab 72243049","feb8deec c146b9b1"],n:["ffffffff ffffffff ffffffff 99def836","146bc9b1 b4d22831"],h:"1",z:"-5",g:[["188da80e b03090f6 7cbf20eb 43a18800","f4ff0afd 82ff1012"],["07192b95 ffc8da78 631011ed 6b24cdd5","73f977a1 1e794811"],t]})}}class A extends H{constructor(t){super({id:"P224",ossl:"secp224r1",type:"short",endian:"be",hash:"SHA256",prime:"p224",p:["ffffffff ffffffff ffffffff ffffffff","00000000 00000000 00000001"],a:["ffffffff ffffffff ffffffff fffffffe","ffffffff ffffffff fffffffe"],b:["b4050a85 0c04b3ab f5413256 5044b0b7","d7bfd8ba 270b3943 2355ffb4"],n:["ffffffff ffffffff ffffffff ffff16a2","e0b8f03e 13dd2945 5c5c2a3d"],h:"1",z:"1f",g:[["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3","56c21122 343280d6 115c1d21"],["bd376388 b5f723fb 4c22dfe6 cd4375a0","5a074764 44d58199 85007e34"],t]})}}class y extends H{constructor(t){super({id:"P256",ossl:"prime256v1",type:"short",endian:"be",hash:"SHA256",prime:null,p:["ffffffff 00000001 00000000 00000000","00000000 ffffffff ffffffff ffffffff"],a:["ffffffff 00000001 00000000 00000000","00000000 ffffffff ffffffff fffffffc"],b:["5ac635d8 aa3a93e7 b3ebbd55 769886bc","651d06b0 cc53b0f6 3bce3c3e 27d2604b"],n:["ffffffff 00000000 ffffffff ffffffff","bce6faad a7179e84 f3b9cac2 fc632551"],h:"1",z:"-a",g:[["6b17d1f2 e12c4247 f8bce6e5 63a440f2","77037d81 2deb33a0 f4a13945 d898c296"],["4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16","2bce3357 6b315ece cbb64068 37bf51f5"],t]})}}class U extends H{constructor(t){super({id:"P384",ossl:"secp384r1",type:"short",endian:"be",hash:"SHA384",prime:null,p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff fffffffe","ffffffff 00000000 00000000 ffffffff"],a:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff fffffffe","ffffffff 00000000 00000000 fffffffc"],b:["b3312fa7 e23ee7e4 988e056b e3f82d19","181d9c6e fe814112 0314088f 5013875a","c656398d 8a2ed19d 2a85c8ed d3ec2aef"],n:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff c7634d81 f4372ddf","581a0db2 48b0a77a ecec196a ccc52973"],h:"1",z:"-c",g:[["aa87ca22 be8b0537 8eb1c71e f320ad74","6e1d3b62 8ba79b98 59f741e0 82542a38","5502f25d bf55296c 3a545e38 72760ab7"],["3617de4a 96262c6f 5d9e98bf 9292dc29","f8f41dbd 289a147c e9da3113 b5f0b8c0","0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"],t]})}}class q extends H{constructor(t){super({id:"P521",ossl:"secp521r1",type:"short",endian:"be",hash:"SHA512",prime:"p521",p:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff"],a:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","fffffffc"],b:["00000051 953eb961 8e1c9a1f 929a21a0","b68540ee a2da725b 99b315f3 b8b48991","8ef109e1 56193951 ec7e937b 1652c0bd","3bb1bf07 3573df88 3d2c34f1 ef451fd4","6b503f00"],n:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","fffffffa 51868783 bf2f966b 7fcc0148","f709a5d0 3bb5c9b8 899c47ae bb6fb71e","91386409"],h:"1",z:"-4",g:[["000000c6 858e06b7 0404e9cd 9e3ecb66","2395b442 9c648139 053fb521 f828af60","6b4d3dba a14b5e77 efe75928 fe1dc127","a2ffa8de 3348b3c1 856a429b f97e7e31","c2e5bd66"],["00000118 39296a78 9a3bc004 5c8a5fb4","2c7d1bd9 98f54449 579b4468 17afbd17","273e662c 97ee7299 5ef42640 c550b901","3fad0761 353c7086 a272c240 88be9476","9fd16650"],t]})}}class k extends H{constructor(t){super({id:"SECP256K1",ossl:"secp256k1",type:"short",endian:"be",hash:"SHA256",prime:"k256",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe fffffc2f"],a:"0",b:"7",n:["ffffffff ffffffff ffffffff fffffffe","baaedce6 af48a03b bfd25e8c d0364141"],h:"1",z:"1",c:["0a2d2ba9 3507f1df 233770c2 a797962c","c61f6d15 da14ecd4 7d8d27ae 1cd5f852"],g:[["79be667e f9dcbbac 55a06295 ce870b07","029bfcdb 2dce28d9 59f2815b 16f81798"],["483ada77 26a3c465 5da4fbfc 0e1108a8","fd17b448 a6855419 9c47d08f fb10d4b8"],t],endo:{beta:["7ae96a2b 657c0710 6e64479e ac3434e9","9cf04975 12f58995 c1396c28 719501ee"],lambda:["5363ad4c c05c30e0 a5261c02 8812645a","122e22ea 20816678 df02967c 1b23bd72"],basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],pre:[384,["3086d221 a7d46bcd e86c90e4 9284eb15","3daa8a14 71e8ca7f e893209a 45dbb031"],["-","e4437ed6 010e8828 6f547fa9 0abfe4c4","221208ac 9df506c6 1571b4ae 8ac47f71"]]}})}}class o extends H{constructor(t){super({id:"BRAINPOOLP256",ossl:"brainpoolP256r1",type:"short",endian:"be",hash:"SHA256",prime:null,p:["a9fb57db a1eea9bc 3e660a90 9d838d72","6e3bf623 d5262028 2013481d 1f6e5377"],a:["7d5a0975 fc2c3057 eef67530 417affe7","fb8055c1 26dc5c6c e94a4b44 f330b5d9"],b:["26dc5c6c e94a4b44 f330b5d9 bbd77cbf","95841629 5cf7e1ce 6bccdc18 ff8c07b6"],n:["a9fb57db a1eea9bc 3e660a90 9d838d71","8c397aa3 b561a6f7 901e0e82 974856a7"],h:"1",z:"-2",g:[["8bd2aeb9 cb7e57cb 2c4b482f fc81b7af","b9de27e1 e3bd23c2 3a4453bd 9ace3262"],["547ef835 c3dac4fd 97f8461a 14611dc9","c2774513 2ded8e54 5c1d54c7 2f046997"],t]})}}class h extends H{constructor(t){super({id:"BRAINPOOLP384",ossl:"brainpoolP384r1",type:"short",endian:"be",hash:"SHA384",prime:null,p:["8cb91e82 a3386d28 0f5d6f7e 50e641df","152f7109 ed5456b4 12b1da19 7fb71123","acd3a729 901d1a71 87470013 3107ec53"],a:["7bc382c6 3d8c150c 3c72080a ce05afa0","c2bea28e 4fb22787 139165ef ba91f90f","8aa5814a 503ad4eb 04a8c7dd 22ce2826"],b:["04a8c7dd 22ce2826 8b39b554 16f0447c","2fb77de1 07dcd2a6 2e880ea5 3eeb62d5","7cb43902 95dbc994 3ab78696 fa504c11"],n:["8cb91e82 a3386d28 0f5d6f7e 50e641df","152f7109 ed5456b3 1f166e6c ac0425a7","cf3ab6af 6b7fc310 3b883202 e9046565"],h:"1",z:"-5",g:[["1d1c64f0 68cf45ff a2a63a81 b7c13f6b","8847a3e7 7ef14fe3 db7fcafe 0cbd10e8","e826e034 36d646aa ef87b2e2 47d4af1e"],["8abe1d75 20f9c2a4 5cb1eb8e 95cfd552","62b70b29 feec5864 e19c054f f9912928","0e464621 77918111 42820341 263c5315"],t]})}}class z extends H{constructor(t){super({id:"BRAINPOOLP512",ossl:"brainpoolP512r1",type:"short",endian:"be",hash:"SHA512",prime:null,p:["aadd9db8 dbe9c48b 3fd4e6ae 33c9fc07","cb308db3 b3c9d20e d6639cca 70330871","7d4d9b00 9bc66842 aecda12a e6a380e6","2881ff2f 2d82c685 28aa6056 583a48f3"],a:["7830a331 8b603b89 e2327145 ac234cc5","94cbdd8d 3df91610 a83441ca ea9863bc","2ded5d5a a8253aa1 0a2ef1c9 8b9ac8b5","7f1117a7 2bf2c7b9 e7c1ac4d 77fc94ca"],b:["3df91610 a83441ca ea9863bc 2ded5d5a","a8253aa1 0a2ef1c9 8b9ac8b5 7f1117a7","2bf2c7b9 e7c1ac4d 77fc94ca dc083e67","984050b7 5ebae5dd 2809bd63 8016f723"],n:["aadd9db8 dbe9c48b 3fd4e6ae 33c9fc07","cb308db3 b3c9d20e d6639cca 70330870","553e5c41 4ca92619 41866119 7fac1047","1db1d381 085ddadd b5879682 9ca90069"],h:"1",z:"7",g:[["81aee4bd d82ed964 5a21322e 9c4c6a93","85ed9f70 b5d916c1 b43b62ee f4d0098e","ff3b1f78 e2d0d48d 50d1687b 93b97d5f","7c6d5047 406a5e68 8b352209 bcb9f822"],["7dde385d 566332ec c0eabfa9 cf7822fd","f209f700 24a57b1a a000c55b 881f8111","b2dcde49 4a5f485e 5bca4bd8 8a2763ae","d1ca2b2f a8f05406 78cd1e0f 3ad80892"],t]})}}class J extends n{constructor(){super({id:"X25519",ossl:"X25519",type:"mont",endian:"le",hash:"SHA512",prime:"p25519",p:["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffed"],a:"76d06",b:"1",n:["10000000 00000000 00000000 00000000","14def9de a2f79cd6 5812631a 5cf5d3ed"],h:"8",z:"2",g:[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000009"],["5f51e65e 475f794b 1fe122d3 88b72eb3","6dc2b281 92839e4d d6163a5d 81312c14"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"],["6be4f497 f9a9c2af c21fa77a d7f4a6ef","635a11c7 284a9363 e9a248ef 9c884415"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"],["141b0b68 06563d50 3de05885 280b5910","9ca5ee38 d7b56c9c 165db710 6377bbd8"]],[["57119fd0 dd4e22d8 868e1c58 c45c4404","5bef839c 55b1d0b1 248c50a3 bc959c5f"],["68c59389 3d458e64 31c6ca00 45fb5015","20a44346 8eaa68dd 0f103842 048065b7"]],[["57119fd0 dd4e22d8 868e1c58 c45c4404","5bef839c 55b1d0b1 248c50a3 bc959c5f"],["173a6c76 c2ba719b ce3935ff ba04afea","df5bbcb9 71559722 f0efc7bd fb7f9a36"]],[["00b8495f 16056286 fdb1329c eb8d09da","6ac49ff1 fae35616 aeb8413b 7c7aebe0"],["3931c129 569e83a5 29482c14 e628b457","933bfc29 ed801b4d 68871483 92507b1a"]],[["00b8495f 16056286 fdb1329c eb8d09da","6ac49ff1 fae35616 aeb8413b 7c7aebe0"],["46ce3ed6 a9617c5a d6b7d3eb 19d74ba8","6cc403d6 127fe4b2 9778eb7c 6daf84d3"]]]})}}class M extends n{constructor(){super({id:"X448",ossl:"X448",type:"mont",endian:"le",hash:"SHAKE256",prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"262a6",b:"1",n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000005"],["7d235d12 95f5b1f6 6c98ab6e 58326fce","cbae5d34 f55545d0 60f75dc2 8df3f6ed","b8027e23 46430d21 1312c4b1 50677af7","6fd7223d 457b5b1a"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["ba4d3a08 29b6112f 8812e51b a0bb2abe","bc1cb08e b48e5569 36ba50fd d2e7d68a","f8cb3216 0522425b 3f990812 abbe635a","d37a21e1 7551b193"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["45b2c5f7 d649eed0 77ed1ae4 5f44d541","43e34f71 4b71aa96 c945af01 2d182975","0734cde9 faddbda4 c066f7ed 54419ca5","2c85de1e 8aae4e6c"]]]})}}class X extends n{constructor(){super({id:"MONT448",ossl:null,type:"mont",endian:"le",hash:"SHAKE256",prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:["b2cf97d2 d43459a9 31ed36b1 fc4e3cb5","5d93f8d2 22746997 60ccffc6 49961ed6","c5b05fca c24864ed 6fb59697 931b78da","84ddecd8 ca2b5cfb"],b:"1",n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["ac0d24cc c6c75cb0 eb71f81e 7a6edf51","48e88aee 009a2a24 e795687e c28e125a","3e6730a6 0d46367b aa7fe99d 152128dc","41321bc7 7817f059"],["5a4437f6 80c0d0db 9b061276 d5d0ffcc","e786ff33 b6a53d30 98746425 82e66f09","4433dae7 7244a6e2 6b11e905 7228f483","556c41a5 913f55fe"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["bec92fd0 6da2acf2 b4e261e8 7cef0d34","22e75c18 3c589857 b71924e5 73c2f9ce","e18da5f2 466e2f39 3c2eedf0 f105a60a","b40c717d 4f1e1fd7"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["4136d02f 925d530d 4b1d9e17 8310f2cb","dd18a3e7 c3a767a8 48e6db19 8c3d0631","1e725a0d b991d0c6 c3d1120f 0efa59f5","4bf38e82 b0e1e028"]]]})}}class B extends K{constructor(t){super({id:"ED25519",ossl:"ED25519",type:"edwards",endian:"le",hash:"SHA512",prefix:"SigEd25519 no Ed25519 collisions",context:!1,prime:"p25519",p:["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffed"],a:"-1",d:["52036cee 2b6ffe73 8cc74079 7779e898","00700a4d 4141d8ab 75eb4dca 135978a3"],n:["10000000 00000000 00000000 00000000","14def9de a2f79cd6 5812631a 5cf5d3ed"],h:"8",z:"2",g:[["216936d3 cd6e53fe c0a4e231 fdd6dc5c","692cc760 9525a7b2 c9562d60 8f25d51a"],["66666666 66666666 66666666 66666666","66666666 66666666 66666666 66666658"],t],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffec"]],[["2b832480 4fc1df0b 2b4d0099 3dfbd7a7","2f431806 ad2fe478 c4ee1b27 4a0ea0b0"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["547cdb7f b03e20f4 d4b2ff66 c2042858","d0bce7f9 52d01b87 3b11e4d8 b5f15f3d"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["1fd5b9a0 06394a28 e9339932 38de4abb","5c193c70 13e5e238 dea14646 c545d14a"],["05fc536d 880238b1 3933c6d3 05acdfd5","f098eff2 89f4c345 b027b2c2 8f95e826"]],[["602a465f f9c6b5d7 16cc66cd c721b544","a3e6c38f ec1a1dc7 215eb9b9 3aba2ea3"],["05fc536d 880238b1 3933c6d3 05acdfd5","f098eff2 89f4c345 b027b2c2 8f95e826"]],[["1fd5b9a0 06394a28 e9339932 38de4abb","5c193c70 13e5e238 dea14646 c545d14a"],["7a03ac92 77fdc74e c6cc392c fa53202a","0f67100d 760b3cba 4fd84d3d 706a17c7"]],[["602a465f f9c6b5d7 16cc66cd c721b544","a3e6c38f ec1a1dc7 215eb9b9 3aba2ea3"],["7a03ac92 77fdc74e c6cc392c fa53202a","0f67100d 760b3cba 4fd84d3d 706a17c7"]]]})}}class G extends K{constructor(t){super({id:"ISO448",ossl:null,type:"edwards",endian:"le",hash:"SHAKE256",prefix:"SigEd448",context:!0,prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"1",d:["d78b4bdc 7f0daf19 f24f38c2 9373a2cc","ad461572 42a50f37 809b1da3 412a12e7","9ccc9c81 264cfe9a d0809970 58fb61c4","243cc32d baa156b9"],n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["79a70b2b 70400553 ae7c9df4 16c792c6","1128751a c9296924 0c25a07d 728bdc93","e21f7787 ed697224 9de732f3 8496cd11","69871309 3e9c04fc"],["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 80000000","00000000 00000000 00000000 00000000","00000000 00000001"],t],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]]]})}}class $ extends K{constructor(t){super({id:"ED448",ossl:"ED448",type:"edwards",endian:"le",hash:"SHAKE256",prefix:"SigEd448",context:!0,prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"1",d:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffff6756"],n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["4f1970c6 6bed0ded 221d15a6 22bf36da","9e146570 470f1767 ea6de324 a3d3a464","12ae1af7 2ab66511 433b80e1 8b00938e","2626a82b c70cc05e"],["693f4671 6eb6bc24 88762037 56c9c762","4bea7373 6ca39840 87789c1e 05a0c2d7","3ad3ff1c e67c39c4 fdbd132c 4ed7c8ad","9808795b f230fa14"],t],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]]]})}}const le={__proto__:null,P192:O,P224:A,P256:y,P384:U,P521:q,SECP256K1:k,BRAINPOOLP256:o,BRAINPOOLP384:h,BRAINPOOLP512:z,X25519:J,X448:M,MONT448:X,ED25519:B,ISO448:G,ED448:$},Ee={__proto__:null,P192:null,P224:null,P256:null,P384:null,P521:null,SECP256K1:null,BRAINPOOLP256:null,BRAINPOOLP384:null,BRAINPOOLP512:null,X25519:null,X448:null,MONT448:null,ED25519:null,ISO448:null,ED448:null};function Ne(j,...t){re(typeof j=="string");const l=j.toUpperCase();let I=Ee[l];if(!I){const Y=le[l];if(!Y)throw new Error(`Curve not found: "${j}".`);I=new Y(...t),Ee[l]=I}return I}function ke(j,t){re(typeof j=="string"),re(typeof t=="function");const l=j.toUpperCase();if(le[l])throw new Error(`Curve already registered: "${j}".`);le[l]=t,Ee[l]=null}function se(j,t,l){re(j instanceof S),re(!j.red),re(t>>>0===t),re(l>>>0===l);const I=new Array(l),Y=j.bitLength()+1,Z=j.sign()|1;re(Y<=l);for(let Ie=0;Ie<l;Ie++)I[Ie]=0;let W=0,ue=0,pe;for(;W<Y;){if(j.bit(W)===ue){W+=1;continue}pe=j.bits(W,t)+ue,ue=pe>>t-1&1,pe-=ue<<t,I[W]=Z*pe,W+=t}return re(ue===0),I}function ge(j,t,l,I){re(I>>>0===I);const Y=se(j,t,l),Z=Math.ceil(Y.length/I),W=new Array(Z);let ue=0;for(let pe=0;pe<Y.length;pe+=I){let Ie=0;for(let te=pe+I-1;te>=pe;te--)Ie=(Ie<<1)+Y[te];W[ue++]=Ie}return re(ue===Z),W}function ve(j,t,l){re(j instanceof S),re(t instanceof S),re(!j.red),re(!t.red),re(l>>>0===l);const I=[new Array(l),new Array(l)],Y=Math.max(j.bitLength(),t.bitLength())+1,Z=j.sign()|1,W=t.sign()|1;re(Y<=l);let ue=0,pe=0;for(let Ie=0;Ie<Y;Ie++){const te=j.bits(Ie,3),D=t.bits(Ie,3);let F=(te&3)+ue&3,he=(D&3)+pe&3,we=0,Me=0;if(F===3&&(F=-1),he===3&&(he=-1),F&1){const de=(te&7)+ue&7;(de===3||de===5)&&he===2?we=-F:we=F}if(he&1){const de=(D&7)+pe&7;(de===3||de===5)&&F===2?Me=-he:Me=he}I[0][Ie]=we*Z,I[1][Ie]=Me*W,2*ue===1+we&&(ue=1-ue),2*pe===1+Me&&(pe=1-pe)}for(let Ie=Y;Ie<l;Ie++)I[0][Ie]=0,I[1][Ie]=0;return I}function Ue(j,t,l){const I=ve(j,t,l),Y=new Array(l);for(let Z=0;Z<l;Z++){const W=I[0][Z],ue=I[1][Z];Y[Z]=Q[(W+1)*3+(ue+1)]}return Y}function re(j,t){if(!j){const l=new Error(t||"Assertion failed");throw Error.captureStackTrace&&Error.captureStackTrace(l,re),l}}function Re(j){re(typeof j=="function");try{return j()}catch(t){throw t.message==="X is not a square mod P."||t.message==="Not invertible."?new Error("Invalid point."):t}}function r(j,t){let l=j%t;return l<0&&(t<0?l-=t:l+=t),l}function c(j){re(j instanceof S),re(j.red);const t=j.red.m;if(t.cmpn(3)<=0)return j.clone();if(t.modrn(3)===2){const I=t.ushln(1).isubn(1).idivn(3);return j.redPow(I)}const l=t.modrn(9);if(l===4){const I=t.ushln(1).iaddn(1).idivn(9),Y=j.redPow(I);if(!Y.redSqr().redMul(Y).eq(j))throw new Error("X is not a cube mod P.");return Y}if(l===7){const I=t.addn(2).idivn(9),Y=j.redPow(I);if(!Y.redSqr().redMul(Y).eq(j))throw new Error("X is not a cube mod P.");return Y}throw new Error("Not implemented.")}function b(j){const t=c(j);if(j.red.m.modrn(3)===1){const l=new S(2).toRed(j.red),I=new S(3).toRed(j.red),Y=l.redInvert(),Z=I.redNeg().redSqrt().redMul(Y),W=Z.redNeg(),ue=Z.redSub(Y),pe=W.redSub(Y),Ie=t.redMul(ue),te=t.redMul(pe);return[t,Ie,te]}return[t]}function V(j){for(const t of b(j))if(t.redJacobi()>=0)return t;throw new Error("X^(1/3) is not a square mod P.")}function ie(j){return S.randomBits(j,32).toNumber()}function L(j,t){const l=new WeakMap;return function(Y,Z){const W=Z&1,ue=l.get(Y);if(ue&&ue[W]!==null)return ue[W];const pe=j.call(t,Y,Z);return l.has(Y)||l.set(Y,[null,null]),l.get(Y)[W]=pe,pe}}function x(j,t){re(j instanceof S),re(t>>>0===t),t&7&&(t+=8-(t&7));const l=j.toString(16,t),I=[],Y=[];re((l.length&7)===0);for(let Z=0;Z<l.length;Z+=8)I.push(l.slice(Z,Z+8));for(let Z=0;Z<I.length;Z+=4)Y.push(I.slice(Z,Z+4).join(" "));return Y}f.Curve=g,f.Point=u,f.ShortCurve=H,f.ShortPoint=a,f.JPoint=s,f.MontCurve=n,f.MontPoint=p,f.XPoint=v,f.EdwardsCurve=K,f.EdwardsPoint=w,f.curves=le,f.curve=Ne,f.register=ke}],["bcrypto","/lib/p384-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * p384.js - p384 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(67,C)}],["bcrypto","/lib/js/p384.js",function(f,Le,C,Fe,He,Ve){/*!
 * p384.js - ECDSA-P384 for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */const e=ce(60,C),S=ce(34,C);C.exports=new e("P384",S,S)}],["bcrypto","/lib/ed25519-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * ed25519.js - ed25519 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(69,C)}],["bcrypto","/lib/js/ed25519.js",function(f,Le,C,Fe,He,Ve){/*!
 * ed25519.js - ed25519 for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/EdDSA#Ed25519
 *   https://ed25519.cr.yp.to/ed25519-20110926.pdf
 *   https://tools.ietf.org/html/rfc8032#section-5.1
 */const e=ce(70,C),S=ce(37,C),oe=ce(71,C);C.exports=new e("ED25519","X25519",null,S,oe)}],["bcrypto","/lib/js/eddsa.js",function(f,Le,C,Fe,He,Ve){/*!
 * eddsa.js - EdDSA for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/elliptic:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/elliptic
 *
 * References:
 *
 *   [EDDSA] High-speed high-security signatures
 *     D. J. Bernstein, N. Duif, T. Lange, P. Schwabe, B. Yang
 *     https://ed25519.cr.yp.to/ed25519-20110926.pdf
 *
 *   [RFC8032] Edwards-Curve Digital Signature Algorithm (EdDSA)
 *     S. Josefsson, I. Liusvaara
 *     https://tools.ietf.org/html/rfc8032
 *
 * Implementation Notes:
 *
 *   - In contrast to the ECDSA backend, we allow points at
 *     infinity (in all functions).
 *
 *   - Mike Hamburg's Ed448-Goldilocks rejects both infinity as
 *     well as the torsion point (0, -1). We do not replicate
 *     this behavior.
 *
 *   - For Ed25519, we do "cofactor-less" verification by default.
 *     This means torsion components will affect the result of the
 *     verification.
 *
 *   - For Ed448, we do cofactor verification by default to mimic
 *     OpenSSL and Mike Hamburg's Ed448-Goldilocks implementation.
 *
 *   - `verifySingle`/`verifyBatch` do cofactor verification. Do
 *     not use `verifyBatch` expecting the same results as the
 *     regular `verify` call[1]. This will not be the case for
 *     Ed25519.
 *
 *   - All functions are completely unaware of points of small
 *     order and torsion components (in other words, points will
 *     not be explicitly checked for this, anywhere).
 *
 *   - `deriveWithScalar` and `exchangeWithScalar` automatically
 *     clamp scalars before multiplying (meaning torsion components
 *     are removed from the result and points of small order will
 *     be normalized to infinity).
 *
 *   - The HD function, `publicKeyTweakMul`, _does not_ clamp
 *     automatically. It is possible to end up with a torsion
 *     component in the resulting point (assuming the input
 *     point had one).
 *
 *   - Ed448-Goldilocks is 4-isogenous to Curve448. This means
 *     that when converting to Curve448, small order points will
 *     be normalized to (0, 0). When converting back to Ed448,
 *     any small order points will be normalized to infinity,
 *     and any torsion components will be removed completely.
 *     Also note that when converting back, the implementation
 *     needs to divide the point by 4. This is a major perf hit,
 *     so treat `x448.publicKeyConvert` as if it were a point
 *     multiplication.
 *
 *   - Elligators should not be used with Edwards curves. As
 *     Tibouchi notes[2], regular public keys will map to
 *     _distinguishable_ field elements as they are always in
 *     the primary subgroup. Either the Ristretto Elligator[3],
 *     or a prime order curve with an Elligator Squared[2]
 *     construction are suitable alternatives here.
 *
 *   - These notes also spell out why you should avoid using
 *     Edwards curves on a blockchain[4].
 *
 *   [1] https://moderncrypto.org/mail-archive/curves/2016/000836.html
 *   [2] https://eprint.iacr.org/2014/043.pdf
 *   [3] https://ristretto.group/formulas/elligator.html
 *   [4] https://src.getmonero.org/2017/05/17/disclosure-of-a-major-bug-in-cryptonote-based-currencies.html
 */const e=ce(24,C),S=ce(62,C),oe=ce(42,C),Q=ce(65,C),P=ce(45,C);class g{constructor(s,n,p,v,K){e(typeof s=="string"),e(!n||typeof n=="string"),e(!p||typeof p=="string"),e(v),this.id=s,this.type="eddsa",this.mid=n||null,this.eid=p||null,this.hash=v,this.native=0,this._pre=K||null,this._curve=null,this._mont=null,this._iso=null,this._rng=null}get curve(){return this._curve||(this._curve=Q.curve(this.id,this._pre),this._curve.precompute(P),this._pre=null),this._curve}get mont(){return this.mid&&!this._mont&&(this._mont=Q.curve(this.mid)),this._mont}get iso(){return this.eid?(this._iso||(this._iso=Q.curve(this.eid)),this._iso):this.mont}get rng(){return this._rng||(this._rng=new S(this.curve)),this._rng}get size(){return this.curve.adjustedSize}get bits(){return this.curve.fieldBits}hashNonce(s,n,p,v){const K=new u(this);return K.init(p,v),K.update(s),K.update(n),K.final()}hashChallenge(s,n,p,v,K){const w=new u(this);return w.init(v,K),w.update(s),w.update(n),w.update(p),w.final()}privateKeyGenerate(){return P.randomBytes(this.curve.adjustedSize)}scalarGenerate(){const s=P.randomBytes(this.curve.scalarSize);return this.curve.clamp(s)}privateKeyExpand(s){e(s!=null&&s._isBuffer===!0),e(s.length===this.curve.adjustedSize);const n=this.hash.digest(s,this.curve.adjustedSize*2);return this.curve.splitHash(n)}privateKeyConvert(s){const[n]=this.privateKeyExpand(s);return n}privateKeyVerify(s){return e(s!=null&&s._isBuffer===!0),s.length===this.curve.adjustedSize}scalarVerify(s){return e(s!=null&&s._isBuffer===!0),s.length===this.curve.scalarSize}scalarIsZero(s){e(s!=null&&s._isBuffer===!0);let n;try{n=this.curve.decodeScalar(s).imod(this.curve.n)}catch{return!1}return n.isZero()}scalarClamp(s){return e(s!=null&&s._isBuffer===!0),e(s.length===this.curve.scalarSize),this.curve.clamp(_e.from(s))}privateKeyExport(s){const n=this.publicKeyCreate(s),{x:p,y:v}=this.publicKeyExport(n);return{d:_e.from(s),x:p,y:v}}privateKeyImport(s){if(e(s&&typeof s=="object"),e(s.d!=null&&s.d._isBuffer===!0),s.d.length!==this.curve.adjustedSize)throw new Error("Invalid private key.");return _e.from(s.d)}scalarTweakAdd(s,n){const p=this.curve.decodeScalar(s),v=this.curve.decodeScalar(n),K=p.add(v).imod(this.curve.n);return this.curve.encodeScalar(K)}scalarTweakMul(s,n){const p=this.curve.decodeScalar(s),v=this.curve.decodeScalar(n),K=p.mul(v).imod(this.curve.n);return this.curve.encodeScalar(K)}scalarReduce(s){const p=this.curve.decodeScalar(s).imod(this.curve.n);return this.curve.encodeScalar(p)}scalarNegate(s){const p=this.curve.decodeScalar(s).imod(this.curve.n).neg().imod(this.curve.n);return this.curve.encodeScalar(p)}scalarInvert(s){const n=this.curve.decodeScalar(s).imod(this.curve.n);if(n.isZero())return this.curve.encodeScalar(n);const p=n.invert(this.curve.n);return this.curve.encodeScalar(p)}publicKeyCreate(s){const n=this.privateKeyConvert(s);return this.publicKeyFromScalar(n)}publicKeyFromScalar(s){const n=this.curve.decodeScalar(s).imod(this.curve.n);return this.curve.g.mulBlind(n).encode()}publicKeyConvert(s){if(!this.mont)throw new Error("No equivalent montgomery curve.");const n=this.curve.decodePoint(s);return this.mont.pointFromEdwards(n).encode()}publicKeyFromUniform(s){const n=this.curve.decodeUniform(s);return this.curve.pointFromUniform(n,this.iso).encode()}publicKeyToUniform(s,n=P.randomInt()){const p=this.curve.decodePoint(s),v=this.curve.pointToUniform(p,n,this.iso);return this.curve.encodeUniform(v,n>>>8)}publicKeyFromHash(s,n=!1){return this.curve.pointFromHash(s,n,this.iso).encode()}publicKeyToHash(s,n=P.randomInt()){const p=this.curve.decodePoint(s);return this.curve.pointToHash(p,n,P,this.iso)}publicKeyVerify(s){e(s!=null&&s._isBuffer===!0);try{this.curve.decodePoint(s)}catch{return!1}return!0}publicKeyIsInfinity(s){e(s!=null&&s._isBuffer===!0);let n;try{n=this.curve.decodePoint(s)}catch{return!1}return n.isInfinity()}publicKeyIsSmall(s){e(s!=null&&s._isBuffer===!0);let n;try{n=this.curve.decodePoint(s)}catch{return!1}return n.isSmall()}publicKeyHasTorsion(s){e(s!=null&&s._isBuffer===!0);let n;try{n=this.curve.decodePoint(s)}catch{return!1}return n.hasTorsion()}publicKeyExport(s){const{x:n,y:p}=this.curve.decodePoint(s);return{x:this.curve.encodeField(n.fromRed()),y:this.curve.encodeField(p.fromRed())}}publicKeyImport(s){e(s&&typeof s=="object");let n=null,p=null,v;if(s.x!=null&&(n=oe.decode(s.x,this.curve.endian),n.cmp(this.curve.p)>=0))throw new Error("Invalid point.");if(s.y!=null&&(p=oe.decode(s.y,this.curve.endian),p.cmp(this.curve.p)>=0))throw new Error("Invalid point.");if(n&&p){if(v=this.curve.point(n,p),!v.validate())throw new Error("Invalid point.")}else if(n)v=this.curve.pointFromX(n,s.sign);else if(p)v=this.curve.pointFromY(p,s.sign);else throw new Error("Invalid point.");return v.encode()}publicKeyTweakAdd(s,n){const p=this.curve.decodeScalar(n).imod(this.curve.n),v=this.curve.decodePoint(s);return this.curve.g.mul(p).add(v).encode()}publicKeyTweakMul(s,n){const p=this.curve.decodeScalar(n);return this.curve.decodePoint(s).mul(p).encode()}publicKeyCombine(s){e(Array.isArray(s));let n=this.curve.point();for(const p of s){const v=this.curve.decodePoint(p);n=n.add(v)}return n.encode()}publicKeyNegate(s){return this.curve.decodePoint(s).neg().encode()}sign(s,n,p,v){const[K,w]=this.privateKeyExpand(n);return this.signWithScalar(s,K,w,p,v)}signWithScalar(s,n,p,v,K){K==null&&(K=_e.alloc(0)),e(s!=null&&s._isBuffer===!0),e(p!=null&&p._isBuffer===!0),e(p.length===this.curve.adjustedSize);const{n:w}=this.curve,m=this.curve.g,_=this.hashNonce(p,s,v,K),E=m.mulBlind(_).encode(),d=this.curve.decodeScalar(n),T=m.mulBlind(d).encode(),N=this.hashChallenge(E,T,s,v,K),R=_.add(N.mul(d)).imod(w);return _e.concat([E,this.curve.encodeAdjusted(R)])}signTweakAdd(s,n,p,v,K){const[w,m]=this.privateKeyExpand(n),_=this.scalarTweakAdd(w,p),d=this.hash.multi(m,p,null,this.curve.adjustedSize*2).slice(0,this.curve.adjustedSize);return this.signWithScalar(s,_,d,v,K)}signTweakMul(s,n,p,v,K){const[w,m]=this.privateKeyExpand(n),_=this.scalarTweakMul(w,p),d=this.hash.multi(m,p,null,this.curve.adjustedSize*2).slice(0,this.curve.adjustedSize);return this.signWithScalar(s,_,d,v,K)}verify(s,n,p,v,K){if(K==null&&(K=_e.alloc(0)),e(s!=null&&s._isBuffer===!0),e(n!=null&&n._isBuffer===!0),e(p!=null&&p._isBuffer===!0),e(v==null||typeof v=="boolean"),e(K!=null&&K._isBuffer===!0),n.length!==this.curve.adjustedSize*2||p.length!==this.curve.adjustedSize)return!1;try{return this._verify(s,n,p,v,K)}catch{return!1}}_verify(s,n,p,v,K){const{n:w}=this.curve,m=this.curve.g,_=n.slice(0,this.curve.adjustedSize),E=n.slice(this.curve.adjustedSize),d=this.curve.decodePoint(_),T=this.curve.decodeAdjusted(E),N=this.curve.decodePoint(p);if(T.cmp(w)>=0)return!1;const R=this.hashChallenge(_,p,s,v,K);return m.mulAdd(T,N.neg(),R).eq(d)}verifySingle(s,n,p,v,K){if(K==null&&(K=_e.alloc(0)),e(s!=null&&s._isBuffer===!0),e(n!=null&&n._isBuffer===!0),e(p!=null&&p._isBuffer===!0),e(v==null||typeof v=="boolean"),e(K!=null&&K._isBuffer===!0),n.length!==this.curve.adjustedSize*2||p.length!==this.curve.adjustedSize)return!1;try{return this._verifySingle(s,n,p,v,K)}catch{return!1}}_verifySingle(s,n,p,v,K){const{n:w}=this.curve,m=this.curve.g,_=n.slice(0,this.curve.adjustedSize),E=n.slice(this.curve.adjustedSize),d=this.curve.decodePoint(_),T=this.curve.decodeAdjusted(E),N=this.curve.decodePoint(p);if(T.cmp(w)>=0)return!1;const R=this.hashChallenge(_,p,s,v,K),O=this.curve.imulH(T),A=N.mulH(),y=d.mulH();return m.mulAdd(O,A.neg(),R).eq(y)}verifyBatch(s,n,p){p==null&&(p=_e.alloc(0)),e(Array.isArray(s)),e(n==null||typeof n=="boolean"),e(p!=null&&p._isBuffer===!0);for(const v of s){e(Array.isArray(v)&&v.length===3);const[K,w,m]=v;if(e(K!=null&&K._isBuffer===!0),e(w!=null&&w._isBuffer===!0),e(m!=null&&m._isBuffer===!0),w.length!==this.curve.adjustedSize*2||m.length!==this.curve.adjustedSize)return!1}try{return this._verifyBatch(s,n,p)}catch{return!1}}_verifyBatch(s,n,p){const{n:v}=this.curve,K=this.curve.g,w=new Array(1+s.length*2),m=new Array(1+s.length*2),_=new oe(0);this.rng.init(s),w[0]=K,m[0]=_;for(let E=0;E<s.length;E++){const[d,T,N]=s[E],R=T.slice(0,this.curve.adjustedSize),O=T.slice(this.curve.adjustedSize),A=this.curve.decodePoint(R),y=this.curve.decodeAdjusted(O),U=this.curve.decodePoint(N);if(y.cmp(v)>=0)return!1;const q=this.hashChallenge(R,N,d,n,p),k=this.rng.generate(E),o=q.mul(k).imod(v);_.iadd(y.mul(k)).imod(v),w[1+E*2+0]=A.mulH(),m[1+E*2+0]=k,w[1+E*2+1]=U.mulH(),m[1+E*2+1]=o}return this.curve.imulH(_.ineg()),this.curve.mulAll(w,m).isInfinity()}derive(s,n){const p=this.privateKeyConvert(n);return this.deriveWithScalar(s,p)}deriveWithScalar(s,n){const p=this.curve.decodePoint(s),v=this.curve.decodeClamped(n),K=p.mulBlind(v,P);if(K.isInfinity())throw new Error("Invalid point.");return K.encode()}}class u{constructor(s){this.curve=s.curve,this.hash=new s.hash}init(s,n){return e(s==null||typeof s=="boolean"),e(n!=null&&n._isBuffer===!0),n.length>255&&(n=n.slice(0,255)),this.hash.init(),(this.curve.context||s!=null||n.length>0)&&(this.curve.prefix&&this.hash.update(this.curve.prefix),this.hash.update(H(s)),this.hash.update(H(n.length)),this.hash.update(n)),this}update(s){return this.hash.update(s),this}final(){const s=this.hash.final(this.curve.adjustedSize*2);return oe.decode(s,this.curve.endian).imod(this.curve.n)}}function H(a){const s=_e.alloc(1);return s[0]=a&255,s}C.exports=g}],["bcrypto","/lib/js/precomputed/ed25519.json",function(f,Le,C,Fe,He,Ve){C.exports={naf:{width:9,points:[["67ae9c4a22928f491ff4ae743edac83a6343981981624886ac62485fd3f8e25c","1267b1d177ee69aba126a18e60269ef79f16ec176724030402c3684878f5b4d4"],["49fda73eade3587bfcef7cf7d12da5de5c2819f93e1be1a591409cc0322ef233","5f4825b298feae6fe02c6e148992466631282eca89430b5d10d21f83d676c8ed"],["14568685fcf4bd4ee9e3ee194b1d810783e809f3bbf1ce955855981af50e4107","31c563e32b47d52f87ce6468dd36ad41f0882b46f7abf23d12c4c4b59f4062b8"],["357cc970c80071651bf336e06f9422b886d80e5c2e4e0294d3e023065185715c","7f3d23c2c2dd0df4b2befce956f2d2fd1f789013236e4430c74e44845522f1c0"],["14e528b1154be417b6cf078dd6712438d381a5b2c593d552ff2fd2c1207cf3cb","2d9082313f21ab975a6f7ce340ff0fce1258591c3c9c58d4308f2dc36a033713"],["107427e0d5f366ccdb33adf0282d304f8843e3e88d22b7b83780e073b7c05fed","12dbb00ded538b7478466022d2da89b83740cfb2289a272387efe1aeea401f80"],["4f162deaec2ec435dc5ac6f95d20419ed9631374770189cb90617f3e66a18dc1","12cbfb2d04ff22f55162f70164d29331ace5af18a19a9aa1946d4cc4ad2e5cdf"],["7dc52d5a7db816e9b850741ea2fd72918d94985b85a20b4dc5597853a876df6a","6f6d2bca60003ef9f24ac245cc919fb717b188723b34f901cd6cfe9bec97be04"],["1d81f74a5ba45c7022e8c140d763b9c1b0e281a5304696e74f791a3a04a94472","3f185a93d95a4347227c5bb6ddd65cf42e1830823f435f3083fe6102691d55b9"],["6f0ac78e5eb90e87958588f9d47541edf252cb1dde3d073cc45e3e7ef9365716","6628d116b7975ae5f323e5ddf4f8cc35ae06d5c5c7d8a56effc66051336d289e"],["2188ac423c67db5625915e05222a391bcaf91f05d9b7cc2cab5798b2d2e14d95","23240c559c57b79a4df69a23fc46e50504277b1fa49369ab663d79782b33c0ee"],["794241471ed9ceb009384b370cb8790fca98552ecb822dc06b19362c36353455","71e918c03cdfca7207772e8d18ee8f9d92d79a0a83f378912362bc68d311dcd0"],["163bc180c22dfc5da23c5c052107bba93a88b4360aa1d4e729611d8f5a7f8079","631107a6ba83f7458194b9766a0a54f638ca20daf800384dbae1498677501939"],["39a32a30f3eb1da0eb7e3903b8ace3da3890b24b61a3a9e79db663b5db0f7a5d","4d4c54675dc1f1c9a1af9ca0010045dc803c16af345823136dd203715d67c491"],["38085391a0e2831f59c33fcce7591515784d359925f11ff958e0e4658efac0e9","42918001a829f49b5634e34ab7fac21b30e24660669ed91955cc31944a19e62a"],["5e3573b049d6135ffbbbbd9a480617434f2455b4a591f719e91153eeb75a32a1","54bc665420c789da1105d53983c1a0fc33bcc2690cd9b37d6566e21a85892871"],["7ed068b25b82c05fdc0e46bd80a357f3acd2f5c3b9330bc8d474e5b28270f6eb","01da83a187da8ccca704d46557a462551d70df7f943a681c3b97b1db6a21b7d3"],["05ca3370e7516f6686111b72650aab4c5484407f14b515ade03951c6a14a0aa3","6f407fc537b95277966e7f0f5e64b86904bf7baee091cee6011a3611834c6903"],["624cb312b698bbd6dbca79b8d2b53cb5d8b3ab33c19306e87c18211f095ab9c3","5b3336b2751e97c793731ac9b9a2243b6229f6d0bbea6b619395d0e5200bd8a3"],["1ddf6ece608fe2901b34b7e4f47cfcb75e947e293c704d8121b11a31a051b5f9","5e2dc58e9a48a749ce5296d229cfb34f96a147a8246d2e9844d52b52112ea94e"],["396b384f3d61cfc060308fbb1c941ebc9418e2d9abd81316e08d625f48c0e101","7223e5f7b66d1ca24962bac273a7aa6618cc60cb8a64a8837e0261107e7ad644"],["53cc3dca3410277fb38d75e4ac0dde8e77a99c817170dbc9696cffe7890fbd50","2592a3aafce64d7c69f4de468d5d5aa19845f5ca08f64a0a40e37d23ececbbe1"],["34705fe600f5aed77b29d3eacdffcd45d886904156d43dc550bb7fc889cc1368","299153c141a8950ffbcc8e9352993e642fa39a476200dd4acf42e158dbe3b01e"],["5969255bd089181b991fce96b1792ba330a14f8a0b061f8118c9c336b8504618","680a805fa0ae93c2a12b193517fb1147d355547e4ab18a9d6ca21575bbb4d7a4"],["27d1d57fa8808d3d452df14bda4248b37902752163b1fd499a92456c59918ecb","0a42f1c0f4c5d7de9e82904f0b4ff63988d31fedb8aad9d8ae009c7a1dff09c3"],["0811d14bfdfdcf2144edd9cf55bce584a9ba17aec3eac8aaa82987ad703d9b8a","42bea70d46f3ee0df0ec77d24c5495ea56ada2e0415920470c4746b68306376e"],["4de090761b863cb0f0650297f154a8e66d00c5119c38e5dd05303d905d527a4a","5eef0efd105361ce198a30e09e7e7edffbe3d70189e63ca68cf6057b9772baa8"],["1d45517858ce45556aaee056ebab7e0ef3dc9ae3740aed570f3e76bfb4fc4817","0b5a9d8fe8b7ccb04c0a5ef77798a3ec6e1bc1138604eb05e83844f0d4c5c699"],["4285edbe9117f30aae1ef5ee419eb1d472106c6b3d7f3ce3701e39324b0eeafc","503aa6104a682bcf2c0a60c84f4c22b50b0caa0fed8db87dedc7173eae04bdbd"],["3ef830cbeff9b79039b1b6bd9bb52bbcfa56d008d91b9703ea1c80351f8687d6","62349ff5d8dbd216a874769eec152ef9734bea9240eed623992c7553dc8ee4c8"],["649a996e6d4d3b60ccb526939ed8929134107e03e2fd4648eaa2fa9830822c1a","1648311b942fe95d492a1ace5e5235c1aea860d036d2475cc8964cd1acedee9c"],["3a95596d97770d050d1ecc075d58a74f5fe6b4b8222740534ba22c8be73f9d56","15a80cdcc03317a830fa4a7461de6bac136993e0a797f83b405c161a34c98fd7"],["2d265d3fe1c88903ca93685209418deec5af886bf0d9fdb3f499d831cbb76ce1","08376fb0663d3aa220948612b519af4a6a1f956622b15a305fb2e60a84210b3c"],["642cb15498d8c6b25803f3e56b98e2ea185ac808cbeab5eb0a610ed5babb9385","21b5ca5020a9e5a2334c0bee15193ea16c909963ffa6e1d93df4b239abeaeb3e"],["38e576301ff6cdd0822a19c6d610d445d3967e2bada903abb6220f68c6e79bef","458fe689e31a24952d2817dda4349109c1b26ef31699fa36c4f8389eeb60eac0"],["372bec78d75011a0ef2233cd08790a7f15c1ec1e3a78cac8d6652678641780db","32e9e47cf2f48612ed3e2c2006ea0c0c8476d3562aa88cefb67ec97abdb538e8"],["1aa3756aabcc3eb65afee34e0a15dd67bfb9fb199eb131f4cc6a3ca9ec4d1c77","42333e27831add6eb49af80e17347c63c26dd684758096ee3dbdbe03a49159ae"],["38db16447d79d3590c4a36e20286beadfbae91a4eed2e5e7dd4f975ac0537dc5","1c48ccaed60ec12ce862ea71165bba7df1739845df2a857f4ef0a0f714f96daa"],["176b78984cddfddef90bae619c6a98e951d9a7ac7d6af218ae7e76b273212fb7","7b5b93eda77443f366e2a127abe12212aad8536767ec1c5861143f777db85852"],["042d154bf7b4a7bd73897ae528c6bc552ea58d74f8109e8e4052d3e9d38bb0f6","42d1831323e279f9f7ee9e3470ba20ca7edc3245eca5d8ffa182de120a71fc90"],["1f8d28dd4f286a8d0687b626b01204434bf5874a9550d6e375116490c154e108","1ce82e2360367e06f41757fd45239f9bc2c61609139446b09b55a9c43da98bb8"],["613eb914c015076e9ae8356bf508c289e50b1c87d9e2546f6e406362e248e5e5","3edbaafcd8c41ef4aa18b254137d201a2ef0ca4ca28807156bc949e920b97353"],["27bf43826bf0310b4b3e3a405eff790a1d77a8d48b04891246cff8e193cb03a9","16a24d749cc1d234fbe8af9cfd782c3aaa5869d6db0afa7b4d4c67037514f2ea"],["769a6a59746d7bead417bdd9c3b5f5ae1dbd924083ffd9e88df7714f57a675c2","22dc1267cfb2b41c590abb7dc3df45619af688d0421f2bdfb50748335ec5da25"],["795734ee4fcc24194219d25d41a2889cdb942f765848e9df63bff0b158c7224d","756420ab5c71127d39d2e79907634a177af0e483e08484ea4d7b76f7100669b5"],["644d12fc5e7fcac5aeb5911d8240971a99fc59fdd2903f46958e6896aefbcf46","173450789fcd40172e8124fea56f7aedad2ee13fa8fc5209cc8cb572175216dc"],["5deca767ef17b9e8d4f351f5c8ad1fcc50e97a2ed687516bf5210679fd6c1110","4ddf2207da12f700708089989da016f3307ce5721c9e27c952599d67898aa396"],["296dcb24cb3185d037a94bef93c97cacd09fc7050ba8472da59d4a689d9d2848","0b17dc85a4acf73833fab728f15abccac97cd09e57975bd996d3e1dd8b060f7b"],["408a3f1af2e77dfe94f8e225b40dfc146abb1002db7bcf15fde61c1a6cf1b93f","4f01ec38854c15a879e7c7924f048e2ec951dcdf04a614088b68fbcc0954e1c8"],["07d2d9234970cdc9483e0a7c5ec52c49077c440e0a993a1e624f90b8fafbbf07","6ac2190030c210ae3e07b9239f6ee7affba263866ee7831a564c511f703f2295"],["2982d553002082320aa899b9b6887e40dedf11868fa931689795d93d58452873","215e16ca447978624cad0ea6bf45aada4eca914425ee275db2a26e980dc349b6"],["1d8649515cb49e136d2895b6276569e5c711fe1a343eeb5a3daaa8d0e7b42d1a","5b21e2f2978f343a3e9ec3316cdc111af3b55f34afa5fc3fcbf6c26c1bb7fb6c"],["5460df4d607147939cdbc04dbdcbdffd37c5eafdd501b50a67213a23ee724a97","69dfc7004263ccb52487d34ab134b80bb3030273999739cb9cdc16d71b9abcd8"],["24623476f0af9f42ca15a0697ad23abeaf5ed9dc4d2b44f7e8175486598125bb","6aebe4a1a22d9e31194dcde6d33ff3af77dda15c22b2ecba9329849b8c042687"],["64e507a02bfd8a8413117bac253b17f94b2911681ebc07c92da0de6a651dd538","513ac992d72b463da110afb612fbae36590248a0507d845ee95fab2d1caa03a4"],["47f3bd11324f6bee230a22a5bb06a3ccddbc0473b810689efaeef894a654bf0e","7e05db9b3ff886bf32608dfc8d14eaa91e2e2ef230e7c75618060e4285c492be"],["4a6d22703a7045d02d656015ea2d168385d42963a739a895e4fd87b3e55c5e0f","4c58d7a8c6ded0451798e51f16ffa5b637a87aa5defb119ba868d8cccf61776d"],["3e22af70a548097244d7798964598172a90391f84c59b04cea7af283ba368eb5","689d8b7cda23b8dea197c5119fbbbd81dd4b59a36cc283dbe292b5b6519a2968"],["61a6ba2ca42d9d557b3a2ff0867c1b8bb8fc40192d31ff637431a302bc065a10","63d805f5a79f845ea2915a25cf0a8cab2e0255212a1bd3c8852b25579b63721d"],["03d963eeae48556e88305f91c478efcfd2168c346b9ba185884ec8621e8cb414","74b75cc839a944ad8c639719d20fd9d48d2099ef24c8633eabec7a9ec1e7e183"],["0f04da69e0202f7b44c58b103c88de09a0599951fedb17e7f2152d6b93a58ae9","1fbc1c9cd03c4cfd46e8e90019debf86e8036587eade038346f91070c800b8c4"],["797899e488353ed0c6666aff11913b33be0190833766e809b2a68cbc671a9cfe","5dd70a33ff94a84b3fe660f7070e6179e86b5c846689265bf985ce424b8909cc"],["735b64bb872606510e4e7d57833eb7ffdc4aa0dbaa242439806be68379f77cdd","384aaaee3ca7ba2436fcb65910859ca5ec30c10af11df7d777d287bc1a2bce2c"],["6f6ea532a62cf4766f55a0a72a86b55e73fe9d3328ee94bfc271e122f99dc1ac","61d8203ef6da5d0b584541c02331c7f58617cf8d4f26d11776236ce8b113ac10"],["5d99a2a3d4aed730b827b68ed836a9910dce4e7b93faf456981ad6cd85748773","7eeacf5680fb6108a8b7edb45f7134644111b08e17c236469685af5a79474b9e"],["31d0b4bb57bd7b69363c064a49bf3c3b9d7635bcc287e7b3059d3d99fd8382e8","1592e581034e13d47d02b8966f5359097e652391be8fb1e803f4219a22aba2c0"],["424cf5c498bbbe8fa7e5c3247049cc3f45946d0e5f38c44a36a6c84b60a84aa0","34acd712d334a2315dc8fd00c5c9b7c5c9f29bca27380a018882a5ab4a0fcb43"],["33a6ae0522936ba774837aa7959972f9804e3ef02ae84c8039be6595598be247","37022798cc08be9b4ded34c1c5062ab3a26081d375cadf517972fb48135a6602"],["5939635b72aeba595b5f6e376d11a3e07d4b1153ab4d0a7ab267b8bcc47cc3cb","382162eb33db2322cbe01a38fa4d13720b6d8edfaf8116a628725ef4293a6c27"],["3649e78d2ae9fb0ee86b691c27386efce4f3e383790e3cfee2bd59c2e85c4036","09b0d9e0dd82e697b9be9d61ce0d1410e281122b483125c48f7942b22f5d5be4"],["62c7585d1677b7619d8200175346ec99118416d8fdf0103730d165934e96a973","5fef7955ee07304429995433a468d68dec4ecf6b08bbe8cd06869080094044de"],["0c94537d311e17f5b0c58989b5be7e40c88b978a8c074a1e9bb07a713f77f6d3","6deaaa5001bcbbbe9ae436fe42f7042ce74fbf83c14058427fad4587ed33c4e2"],["6f5c6894a8d3877312e608c11809c15dffec3df551711095c8cfc810533e1b3e","74eadab9389b40d6ac6cc0d6e333d628ced60a9ef7617751c20630d23477af7b"],["4e16e88e171f9a07e11f97bba65c0fe5483501f255343afb3335ed47fbcee08f","41bcd7dd328871247cb7995bc6bd2e1961e94b0fb12e5fb2f264f9ad2cf47d4c"],["65d8484cef146e6c232fb262c2ac8200a52c63ccec26ff6f038aa5c74982c741","67283346bbae9391952b141e57ca8e3a36f0363d3b81b1c0f2b3c30a92c74235"],["1c588485b64be8cb99bf97f065e75a82138ea2e035ba90b63745354e9cf729f8","7c9a18d6ebf5465a197989cfb9b5b2a66a5402f46c4708ac04187c6b157a0d77"],["2c80c4ad0aebcafab7e9d2519a329f8a1c7df21cb6b1acec7403c0204d6dce71","7f8e62983160756e35356df95d44467e621c7274372997ca74a9fb760b4db36f"],["1e1e5fc87fa2c49e2c44d5718e3d73c73a91a64ac1374652080bd9004291b9c6","153828e90ed8d94c0f86e0eb54ccb31073cd29ed62c34cd9f2dbc5d98872e597"],["0ce0488a30ed446d445efb1bd21ba32ec3d05d538e6393bc0e58e0849ad57129","7278074ac66ac779136f4d6a334b27633645dea0fc98d137e3dbd4015d12b5a1"],["01a6b81f7285f293f19ba019b009aed8280ce285af42fab91e87fb0bbfa6dea4","60f910dc7c9a82e7836f36acfe7ec26b9babfa8bf26b2945b3c1a43b0c19b4dc"],["79b4ce3c6990023859646690c9ea800174902acfa1aad7ff34eca032dbde7150","53a1053d3fc6c749bf8a928854f392d09fa851ba963ca661bffbe74f012ba45b"],["220ee355b5c39c1901ed34c0f50f7778ad1bedcd7259ae167c16514ffe333498","05fd9374986e1e06035dbfada0117035b96b159354262f2b2695af1256d6aa2a"],["1e2f97d2cb4a19ca40403b364253da71f65d2d4665894267e3c6a9db8b4a3a18","22804fb035acb519210ff99ed7a974a725d896a77933789b4dd45a37dea3466d"],["35b8699fa20987876ac3b3086965b05f8cc809d71cab45e017c68ac96e24ed5b","155079de21981778dc438353bf2c6a65967a1a33ebb74c866fb42f4e3cce3e39"],["3cb40c55f5f19c52958e8c4ecd9c459b1d3268b3971b2286d3e58d1fc6b6a6bd","379e1f1f59df05c74485615b87441ba6203f0cdddc6873a883d4cc6dd1b75921"],["6ad916290e0d003ce5c961679f77704dcd768589d7cb728c60f56852031803bf","1e602b4a6725832a56944234f84c4f85f79911b55beef903549089925f2ccbea"],["7c0162492ae668160aa56a60e8bd43ec088555f750d2223cc37362dead5de123","34e60b446eae100d4c3abc6cb02e4ca559457fb5a9030a290a2568fa4cbf118f"],["354c25bf7b3e83dd0c5e1f39b82e3567edeb5337634056c1091cd6a016caacdf","7abb271ef121630f85a9a1049b3ad78d5b889f533b37a713b8801de46770fc3a"],["1e581a4bcf7504f33f4342b2097504d13f9b5a27f4790a6cdde1242209862850","2164d56564360fd2b5dba2f2c6ef1045ab448c3b60b2f2196c2f74625fc39e07"],["533b56f18283ee79b9a180b887c298961bd9aaa6fa3ef97fcb0d5688e694bc3d","6011366753812df2bce83634a92dbac18dd1cffdbf9a97fa1b1d5b49e0026764"],["4b508b94e6e2e6cd260a20664ea7d727ad20587b63ebe826032e0d20cdc6627b","1e8ecd6ff5aabae78172a0214d07a5013992d133af58afa74049de726df2a6c4"],["3398c0c0219f5ac87a8c73fcd17b89311d120a53f5231cb761030c194fed4265","025b234a1dc8662c068c4ba903939c2f79f3f7a3ae64e5edbf667b13599142d9"],["5941a17b04cd3465031cb6745cb94eed24e1ff8d38a6e832f1637ae8e89c78e6","5309792c546b6cda458be331957763b5adb5d535d54a4a61023678faa2ee02ee"],["2cb490d2c0047fcbaffe1df26640bee73c158af6fec91343d606ce9d124a20c9","2e2952ebf089200aebfa3947f241e2fe85797afebdc1ea06d9d26de1b446a964"],["79305236b583232a91c63c7d9ca3750be7ee21711e4d6d257c39ae398212bde1","6f9ecdfa953e302c2014fd8512405e4be0d48302acd15e93936e8dba7d01053b"],["57d9fcb884b94664f35387fa6665cd9bc8136f90d804d77416ea99c3c653ee63","14197e65f0a3599c0b9fcef75b5fbb93580d1b2457b59fb70ce7b9bac88d0fbc"],["6d99df2c28c9fa1e38acddefd3e0931109143d873f3330377a9926bdacdd6523","2f21987905f397f092fc56c5ccd301a1e6afa3c4611627e25017b2e68d07c150"],["749d19591f1755bd481fa12a288166aac42911654c8c551395b265116269ceb9","7ec145aa7558d0342cd87b1750933cb6f3717e727a86a1cc1f2b0c274213688d"],["340f7f5ae19292957902635a5786d14fa38036b324ae759da501e32b8c4073f1","64e231a413f1379a26f4e8223ff91fe2ccd865549571d3c6c28871964b40a0ea"],["4aa33e00bf6e92cac4e84384e5dde0727394233afd5d24d357a8afeb94b08109","3385bb4fbc441937ee01b671d506227a654fd6c1c532cf5221710c6c56ec7e21"],["34b2ffca05f01088de266306c5cc122661e9308eab16929774e58565afc0e4eb","7662faf0f70e82c062c2b835fc6da3353d3cb20b80611ffa6ef2982cf62fa605"],["820fcb51326f1536ddb8dc1052aa198406c7e48f2c81e7664d15f8f9d3715e","756574c23bb01170b97d9fa1663a8ff2f5b97eaa5cd53f34140c1bcec8c262d9"],["0861d7e84cec6d6e33641ff6c85202fc0e9160797809ddc2193802499caf05d3","34936e0a5dc7e2a6217d475fbb8c1c607fb8b3565908a04fd5948abdd399c59f"],["5b4a1dc887ef684d7b4b165b70acb70842a2fa105935af15ecb4a097e33b8f2b","54d21511c05805e5298a72372b8289e9d59c46dc8b5c368bbfda620b68aa652c"],["755493ed60b13f03f9c019362a5af73fb49842dd6916e2572b1b6a312cd20cfc","0750bcbf7e449cec422b93ace1489e1b177d4dbbaa781d315c74d54bb444e9a9"],["5f1c341065b6a81ed2edb6bc38ba81b4c2e3fe2058e5baa13e1406eb2c5b4b4b","6179ebfa7f8086f26820fc99ca2f94c1be19bca672d79cea5b02a836119e06ba"],["1915024ee86acfba3f61ced9707521197195166fb1c4639bf3b3fcf0bf0ded46","5f2e0547032221d2b00937cf524590e3d90901ef0286ea0b032c1a81461b6d92"],["4e942d95930f38c8786ff4a8e576e7a29fb7627afe1fff91cda5006ba0624f5d","45902f695d512d70ce4c1e0520c0060896b94e14d2960b2fcf2ed5e138e0217b"],["63e45f3d91ab915d412bbaa17d1d249e1a1445077fbfaa6be7d35041c5116a91","46dad5a4ec2ad0b86938f5e09f1c03b53b660fc5137648b08527cd20708003da"],["5e2ddd2175417f72c9962c503ac5adf94ed11f28b9d41fccb6a4512886f3cc87","3523b218478911145af1dc431feb7db0a04066eb6e2ade3c7b67d11bc55323aa"],["62ff30a6b179a26e7247a8312cb3af3289e5d722f76a29f203aa623889aa05ec","562beb7999019346beaa80dfd5b95d614e1ff96c1cb1037f65c44997b797d066"],["14988b5d62084fb8335c2f261cdeddc1b634b09cedfce713ff5f0a0bb588a556","447068731fb98e821b8e413b3b48f2d1c8bea308f05aac877006b0f4c3b0cab3"],["1ac777f708a5942cc434236920e82ccc6af920c0a0676712255aa7082b37a5b6","52a6f88d92af1887c781501c6e3a88169a2831b74aefd416f22b47e8335ce317"],["5959792833b71bd5042b78e42212af671f5f87a08eafd8cdde2dcec8140e4bb3","41ce94633eabb8a1b08fac66f762997ed8c9e2af3558e1f6586ad6a5bf5b7b64"],["4464a7962e6722b457336fe98c91765b1ff178f9e892e90129e65fa7688a0607","3d1510b92fd33c501f058a7a86bddedf1b83f9b6e4f04829d321117013f891fe"],["62906d81e7f800e662519f4324ab4c8aac197661c729eed3e744d09efe721c08","4b68efb5b1b709ab86e3253d70bee87ba07875c04a64ecf7e35cd8cdc6c0f7d8"],["4300ff025ac78ef36e58ee7d0d732cf76cd0929fe265b3a093a57f23fc326757","2f92880570846ff2e90d91f16bce3705c9c3ca8011cc543091463b623e4b3c01"],["5427ba28d94652527a9b0c76f57a451e46bdc06cbc8a2481df17f66ffb1524e3","547a97c4afc8d1f74a5d51f7e524f68472f589cc0b396b21368628721537d722"],["424c4493810bfd5e3ffa21776326d8ff62bf8fe74504d7a2db5d3f74e5ce1015","74d0daa832d40405d01551a58b330ffc5abd5356230d6d7cabeb5b1a55046f32"],["54e10980d81b4ae8778896684295fa5c5475e8d68ec2a26e1b0a65383507b3cd","6b1eb48da6886c4d88cea720e9dc8b0d8c51a8f0e1943afa31a40eeb553c0676"],["732eb9e9ebb556e9f024c5574166738f4707b0fd005f568212ab575c1db71ddb","1fc6b00c89e48114d6b13d9920a0c78093994f2b08df147bdbb56bead2cea165"],["74029c04b34b7f314855fee42a04d0ddfdeb92ef3bf7cff629928a97733d96fb","501f63a252dfbc090733b5a208bfe08f81c91419ce3d2d6c0de8cdc5a5625014"],["04524402ebb71a60bf1055001000203a6d4917f112e50dd766cdd7b718a6edd7","71c9e2d15cdc47c565a696ffbe55277570930ed7ade13b9a254059365d5bf338"],["2555c620a50f2bbeeacac66228a96941fa733aa6070855331613578ed7c12794","2b3c1bc5cda7f93242561dbf7572237ac43bf013553230633a5e18b7e71597e5"],["555ea607b0ad18afaf70d7450543d7ffb5b883a3cad3e2778826ca97bf3211a6","6df903158f51aa530d411720a760f8ad0ce9904d54955fda74a349be58eddf5f"],["4db3cfa284207a250a9c83e1fec07e804d70065da586ff2c2a7d2bcb92e6fca6","2a4fbf1c51dc0b2a7783db2be3bd35c2d6462470c88c8b73ae3ce8503fa07154"],["5174e33ffdf28a87184a4d6427d821cbaa3b88ac293a90ca7e1eeae8c5050b16","315ca6bc8e35e4a3d06f89e1db1575b16197963ee8e64746fa998ccd403561cc"]]},doubles:{step:4,points:[["23a4860627e53aeeb8e22b1508249c9109578d33e7bf237459b2596d6c28f9f8","709696f2827fc3729f980f2e3aad6e78b06a11ff8e079c27d87aab37c16727eb"],["5e7e07ed4e1decbfe6e9cbc126905449d4b578fbb561576d20b8bcdd0cc2a556","0f55755c51f102796bf5ebaa81d3260e7d1b3d9ac127d9a80e142031566cf6c7"],["7d13c0248b891b47eb524f2692008e2f97b199bac426cb5902b9003a29ded6ea","59a976ab2c01a81a91f1a56c75ccc77a9e1e9e878e9fe9c3952080a6805b20d5"],["5de7faa2ee4e70132f541f79ca07cd54a39fe1347a6844d19e9d678a8411a565","2c9f23641e1c2e0aab8ea9926b432d92c0e8bc08901d6ff6df85e4cef854ec36"],["06b349eebfed4dad4a805b63a6ed2231a565cda752d9477ff427dd9a8c9ab5ed","07a09289ff3e1f9aab68aa374c48df65f550c2323607b97744dee990608b64f8"],["0af367956af630266b1cc760154256ed79da960dddca9d72a1e8cf27d8d43a77","21108d900134d3b3708dd28ace96b0b23dda9100e4b6a62a8131bd2f2ba408c5"],["1e45a60140a3b2dee9b8dc6ff307154a1b410bcd38e0e38fb10b2f6da1afbe2b","0e730da473dffd60d2f3241a85e68acb47d26e5043ad047d893f072c8dda0a76"],["4d1e116d136158c5ddabd4276832800f2c081c1072de6f2d931797a46abc0cbb","6d415be49d4e35b65cc51354b5008f8c43e84b7b5e8a4b84f44e1efb10c9b91a"],["2b6b892ae94b454b2c2d92bb947fc4d506d173d281779c2c153c001ded42d3d0","7f1cf64e0e180fc4d6e12c1b5c5285f376e979616a52c94a0dea4d48c5880cd2"],["0f6c3a96e0032a9394337a02ffb2c83ba70efb8f566feab530fc90fa3b4710e5","3d4e97e286378675038a4b58e84224ee515e1d6697ac79389f78479be167635a"],["52ee53b981dfbc41ddaa5ddc2754c4175f4811aa45f8e2b19a425657c238a83e","7eb0a1be3400dec87b388cad51613957643cdf0595b891cc6f925fb36da7f1c3"],["52a837bc7a7bc9459bcc2ecf80f74d9ed99def0342e18cfbe8e799fbc504fd52","50d6460185d8924e5485f23f36a98c86053514d163547adab6fe91478a411196"],["6b2bd5d00fab38ceca21a27d6aaec82626b14b555d859527718f8ca404eba4","727340c27a15f6ab3d80547f0827c56ab1ba33bc30d1ef3909ea9a3af10c67e5"],["71dd75fe35761c01a48597ec730bc33237902fd4ad8612cbed1031eebdf40de4","39674a4532078e34378667beae5cb55f814ead9bbaf7e01b3b69533e9f88a411"],["57426aefc21be9ccf162e23d25ac3002ba8534351e65613f870f690f2fd46cf5","6b45b002fb4e8a6f59a6ffb006ed71f75434217333b266325204c7d1ac2e1f34"],["6222bd88bf2df9d5d44b60cfb4a08a960078db7ed51a35eb3e0b6b8ff4eda202","0325bb42ea4ed025dd6bdaed261b7c4f5410b608ba902b068f1efa5782e45313"],["71ac99647b61b9eca6f0c23432a518f738aee708d5932d4ef0f172240250a226","3a96c2c028ebe5f48913be30147e41bc5e1cab9595d5404138a9aa1b5574cf25"],["1f6a1fd8cc0e05b2742ba0fc0369b5247670543637dd033e64dbce90b2f23e9f","779964401ee869a9b31c0ef874a86440ba85d25c2ce932bd31a0865869605e19"],["22e2c039067920c42980dcb3a905fc91601c2b34e819ce1532ada4a5fc39d5cc","631cf9945a09bf26d7e595b3f8e3390696870512820df63c5418577089e1a8bb"],["608de273a9f6a534219d7aaede3cf65a81e4dc03d7a2765eced1d2b7be4610f4","3b31d0113f98d81ab1312fb2837aa9c8dcc7960f84eb371358c6d841f67144fa"],["3f748617ca63ab3e44c6e34f63e7328ea56a2a146da34368a57dca181254fe02","0fed89e6420fc47b3938a2891ba9acee4cbb2899ee4e9ca15a13dc527dc1641e"],["69d98b5ecc35d56c97c0bf312955d199befe116b417d70f5f57e2dfd0af81ce5","3e26d487fbfe36ab44e0ca3b248fe94bce92a69b8154d50e2d5481f8259f4e8e"],["1e34443347f9e627b3531157faab6eaca1bc3114df4a1423cc12bf8417b5d622","295955a5ed061eca7f87b9485666ba9489ec20a9c484224dc920350bb4a6fc79"],["51f4ff8c599b1c96da82941520a9f5abf4a31eb8b84fc95056145ceb3b5775d0","35ac9588d46e41f3f6f99aee3852eeb4b12e807807d4bd1b7f8406b0d7863ac1"],["3faa2a093a19a02424f65a10955101f4dc015c43b2dfce8e001507abd741b845","7a1de10dacfda389ca663b15574bdc8ae8c5b6e7cee647e77b11ddbfc6eb8edc"],["1924416956ea2c1269062588569b18178011ea7cba1a3266284f48aa01d5a90f","0c8e28127b7dcdd206fb6fee96eb88cfc7db7319826ac8cdb8b1fb8adaf021de"],["49761c57ce3c8c4f1435d495903e2f536f3be3712e76af8d0b5a8b7d1ebc8fac","3225035e1065094ef32d7f3e7a6f8ff2748025f96e0c0b44eb35576b61e150a8"],["4339fa86a23242851a16afc3ab05b352a7b4bf53599a49dd7e29d364fc3a757b","6d07cc3462bae9160bbebb997510817040767faa9dbd13f158a5fe8a63a34b0e"],["6bda13918dcbaf8529d6326ae7a9c278b72417c2188c5ea4f062fc50639295fb","2c3fa803b162ee887d0d97a6734866f992f846625f314117075da54bb6c20a36"],["4da4821314574d4fed4dcf692c8b15b99b73f13633210333ce7871359b6e6424","314016034673d2d20529bc93a2dab6e462bcb5f66e1f4a6bf2170759a40a6e65"],["0b2cea0029ee963c0034b61bf19e384435f14554a7d297b5144838c38e375586","47ea95da28d39aaade5edb8ed941c687603cfdd1508776e96d6683199e99daea"],["4c27afff3c45f32c952d3984e14e29a098e685c9c2e723e5fc8047ae60b7e824","5f2c99e6526dc87d95f11eb626c29c3a90d0be1e51a4c49e5bbabd114bf5a66b"],["53e2a4ed1bbb48bd016c524a02f797654cfc969849f867681da94e341f377534","5a2334fdda642732a3c9520ce06581aa7f0f082882554c37b8d390a25a9bd559"],["7b8d2c823baafe0d878a55e8af1db150dec85b1424a4901f9beffd3a6196e3d6","1c45a557b3624f9b89ed15b3c3e1a065f1b453d948f7cf45d9494483f8af0c85"],["78877b5d8777410997dacaeea59400fc9db4421fac02c4282301c67d35fb7ffe","0341b46c328333e4484ce8607619014d41775c408c88856d2f9e19812d90fbf5"],["2b556bbc070b5c4bae9e575836d1d68ee9fbe800448c0d2c233f78185eed3f91","7ba01332807ebd892e00ddb368c0fa1b3f19b5b32efd90b178d984e1d7174d6f"],["0f72556998b0044799f0fd03210ded3d984e3843bbaf3c1d5d692bc94d43c4e7","16c19c5037c103d447caef4efe6bd81a490e7c668f6870f1b080863b5315df5e"],["1cd96ef237b213cd446f13b3ec40d32ecc593bc6ea71e77efc284341a5f3da1a","7a626aeb91efcb5f9777264f5e17ced8b411f68c713673ef0f184a5ccd60dbe3"],["31a75b21cb532622a7caf9e29e652ac4e47b1450edf6655acaf3797b55a7ca46","77006e7cf104982f8865081a2ff8a6911546755e31c3586353b0bd0826c5d790"],["543d84cb04fb2bf787b7aa382eaab5cd8d050ad8ee52aa8a285b945652014031","0358fdc5b63ed49e693d838f182b275846f42dd49a42ec2e6e932ba4de59ef20"],["0a2818f5f5d8937800c30ac6b847db2cdef655b864126302249144a5a15b205a","187c76a49af10851bb049ba97c0fbbb14b2621522a4e8d9670ea46e56c9a1bd6"],["7efb45d3a2851109d7a8d50ddb08fe308bbf674c019b965cdad4570a141e648a","0fe1198b11a1bf56867091c69d71f8b7792257dda321d43652e818acd0c28cda"],["472e960dd122a534f52377235350549df4a1dd7a08cfc580bff5fb4b0a70aa7b","10585d04fc529fef4c0c0776154fc7ebbaedbae8a99937e47598d0578932b7cc"],["04892cfff7f94ff7f07c1241e3ac4945bc46ea9d6a3c1c3adbce109a9afceb6a","3ae2aa25e2555135a7a3251c11a3f8eebe81758bc1c3e2cbc6e6ca461a543130"],["2401d311a3abfd2583f1c6aa519c1f18ff730a0abf730ddcc9c9739b04d8a85e","653224f3488cae1ae19a414a9932035a2bf2c46803b5532bbb645e62387ee34d"],["0ea2c846a535a115972161612a192588d92d68a3c9050eae91b2817b94e68325","3b82a8337b05f11bbac176a113be183a50a0331f3d3116f24b971b5a8b0d031b"],["0fb3f87c2c6c89c65b74299b77f3736546a8b9e41b19197476bff27354e1c128","1034d42c15a2bfe3e682fad49dbc2812caadf0c584bc30b51625b85d74e9d5f7"],["1bc7af1e38185e7c2d8d04371c7e177d7a9ddee1b81d7d26db7ad644c7dad28d","61d909d855661f2f7a5eef87795dc0491d027e12631b270fcaf2f65900314833"],["469d0960dbd0ef9c91c4597ccf7c209549b187ff63bd378b7dac577198d74a4d","0b5f21c7f86832241f2157c288bdc9394f83f8d57457f6d9f6b345e4909478cb"],["5e9ac4ab2f4a3c3526e1317f913d69e3826fe862efd0c80d9310319170c5cbeb","505f00fa8aee03ccbd2f33529ae1e4e4bcf2644fe673d0b0290ec32be5b51bab"],["11cd80e1fdcbc565efed81d17f3f54643ffeed1cff38f3825e115adbd82759f1","43f11943f7ef3fa68b980fee45e98134f1df22263b2d14419d61ffe62822dbe0"],["3328bc121616a9477165ed282053d203c24f4826076c638a2c6723d42c9bfadb","2bbf3f26c21b5cb273e5f4f0114c6718c5eb7291939b7697c74333cdfafac039"],["0ba774bb605dd804cae6887e81f6bd2c59e024fac8bf5f5c48a841a037c28398","54ba013ad2d04dcdfb5a151b7347ee9a10067ddd0a3907e9bc337a77bf911321"],["1074ff0267662dc2b4ce65aaa0229c375a3d0d843ce9349233949581c869b64c","299be0decb680ec28923da4d049770107d42c180b460da13a7b1efc7e6d5b022"],["25ed76d78c87c3bd64b4331902c5a853734283e25f19f320295667b80a340d35","179b5f92f545c7b326b3a63fb0b32a0f52b4159988436d5af50c1d0d76373947"],["75d942c04210dcde5d1bd4fabfc732d3f95568e399382c0423c83c41cb05dc3f","696cc14856cdc13c8fd7e2c5771731cbf38e3fad47a424679765c4874e35ab2d"],["5d9324f56975477d5945599eeeccec67708c996cd3f3f2818bf2591507e3502a","10985a3cfd573205281aec24e2c8b41f5cd8cdfc9d7be34675cf306bbe1b4f6a"],["7511066c0e12105a7b937c7ecef367d5afe6e621e5cabf4e490b09b7ada7ee07","604df365b8391cbca8848f88daa700b770da5bb136f70bfb0a3ea33ba386fcd5"],["2596e5b3cf5494e60d2a750d03c66abc2e0183af53620b893f9cf9fc3b76dc26","68a0a7ac9a0cc093884a6b84f45a2cde595194e0f48dbd566fa78a3174b182fe"],["28bd38d44030dd9ca028b2a2f31a795f4c7a5e85a785df7847e3d525e99d4787","552dd7405c4183733ad3c4e7ccb999b4fed81b7a4444aab499d41d6d78d5bbfc"],["59233a3346f61135f431f96cf0197e24ad38240b222c010a6ce538cf4c24347b","3cce55908611d2b93f221613f09cfc4dbcd2e2b609233eea5439ad1908a10b20"],["5830f025f1078d408948f73096af97de1e9e70b3be85890acb21132c34ff961f","67d451752c2433ffe66e47242e301e56db2b2f8203553cab9de717e25793d41e"],["6a0c8b194571e874b82d904da36d43096bbe36d512e24ff8dcb2b00b57ffd3ec","5f85adb7749cc735ec838bcccfe7d4b52902c6132998d7ac8e032cad031c42b8"],["53b3f967bff8760948dec5e9282f35d1434a5503790b9012e17faefbe7c4d699","404462283c8664a17daa5b4059dcd10e2699fd86d0140de9f3e8ad0566098ae5"]]}}}],["bcrypto","/lib/ed448-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * ed448.js - ed448 for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(73,C)}],["bcrypto","/lib/js/ed448.js",function(f,Le,C,Fe,He,Ve){/*!
 * ed448.js - ed448 for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://eprint.iacr.org/2015/625.pdf
 *   https://tools.ietf.org/html/rfc8032#section-5.2
 */const e=ce(70,C),S=ce(74,C);C.exports=new e("ED448","X448","MONT448",S)}],["bcrypto","/lib/shake256.js",function(f,Le,C,Fe,He,Ve){/*!
 * shake256.js - SHAKE256 implementation for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */const e=ce(75,C);class S extends e{constructor(){super()}init(){return super.init(256)}static hash(){return new S}static hmac(Q){return super.hmac(256,Q)}static digest(Q,P){return super.digest(Q,256,P)}static root(Q,P,g){return super.root(Q,P,256,g)}static multi(Q,P,g,u){return super.multi(Q,P,g,256,u)}static mac(Q,P,g){return super.mac(Q,P,256,g)}}S.native=e.native,S.id="SHAKE256",S.size=32,S.bits=256,S.blockSize=136,S.zero=_e.alloc(32,0),S.ctx=new S,C.exports=S}],["bcrypto","/lib/shake.js",function(f,Le,C,Fe,He,Ve){/*!
 * shake.js - SHAKE implementation for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-3
 *   https://keccak.team/specifications.html
 *   https://csrc.nist.gov/projects/hash-functions/sha-3-project/sha-3-standardization
 *   http://dx.doi.org/10.6028/NIST.FIPS.202
 */const e=ce(76,C);class S extends e{constructor(){super()}final(Q){return super.final(31,Q)}static hash(){return new S}static hmac(Q,P){return super.hmac(Q,31,P)}static digest(Q,P,g){return super.digest(Q,P,31,g)}static root(Q,P,g,u){return super.root(Q,P,g,31,u)}static multi(Q,P,g,u,H){return super.multi(Q,P,g,u,31,H)}static mac(Q,P,g,u){return super.mac(Q,P,g,31,u)}}S.native=e.native,S.id="SHAKE256",S.size=32,S.bits=256,S.blockSize=136,S.zero=_e.alloc(32,0),S.ctx=new S,C.exports=S}],["bcrypto","/lib/keccak-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * keccak.js - keccak for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(77,C)}],["bcrypto","/lib/js/keccak.js",function(f,Le,C,Fe,He,Ve){/*!
 * keccak.js - Keccak/SHA3 implementation for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on emn178/js-sha3:
 *   Copyright (c) 2015-2017, Chen, Yi-Cyuan (MIT License).
 *   https://github.com/emn178/js-sha3
 *
 * Parts of this software are based on rhash/RHash:
 *   Copyright (c) 2005-2014, Aleksey Kravchenko
 *   https://github.com/rhash/RHash
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-3
 *   https://keccak.team/specifications.html
 *   https://csrc.nist.gov/projects/hash-functions/sha-3-project/sha-3-standardization
 *   http://dx.doi.org/10.6028/NIST.FIPS.202
 *   https://github.com/rhash/RHash/blob/master/librhash/sha3.c
 *   https://github.com/emn178/js-sha3/blob/master/src/sha3.js
 */const e=ce(24,C),S=ce(27,C),oe=2147483648,Q=new Uint32Array([1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648]);class P{constructor(){this.state=new Uint32Array(50),this.block=_e.alloc(200),this.bs=136,this.pos=oe}init(H){H==null&&(H=256),e(H>>>0===H),e(H>=128),e(H<=512);const a=1600-H*2;return e(a>=0&&(a&63)===0),this.bs=a>>>3,this.pos=0,this}update(H){e(H!=null&&H._isBuffer===!0),e(!(this.pos&oe),"Context is not initialized.");let a=H.length,s=this.pos,n=0;if(this.pos=(this.pos+a)%this.bs,s>0){let p=this.bs-s;if(p>a&&(p=a),H.copy(this.block,s,n,n+p),s+=p,a-=p,n+=p,s<this.bs)return this;this._transform(this.block,0)}for(;a>=this.bs;)this._transform(H,n),n+=this.bs,a-=this.bs;return a>0&&H.copy(this.block,0,n,n+a),this}final(H,a){H==null&&(H=1),(a==null||a===0)&&(a=100-(this.bs>>>1)),e((H&255)===H),e(a>>>0===a),e(!(this.pos&oe),"Context is not initialized."),this.block.fill(0,this.pos,this.bs),this.block[this.pos]|=H,this.block[this.bs-1]|=128,this._transform(this.block,0),this.pos=oe,e(a<=this.bs);const s=_e.alloc(a);for(let n=0;n<a;n++)s[n]=this.state[n>>>2]>>>8*(n&3);for(let n=0;n<50;n++)this.state[n]=0;for(let n=0;n<this.bs;n++)this.block[n]=0;return s}_transform(H,a){const s=this.bs>>>2,n=this.state;for(let p=0;p<s;p++)n[p]^=g(H,a+p*4);for(let p=0;p<48;p+=2){const v=n[0]^n[10]^n[20]^n[30]^n[40],K=n[1]^n[11]^n[21]^n[31]^n[41],w=n[2]^n[12]^n[22]^n[32]^n[42],m=n[3]^n[13]^n[23]^n[33]^n[43],_=n[4]^n[14]^n[24]^n[34]^n[44],E=n[5]^n[15]^n[25]^n[35]^n[45],d=n[6]^n[16]^n[26]^n[36]^n[46],T=n[7]^n[17]^n[27]^n[37]^n[47],N=n[8]^n[18]^n[28]^n[38]^n[48],R=n[9]^n[19]^n[29]^n[39]^n[49],O=N^(w<<1|m>>>31),A=R^(m<<1|w>>>31),y=v^(_<<1|E>>>31),U=K^(E<<1|_>>>31),q=w^(d<<1|T>>>31),k=m^(T<<1|d>>>31),o=_^(N<<1|R>>>31),h=E^(R<<1|N>>>31),z=d^(v<<1|K>>>31),J=T^(K<<1|v>>>31);n[0]^=O,n[1]^=A,n[10]^=O,n[11]^=A,n[20]^=O,n[21]^=A,n[30]^=O,n[31]^=A,n[40]^=O,n[41]^=A,n[2]^=y,n[3]^=U,n[12]^=y,n[13]^=U,n[22]^=y,n[23]^=U,n[32]^=y,n[33]^=U,n[42]^=y,n[43]^=U,n[4]^=q,n[5]^=k,n[14]^=q,n[15]^=k,n[24]^=q,n[25]^=k,n[34]^=q,n[35]^=k,n[44]^=q,n[45]^=k,n[6]^=o,n[7]^=h,n[16]^=o,n[17]^=h,n[26]^=o,n[27]^=h,n[36]^=o,n[37]^=h,n[46]^=o,n[47]^=h,n[8]^=z,n[9]^=J,n[18]^=z,n[19]^=J,n[28]^=z,n[29]^=J,n[38]^=z,n[39]^=J,n[48]^=z,n[49]^=J;const M=n[0],X=n[1],B=n[11]<<4|n[10]>>>28,G=n[10]<<4|n[11]>>>28,$=n[20]<<3|n[21]>>>29,le=n[21]<<3|n[20]>>>29,Ee=n[31]<<9|n[30]>>>23,Ne=n[30]<<9|n[31]>>>23,ke=n[40]<<18|n[41]>>>14,se=n[41]<<18|n[40]>>>14,ge=n[2]<<1|n[3]>>>31,ve=n[3]<<1|n[2]>>>31,Ue=n[13]<<12|n[12]>>>20,re=n[12]<<12|n[13]>>>20,Re=n[22]<<10|n[23]>>>22,r=n[23]<<10|n[22]>>>22,c=n[33]<<13|n[32]>>>19,b=n[32]<<13|n[33]>>>19,V=n[42]<<2|n[43]>>>30,ie=n[43]<<2|n[42]>>>30,L=n[5]<<30|n[4]>>>2,x=n[4]<<30|n[5]>>>2,j=n[14]<<6|n[15]>>>26,t=n[15]<<6|n[14]>>>26,l=n[25]<<11|n[24]>>>21,I=n[24]<<11|n[25]>>>21,Y=n[34]<<15|n[35]>>>17,Z=n[35]<<15|n[34]>>>17,W=n[45]<<29|n[44]>>>3,ue=n[44]<<29|n[45]>>>3,pe=n[6]<<28|n[7]>>>4,Ie=n[7]<<28|n[6]>>>4,te=n[17]<<23|n[16]>>>9,D=n[16]<<23|n[17]>>>9,F=n[26]<<25|n[27]>>>7,he=n[27]<<25|n[26]>>>7,we=n[36]<<21|n[37]>>>11,Me=n[37]<<21|n[36]>>>11,de=n[47]<<24|n[46]>>>8,Se=n[46]<<24|n[47]>>>8,ye=n[8]<<27|n[9]>>>5,me=n[9]<<27|n[8]>>>5,Te=n[18]<<20|n[19]>>>12,xe=n[19]<<20|n[18]>>>12,Pe=n[29]<<7|n[28]>>>25,Ce=n[28]<<7|n[29]>>>25,Ke=n[38]<<8|n[39]>>>24,qe=n[39]<<8|n[38]>>>24,Ye=n[48]<<14|n[49]>>>18,$e=n[49]<<14|n[48]>>>18;n[0]=M^~Ue&l,n[1]=X^~re&I,n[10]=pe^~Te&$,n[11]=Ie^~xe&le,n[20]=ge^~j&F,n[21]=ve^~t&he,n[30]=ye^~B&Re,n[31]=me^~G&r,n[40]=L^~te&Pe,n[41]=x^~D&Ce,n[2]=Ue^~l&we,n[3]=re^~I&Me,n[12]=Te^~$&c,n[13]=xe^~le&b,n[22]=j^~F&Ke,n[23]=t^~he&qe,n[32]=B^~Re&Y,n[33]=G^~r&Z,n[42]=te^~Pe&Ee,n[43]=D^~Ce&Ne,n[4]=l^~we&Ye,n[5]=I^~Me&$e,n[14]=$^~c&W,n[15]=le^~b&ue,n[24]=F^~Ke&ke,n[25]=he^~qe&se,n[34]=Re^~Y&de,n[35]=r^~Z&Se,n[44]=Pe^~Ee&V,n[45]=Ce^~Ne&ie,n[6]=we^~Ye&M,n[7]=Me^~$e&X,n[16]=c^~W&pe,n[17]=b^~ue&Ie,n[26]=Ke^~ke&ge,n[27]=qe^~se&ve,n[36]=Y^~de&ye,n[37]=Z^~Se&me,n[46]=Ee^~V&L,n[47]=Ne^~ie&x,n[8]=Ye^~M&Ue,n[9]=$e^~X&re,n[18]=W^~pe&Te,n[19]=ue^~Ie&xe,n[28]=ke^~ge&j,n[29]=se^~ve&t,n[38]=de^~ye&B,n[39]=Se^~me&G,n[48]=V^~L&te,n[49]=ie^~x&D,n[0]^=Q[p+0],n[1]^=Q[p+1]}}static hash(){return new P}static hmac(H,a,s){H==null&&(H=256),e(H>>>0===H);const n=1600-H*2;return e(n>=0&&(n&63)===0),new S(P,n>>>3,[H],[a,s])}static digest(H,a,s,n){return P.ctx.init(a).update(H).final(s,n)}static root(H,a,s,n,p){return s==null&&(s=256),p==null&&(p=0),p===0&&(p=s>>>3),e(s>>>0===s),e((s&7)===0),e(p>>>0===p),e(H!=null&&H._isBuffer===!0&&H.length===p),e(a!=null&&a._isBuffer===!0&&a.length===p),P.ctx.init(s).update(H).update(a).final(n,p)}static multi(H,a,s,n,p,v){const{ctx:K}=P;return K.init(n),K.update(H),K.update(a),s&&K.update(s),K.final(p,v)}static mac(H,a,s,n,p){return P.hmac(s,n,p).init(a).update(H).final()}}P.native=0,P.id="KECCAK256",P.size=32,P.bits=256,P.blockSize=136,P.zero=_e.alloc(32,0),P.ctx=new P;function g(u,H){return u[H++]+u[H++]*256+u[H++]*65536+u[H]*16777216}C.exports=P}],["bcrypto","/lib/encoding/util.js",function(f,Le,C,Fe,He,Ve){/*!
 * util.js - encoding utils for javascript
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */const e=ce(24,C);function S(s){e(s!=null&&s._isBuffer===!0);let n=0;for(;n<s.length&&s[n]===0;)n+=1;let p=(s.length-n)*8;if(p===0)return 0;p-=8;let v=s[n];for(;v;)p+=1,v>>>=1;return p}function oe(s){e(s!=null&&s._isBuffer===!0);let n=s.length;for(;n>0&&s[n-1]===0;)n-=1;let p=n*8;if(p===0)return 0;p-=8;let v=s[n-1];for(;v;)p+=1,v>>>=1;return p}function Q(s,n){e(s!=null&&s._isBuffer===!0),e(n!=null&&n._isBuffer===!0);let p=0,v=s.length,K=0,w=n.length;for(;v>0&&s[p]===0;)p+=1,v-=1;for(;w>0&&n[K]===0;)K+=1,w-=1;if(v<w)return-1;if(v>w)return 1;for(let m=0;m<v;m++){if(s[p+m]<n[K+m])return-1;if(s[p+m]>n[K+m])return 1}return 0}function P(s,n){e(s!=null&&s._isBuffer===!0),e(n!=null&&n._isBuffer===!0);let p=s.length,v=n.length;for(;p>0&&s[p-1]===0;)p-=1;for(;v>0&&n[v-1]===0;)v-=1;if(p<v)return-1;if(p>v)return 1;for(let K=p-1;K>=0;K--){if(s[K]<n[K])return-1;if(s[K]>n[K])return 1}return 0}function g(s){e(s!=null&&s._isBuffer===!0);let n=0;for(;n<s.length&&s[n]===0;)n+=1;return s.slice(n)}function u(s){e(s!=null&&s._isBuffer===!0);let n=s.length;for(;n>0&&s[n-1]===0;)n-=1;return s.slice(0,n)}function H(s,n){if(e(s!=null&&s._isBuffer===!0),e(n>>>0===n),s.length>n&&(s=g(s)),s.length>n)throw new RangeError(`Buffer expected to be ${n} bytes in size.`);const p=_e.alloc(n,0);return s.copy(p,n-s.length),p}function a(s,n){if(e(s!=null&&s._isBuffer===!0),e(n>>>0===n),s.length>n&&(s=u(s)),s.length>n)throw new RangeError(`Buffer expected to be ${n} bytes in size.`);const p=_e.alloc(n,0);return s.copy(p,0),p}f.countLeft=S,f.countRight=oe,f.compareLeft=Q,f.compareRight=P,f.trimLeft=g,f.trimRight=u,f.padLeft=H,f.padRight=a}],["bns-plus","/lib/util.js",function(f,Le,C,Fe,He,Ve){/*!
 * util.js - utils for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns and golang/go:
 *   https://github.com/miekg/dns/blob/master/labels.go
 *   https://github.com/miekg/dns/blob/master/dnsutil/util.go
 */const e=ce(2,C),S=ce(4,C),oe=ce(45,C),{sizeName:Q}=ce(80,C),P=f;P.splitName=function(s){if(e(typeof s=="string"),s.length===0)return[];const n=P.split(s),p=[];let v=0,K=0;switch(P.isFQDN(s)?v=s.length-1:v=s.length,n.length){case 0:return[];case 1:break;default:{for(let w=1;w<n.length;w++){const m=n[w];p.push(s.substring(K,m-1)),K=m}break}}return p.push(s.substring(K,v)),p},P.compareName=function(s,n){e(typeof s=="string"),e(typeof n=="string");let p=0;if(s==="."||n===".")return 0;const v=P.split(s),K=P.split(n);let w=v.length-1,m=v.length-2,_=K.length-1,E=K.length-2;const d=s.substring(v[w]),T=n.substring(K[_]);if(!P.equal(d,T))return p;for(p+=1;!(m<0||E<0);){const N=s.substring(v[m],v[w]),R=n.substring(K[E],K[_]);if(!P.equal(N,R))break;p+=1,w-=1,m-=1,_-=1,E-=1}return p},P.countLabels=function(s){e(typeof s=="string");let n=0;if(s===".")return n;let p=0,v=!1;for(;[p,v]=P.nextLabel(s,p),n+=1,!v;);return n},P.split=function(s){if(e(typeof s=="string"),s===".")return[];const n=[0];let p=0,v=!1;for(;[p,v]=P.nextLabel(s,p),!v;)n.push(p);return n},P.nextLabel=function(s,n){if(e(typeof s=="string"),e(typeof n=="number"),s.length===0)return[0,!0];let p=0;for(p=n;p<s.length-1;p++){if(s.charCodeAt(p)!==46)continue;let v=p-1;for(;v>=0&&s.charCodeAt(v)===92;)v-=1;if((v-p)%2!==0)return[p+1,!1]}return[p+1,!0]},P.prevLabel=function(s,n){if(e(typeof s=="string"),e(typeof n=="number"),s.length===0)return[0,!0];if(n===0)return[s.length,!1];let p=s.length-1;for(s.charCodeAt(p)===46&&(p-=1);p>=0&&n>0;p--){if(s.charCodeAt(p)!==46)continue;let v=p-1;for(;v>=0&&s.charCodeAt(v)===92;)v-=1;if((v-p)%2!==0&&(n-=1,n===0))return[p+1,!1]}return[0,n>1]},P.equal=function(s,n){if(e(typeof s=="string"),e(typeof n=="string"),s.length!==n.length)return!1;for(let p=s.length-1;p>=0;p--){let v=s.charCodeAt(p),K=n.charCodeAt(p);if(v>=65&&v<=90&&(v|=32),K>=65&&K<=90&&(K|=32),v!==K)return!1}return!0},P.compare=function(s,n){e(typeof s=="string"),e(typeof n=="string");const p=Math.min(s.length,n.length);for(let v=0;v<p;v++){let K=s.charCodeAt(v),w=n.charCodeAt(v);if(K>=65&&K<=90&&(K|=32),w>=65&&w<=90&&(w|=32),K<w)return-1;if(K>w)return 1}return s.length<n.length?-1:s.length>n.length?1:0},P.isName=function(s){e(typeof s=="string");try{return Q(P.fqdn(s),null,!1),!0}catch{return!1}},P.isFQDN=function(s){if(e(typeof s=="string"),s.length===0)return!1;const n=s.length-1;if(s.charCodeAt(n)!==46)return!1;let p=n-1;for(;p>=0&&s.charCodeAt(p)===92;)p-=1;return(p-n)%2!==0},P.fqdn=function(s){return P.isFQDN(s)?s:s+"."},P.trimFQDN=function(s){return P.isFQDN(s)?s.slice(0,-1):s},P.isSubdomain=function(s,n){return P.compareName(s,n)===P.countLabels(s)},P.addOrigin=function(s,n){return e(typeof s=="string"),e(typeof n=="string"),P.isFQDN(s)||n.length===0?s:s==="@"||s.length===0?n:n==="."?P.fqdn(s):`${s}.${n}`},P.trimDomainName=function(s,n){if(e(typeof s=="string"),e(typeof n=="string"),s.length===0)return"@";if(n===".")return P.trimFQDN(s);const p=s;if(s=P.fqdn(s),n=P.fqdn(n),!P.isSubdomain(n,s))return p;const v=P.split(s),K=P.split(n),w=P.compareName(s,n);return K.length===w&&(K.length===v.length||s[0]==="."&&v.length===K.length+1)?"@":s.substring(0,v[v.length-w]-1)},P.label=function(s,n,p){if(typeof n=="number"&&(p=n,n=P.split(s)),e(typeof s=="string"),e(Array.isArray(n)),e(typeof p=="number"),p<0&&(p+=n.length),p>=n.length)return"";const v=n[p];if(p+1===n.length)return P.isFQDN(s)?s.slice(v,-1):s.substring(v);const K=n[p+1];return s.substring(v,K-1)},P.from=function(s,n,p){return typeof n=="number"&&(p=n,n=P.split(s)),e(typeof s=="string"),e(Array.isArray(n)),e(typeof p=="number"),p<0&&(p+=n.length),p>=n.length?"":s.substring(n[p])},P.to=function(s,n,p){return typeof n=="number"&&(p=n,n=P.split(s)),e(typeof s=="string"),e(Array.isArray(n)),e(typeof p=="number"),p<0&&(p+=n.length),p>=n.length?"":s.substring(0,n[p])},P.startsWith=function(s,n){return e(typeof s=="string"),e(typeof n=="string"),s.startsWith?s.startsWith(n):n.length===0?!0:s.length===0||n.length>s.length?!1:n.length===1?s[0]===n:s.substring(0,n.length)===n},P.endsWith=function(s,n){return e(typeof s=="string"),e(typeof n=="string"),s.endsWith?s.endsWith(n):n.length===0?!0:s.length===0||n.length>s.length?!1:n.length===1?s[s.length-1]===n:s.slice(-n.length)===n},P.trimPrefix=function(s,n){return P.startsWith(s,n)?s.slice(n.length):s},P.trimSuffix=function(s,n){return P.endsWith(s,n)?s.slice(0,-n.length):s},P.isRRSet=function(s){if(e(Array.isArray(s)),s.length===0)return!1;if(s.length===1)return!0;const n=s[0].type,p=s[0].class,v=s[0].name;for(let K=1;K<s.length;K++){const w=s[K];if(w.type!==n||w.class!==p||!P.equal(w.name,v))return!1}return!0},P.filterSet=function(s,...n){e(Array.isArray(s));const p=new Set(n),v=[];for(const K of s)p.has(K.type)||v.push(K);return v},P.extractSet=function(s,n,...p){e(Array.isArray(s)),e(typeof n=="string");const v=new Set(p),K=[];for(const w of s)if(v.has(w.type)){if(n!==""&&!P.equal(w.name,n))continue;K.push(w)}return K},P.hasType=function(s,n){e(Array.isArray(s)),e(typeof n=="number");for(const p of s)if(p.type===n)return!0;return!1},P.hasAll=function(s,n){e(Array.isArray(s)),e(typeof n=="number");for(const p of s)if(p.type!==n)return!1;return!0},P.random=function(s){return oe.randomRange(0,s)},P.randomItem=function(s){return e(Array.isArray(s)),s[P.random(s.length)]},P.timeOffset=0,P.now=function(){return Math.floor(Date.now()/1e3)+P.timeOffset},P.fakeTime=function(s){if(s==null&&(s=0),typeof s=="string"&&(s=Math.floor(Date.parse(s)/1e3)),e(Number.isSafeInteger(s)),e(s>=0),s===0){P.timeOffset=0;return}const n=Math.floor(Date.now()/1e3);P.timeOffset=s-n},P.digDate=function(s){s==null&&(s=P.now()),e(Number.isSafeInteger(s)),e(s>=0);const n=new Date(s*1e3),p=n.toDateString(),v=n.toTimeString(),K=p.split(" "),w=v.split(" "),[m,_,E,d]=K,[T]=w;let N="";if(w.length===3)N=w[2],N[0]==="("&&(N=N.slice(1,-1));else if(w.length>3){N="";for(let R=2;R<w.length;R++){const O=w[R];R===2&&O[0]==="("?N+=O[1]:N+=O[0]}}else N=w[1];return`${m} ${_} ${E} ${T} ${N} ${d}`},P.parseInteger=function(s,n,p){e(typeof s=="string");let v=0;if(s.length===0||s.length>p)throw new Error("Invalid integer.");for(let K=0;K<s.length;K++){const w=s.charCodeAt(K)-48;if(w<0||w>9)throw new Error("Invalid integer.");if(v*=10,v+=w,v>n)throw new Error("Invalid integer.")}return v},P.parseU8=function(s){return P.parseInteger(s,255,3)},P.parseU16=function(s){return P.parseInteger(s,65535,5)},P.parseU32=function(s){return P.parseInteger(s,4294967295,10)},P.parseU48=function(s){return P.parseInteger(s,0xffffffffffff,15)},P.parseU64=function(s){if(e(typeof s=="string"),s.length===0||s.length>20)throw new Error("Invalid integer.");let n=0,p=0;for(let v=0;v<s.length;v++){const K=s.charCodeAt(v)-48;if(K<0||K>9)throw new Error("Invalid integer.");if(p*=10,p+=K,n*=10,p>4294967295){const w=p%4294967296;n+=(p-w)/4294967296,p=w}if(n>4294967295)throw new Error("Invalid integer.")}return[n,p]},P.serializeU64=function(s,n){e(s>>>0===s),e(n>>>0===n);let p="";do{const v=s%10;s-=v,s/=10,n+=v*4294967296;const K=n%10;n-=K,n/=10;const w=K+48;p=String.fromCharCode(w)+p}while(n>0||s>0);return p},P.dir=function(s,n=!0){Yt.dir(s,{depth:20,colors:!0,customInspect:n})},P.isIP=function(s){return S.test(s)!==0},P.id=function(){return oe.randomInt()&65535},P.cookie=function(){return oe.randomBytes(8)},P.sortRandom=function(s){return e(Array.isArray(s)),s.length<=1?s:s.slice().sort(g)},P.ensureLF=function(s){return e(typeof s=="string"),s=s.replace(/\r\n/g,`
`),s=s.replace(/\r/g,`
`),s},P.ensureSP=function(s){return e(typeof s=="string"),s.replace(/[ \t\v]/g," ")},P.splitLF=function(s,n){return e(typeof s=="string"),n===null&&(n=je),s.trim().split(/\n+/,n)},P.splitSP=function(s,n){return e(typeof s=="string"),n===null&&(n=je),s.trim().split(/[ \t\v]+/,n)},P.stripBOM=function(s){return e(typeof s=="string"),s.length===0||s.charCodeAt(0)!==65279?s:s.substring(1)},P.stripSP=function(s){return e(typeof s=="string"),s.replace(/[ \t\v]+/g,"")},P.stripLF=function(s){return e(typeof s=="string"),s.replace(/\n+/g,"")},P.splitColon=function(s){e(typeof s=="string");const n=s.indexOf(":");if(n===-1)return[s.toLowerCase(),""];const p=s.substring(0,n).trim(),v=s.substring(n+1).trim();return[p,v]},P.splitLines=function(s,n,p){e(typeof s=="string"),s=P.stripBOM(s),s=P.ensureLF(s),s=P.ensureSP(s),n&&(s=s.replace(/\\\n/g,""));const v=P.splitLF(s,p),K=[];for(const w of v){const m=w.trim();m.length!==0&&K.push(m)}return K},P.isHex=function(s){return e(typeof s=="string"),s.length&1?!1:/^[A-Fa-f0-9]+$/.test(s)},P.parseHex=function(s){if(e(typeof s=="string"),s.length&1)throw new Error("Invalid hex string.");const n=_e.from(s,"hex");if(n.length!==s.length>>>1)throw new Error("Invalid hex string.");return n},P.isB64=function(s){return e(typeof s=="string"),/^[A-Za-z0-9+\/=]+$/.test(s)},P.parseB64=function(s){e(typeof s=="string");const n=_e.from(s,"base64");if(s.length>H(n.length))throw new Error("Invalid base64 string.");return n},P.padRight=function(s,n){if(e(s!=null&&s._isBuffer===!0),e(n>>>0===n),s.length<n){const p=_e.allocUnsafe(n);return s.copy(p,0),p.fill(0,s.length,n),p}return s.length>n?s.slice(0,n):s},P.pad=function(s,n){e(s>>>0===s),e(n>>>0===n);let p=s.toString(10);for(;p.length<n;)p="0"+p;return p},P.parseTime=function(s){e(typeof s=="string"),e(s.length===14);const n=u(s,0,4),p=u(s,4,6),v=u(s,6,8),K=u(s,8,10),w=u(s,10,12),m=u(s,12,14),_=new Date(0);_.setUTCFullYear(n),_.setUTCMonth(p-1),_.setUTCDate(v),_.setUTCHours(K),_.setUTCMinutes(w),_.setUTCSeconds(m),_.setUTCMilliseconds(0);const E=_.getTime();if(!Number.isSafeInteger(E))throw new RangeError("Invalid time value.");return e(E%1e3===0),E/1e3},P.serializeTime=function(s){e(Number.isSafeInteger(s)),e(Number.isSafeInteger(s*1e3));const n=new Date(s*1e3),p=n.getTime();if(!Number.isSafeInteger(p))throw new RangeError("Invalid time value.");const v=P.pad(n.getUTCFullYear(),4),K=P.pad(n.getUTCMonth()+1,2),w=P.pad(n.getUTCDate(),2),m=P.pad(n.getUTCHours(),2),_=P.pad(n.getUTCMinutes(),2),E=P.pad(n.getUTCSeconds(),2);return`${v}${K}${w}${m}${_}${E}`},P.serial=function(s){e(Number.isSafeInteger(s)),e(Number.isSafeInteger(s*1e3));const n=new Date(s*1e3),p=n.getTime();if(!Number.isSafeInteger(p))throw new RangeError("Invalid time value.");const v=n.getUTCFullYear()*1e6,K=(n.getUTCMonth()+1)*1e4,w=n.getUTCDate()*100,m=n.getUTCHours();return v+K+w+m};function g(a,s){return-(oe.randomInt()&1)|1}function u(a,s,n){const p=a.substring(s,n);return P.parseU16(p)}function H(a){return(4*a/3+3&-4)>>>0}}],["bns-plus","/lib/encoding.js",function(f,Le,C,Fe,He,Ve){/*!
 * encoding.js - encoding for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns and golang/go:
 *   https://github.com/miekg/dns/blob/master/msg.go
 *   https://github.com/miekg/dns/blob/master/types.go
 *   https://github.com/golang/go/blob/master/src/net/dnsmsg.go
 */const e=ce(2,C),S=ce(4,C),oe=ce(14,C),Q=ce(11,C),{EncodingError:P}=oe,{MAX_NAME_SIZE:g,MAX_LABEL_SIZE:u}=Q,H=[" "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~"," "],a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=_e.allocUnsafe(g*4),n=_e.allocUnsafe(g*4),p=_e.alloc(0),v=f;v.sizeName=function(d,T,N){const[R]=v.writeName(null,d,0,T,N);return R},v.writeName=function(d,T,N,R,O){d==null&&(d=null),R==null&&(R=null),O==null&&(O=R!=null),e(d===null||d!=null&&d._isBuffer===!0),e(typeof T=="string"),e(N>>>0===N),e(R===null||R instanceof Map),e(typeof O=="boolean");let A=T.length;if(A===0||T[A-1]!==".")throw new P(0,"No dot");if(A>g*4)throw new P(0,"Name too large");const y=s;if(y.write(T,"ascii")!==A)throw new P(0,"Invalid string");let U=-1,q=-1,k=0,o=!1,h=!0,z=0;for(let J=0;J<A;J++){if(y[J]===92){for(let M=J;M<A-1;M++)y[M]=y[M+1];if(A-=1,w(y,J,A)){y[J]=m(y,J);for(let M=J+1;M<A-2;M++)y[M]=y[M+2];A-=2}o=y[J]===46,h=!1;continue}if(y[J]===46){if(J>0&&y[J-1]===46&&!o)throw new P(N,"Multiple dots");const M=J-k;if(M>u)throw new P(N,"Maximum label size exceeded");if(d){if(N+1>d.length)throw new P(N,"EOF");d[N]=M}if(O&&!h&&(T=y.toString("ascii",0,A),h=!0),R){const X=T.substring(k);if(X!=="."){const B=R.get(X);if(B==null)N<2<<13&&R.set(X,N);else if(O&&q===-1){q=B,U=N;break}}}if(N+=1,d){if(N+M>d.length)throw new P(N,"EOF");e(y.copy(d,N,k,J)===M)}N+=M,z+=1,k=J+1}o=!1}if(A>g)throw new P(N,"Maximum name size exceeded");if(A===1&&y[0]===46)return[N,z];if(q!==-1){if(N=U,d){if(N+2>d.length)throw new P(N,"EOF");oe.writeU16BE(d,q^49152,N)}return N+=2,[N,z]}if(d){if(N+1>d.length)throw new P(N,"EOF");d[N]=0}return N+=1,[N,z]},v.readName=function(d,T,N){N==null&&(N=!0),e(d!=null&&d._isBuffer===!0),e(T>>>0===T),e(typeof N=="boolean");let R="",O=0,A=g,y=0;for(;;){if(T>=d.length)throw new P(T,"EOF");const U=d[T];if(T+=1,U===0)break;switch(U&192){case 0:{if(U>u)throw new P(T,"Maximum label size exceeded");if(T+U>d.length)throw new P(T,"EOF");if(R.length+U+1>A)throw new P(T,"Maximum name length exceeded");for(let q=T;q<T+U;q++){const k=d[q];switch(k){case 46:case 40:case 41:case 59:case 32:case 64:case 34:case 92:{if(!N)throw new P(T,"Unexpected character");R+="\\"+H[k],A+=1;break}default:{if(k<32||k>126){if(!N)throw new P(T,"Unexpected character");R+="\\"+_(k),A+=3}else R+=H[k];break}}}R+=".",T+=U;break}case 192:{if(!N)throw new P(T,"Unexpected compression byte");if(T>=d.length)throw new P(T,"EOF");const q=d[T];if(T+=1,y===0&&(O=T),y+=1,y>10)throw new P(T,"Too many pointers");T=(U^192)<<8|q;break}default:throw new P(T,"Invalid byte")}}return y===0&&(O=T),R.length===0&&(R="."),e(R.length<=A),[O,R]},v.writeNameBW=function(d,T,N,R){e(d);const{data:O,offset:A}=d,[y,U]=v.writeName(O,T,A,N,R);return d.offset=y,U},v.readNameBR=function(d,T){T==null&&(T=!0),e(d);const[N,R]=v.readName(d.data,d.offset,T);return d.offset=N,R},v.packName=function(d){const T=v.sizeName(d,null,!1),N=_e.allocUnsafe(T);return v.writeName(N,d,0,null,!1),N},v.unpackName=function(d){const[,T]=v.readName(d,0,!0);return T},v.isName=function(d){e(typeof d=="string");let T=d.length;if(T===0||d[T-1]!=="."||T>g*4)return!1;const N=s;if(N.write(d,"ascii")!==T)return!1;let R=!1,O=0;for(let A=0;A<T;A++){if(N[A]===92){for(let y=A;y<T-1;y++)N[y]=N[y+1];if(T-=1,w(N,A,T)){N[A]=m(N,A);for(let y=A+1;y<T-2;y++)N[y]=N[y+2];if(T-=2,N[A]>=32&&N[A]<=126)return!1}else switch(N[A]){case 46:case 40:case 41:case 59:case 32:case 64:case 34:case 92:break;default:return!1}R=N[A]===46;continue}switch(N[A]){case 40:case 41:case 59:case 32:case 64:case 34:case 92:return!1;default:if(N[A]<32||N[A]>126)return!1;break}if(N[A]===46){if(A>0&&N[A-1]===46&&!R||A-O>u)return!1;O=A+1}R=!1}return!(T>g)},v.toName=function(d,T){if(T==null&&(T="utf8"),e(typeof T=="string"),d!=null&&d._isBuffer===!0){if(d.length+1>g)throw new P(0,"Name too large");d=d.toString("hex"),T="hex"}e(typeof d=="string");let N=v._escapeString(d,!1,T);(N.length===0||N[N.length-1]!==".")&&(N+=".");const R=n,[O]=v.writeName(R,N,0,null,!1);if(O>=R.length)throw new P(0,"Name too large");const A=R.slice(0,O);return v.readName(A,0,!0)[1]},v.fromName=function(d,T){return T==null&&(T="utf8"),e(v.isName(d)),e(typeof T=="string"),v._unescapeString(d,!1,T)},v.sizeRawString=function(d){return v.writeRawString(null,d,0)},v.writeRawString=function(d,T,N){d==null&&(d=null),e(d===null||d!=null&&d._isBuffer===!0),e(typeof T=="string"),e(N>>>0===N);let R=T.length;if(R>g*4)throw new P(0,"String too large");const O=s;if(O.write(T,"ascii")!==R)throw new P(0,"Invalid string");for(let A=0;A<R;A++){if(O[A]===92){for(let y=A;y<R-1;y++)O[y]=O[y+1];if(R-=1,w(O,A,R)){O[A]=m(O,A);for(let y=A+1;y<R-2;y++)O[y]=O[y+2];R-=2}}if(d){if(N+1>d.length)throw new P(N,"EOF");d[N]=O[A]}N+=1}if(R>g)throw new P(N,"Maximum string size exceeded");return N},v.readRawString=function(d,T,N,R){if(R==null&&(R=!1),e(d!=null&&d._isBuffer===!0),e(T>>>0===T),e(N>>>0===N),e(typeof R=="boolean"),N>g)throw new P(T,"Maximum string size exceeded");if(T+N>d.length)throw new P(T,"EOF");const O=32+(R?1:0),A=T,y=T+N;let U="";for(let q=A;q<y;q++){const k=d[q];switch(k){case 34:case 92:U+="\\"+H[k];break;default:k<O||k>126?U+="\\"+_(k):U+=H[k];break}}return[y,U]},v.packRawString=function(d){const T=v.sizeRawString(d),N=_e.allocUnsafe(T);return v.writeRawString(N,d,0),N},v.unpackRawString=function(d,T){e(d);const[,N]=v.readRawString(d,0,d.length,T);return N},v.writeRawStringBW=function(d,T){e(d);const{data:N,offset:R}=d;return d.offset=v.writeRawString(N,T,R),d},v.readRawStringBR=function(d,T,N){e(d);const[R,O]=v.readRawString(d.data,d.offset,T,N);return d.offset=R,O},v.sizeString=function(d){return v.writeString(null,d,0)},v.writeString=function(d,T,N){d==null&&(d=null),e(d===null||d!=null&&d._isBuffer===!0),e(typeof T=="string"),e(N>>>0===N);const R=N;if(d){if(N+1>d.length)throw new P(N,"EOF");d[N]=0}N+=1;const A=v.writeRawString(d,T,N)-N;return d&&(d[R]=A),N+=A,N},v.readString=function(d,T,N){if(e(d!=null&&d._isBuffer===!0),e(T>>>0===T),T+1>d.length)throw new P(T,"EOF");const R=d[T];return T+=1,v.readRawString(d,T,R,N)},v.packString=function(d){const T=v.sizeString(d),N=_e.allocUnsafe(T);return v.writeString(N,d,0),N},v.unpackString=function(d,T){const[,N]=v.readString(d,0,T);return N},v.isString=function(d,T){T==null&&(T=!1),e(typeof d=="string"),e(typeof T=="boolean");let N=d.length;if(N>g*4)return!1;const R=32+(T?1:0),O=s;if(O.write(d,"ascii")!==N)return!1;for(let A=0;A<N;A++){if(O[A]===92){for(let y=A;y<N-1;y++)O[y]=O[y+1];if(N-=1,w(O,A,N)){O[A]=m(O,A);for(let y=A+1;y<N-2;y++)O[y]=O[y+2];if(N-=2,O[A]>=R&&O[A]<=126)return!1}else switch(O[A]){case 34:case 92:break;default:return!1}continue}switch(O[A]){case 34:case 92:return!1;default:if(O[A]<R||O[A]>126)return!1;break}}return!(N>g)},v._escapeString=function(d,T,N){T==null&&(T=!1),N==null&&(N="utf8"),e(typeof T=="boolean");let R,O;if(d!=null&&d._isBuffer===!0){if(R=d,O=R.length,O>g)throw new P(0,"String too large")}else if(e(typeof d=="string"),e(typeof N=="string"),R=n,O=R.write(d,N),O>=R.length)throw new P(0,"String too large");return v.readRawString(R,0,O,T)[1]},v.toString=function(d,T,N){return v._escapeString(d,T,N)},v._unescapeString=function(d,T,N){N==null&&(N="utf8"),e(typeof d=="string"),e(typeof N=="string");const R=n,O=v.writeRawString(R,d,0);return N==="buffer"?_e.from(R.slice(0,O)):R.toString(N,0,O)},v.fromString=function(d,T,N){return e(v.isString(d,T)),v._unescapeString(d,T,N)},v.writeStringBW=function(d,T){e(d&&typeof d=="object");const{data:N,offset:R}=d;return d.offset=v.writeString(N,T,R),d},v.readStringBR=function(d,T){e(d&&typeof d=="object");const[N,R]=v.readString(d.data,d.offset,T);return d.offset=N,R},v.writeIP=function(d,T,N){return S.writeBW(d,T,N)},v.readIP=function(d,T){return S.readBR(d,T)},v.reverse=function(d){const T=S.toBuffer(d);let N="",R=15;if(S.isIPv4(T)){for(;R>=12;R--){const O=T[R];N+=O.toString(10),N+="."}return`${N}in-addr.arpa.`}for(;R>=0;R--){const O=T[R];N+=a[O&15],N+=".",N+=a[O>>>4],N+="."}return`${N}ip6.arpa.`},v.toBitmap=function(d){if(e(Array.isArray(d)),d.length===0)return _e.allocUnsafe(0);if(d.length>32*256)throw new Error("Too many types for bitmap.");let T=0;for(const y of d)e((y&65535)===y),y>T&&(T=y);const N=(T>>>8)+1,R=N*34,O=_e.alloc(R,0);for(const y of d){const U=y>>>8,q=y&255,k=U*34+2+(q>>>3),o=q&7;O[k]|=1<<7-o}let A=0;for(let y=0;y<N;y++){const U=y*34+2;let q=31;for(;q>=0&&O[U+q]===0;q--);const k=q+1;if(k!==0){O[A++]=y,O[A++]=k;for(let o=U;o<U+k;o++)O[A++]=O[o]}}return O.slice(0,A)},v.fromBitmap=function(d){e(d!=null&&d._isBuffer===!0);const T=[];let N=0;for(;N<d.length&&!(N+2>d.length||N>=34*256);){const R=d[N++],O=d[N++];if(O===0||O>32||N+O>d.length)break;const A=O<<3;for(let y=0;y<A;y++){const U=y>>>3,q=y&7,k=d[N+U],o=1<<7-q;if(k&o){const h=R<<8|y;T.push(h)}}}return T},v.hasType=function(d,T){e(d!=null&&d._isBuffer===!0),e((T&65535)===T);let N=0;for(;N<d.length&&!(N+2>d.length||N>=34*256);){const R=d[N++],O=d[N++];if(O===0||O>32||N+O>d.length||R*256>T)break;if((R+1)*256<=T){N+=O;continue}if(T<R*256+O*8){const A=T>>>3,y=T&7,U=d[N+A],q=1<<7-y;if(U&q)return!0}N+=O}return!1},v.toPortmap=function(d){if(e(Array.isArray(d)),d.length===0)return p;let T=0;for(const A of d)e((A&65535)===A),A>T&&(T=A);const R=(T+1+7)/8|0,O=_e.alloc(R,0);for(const A of d){const y=A>>>3,U=A&7;O[y]|=1<<7-U}return O},v.fromPortmap=function(d){e(d!=null&&d._isBuffer===!0);const T=[];for(let N=0;N<=1024;N++){const R=N>>>3,A=1<<7-(N&7);if(R>=d.length)break;d[R]&A&&T.push(N)}return T},v.hasPort=function(d,T){e(d!=null&&d._isBuffer===!0),e((T&65535)===T);const N=T>>>3,O=1<<7-(T&7);return N>=d.length?!1:!!(d[N]&O)};function K(E){return E>=48&&E<=57}function w(E,d,T){return e(E!=null&&E._isBuffer===!0),e(d>>>0===d),e(T>>>0===T),e(T<=E.length),!(d+3>T||!K(E[d+0])||!K(E[d+1])||!K(E[d+2]))}function m(E,d){e(E!=null&&E._isBuffer===!0),e(d>>>0===d),e(d+3<=E.length);const T=(E[d+0]-48)*100,N=(E[d+1]-48)*10,R=(E[d+2]-48)*1;return T+N+R}function _(E){e((E&255)===E);const d=E.toString(10);switch(d.length){case 1:return`00${d}`;case 2:return`0${d}`;case 3:return d;default:throw new Error("Invalid byte.")}}}],["bns-plus","/lib/internal/lazy-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * lazy.js - lazy require for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(82,C),oe=ce(83,C),Q=ce(88,C);function P(g){switch(e(typeof g=="string"),g){case"./iana":case"./internal/iana":return S;case"./scan":case"./internal/scan":return oe;case"./schema":case"./internal/schema":return Q}throw new Error(`Unknown module: ${g}.`)}C.exports=P}],["bns-plus","/lib/internal/iana.js",function(f,Le,C,Fe,He,Ve){/*!
 * iana.js - assigned names/numbers
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Resources
 *   http://www.iana.org/assignments/port-numbers
 *   https://tools.ietf.org/html/rfc6335
 *   https://tools.ietf.org/html/rfc1010
 *   https://www.ietf.org/rfc/rfc1035.txt
 *   https://github.com/c-ares/c-ares/blob/master/ares_platform.c
 */const e=ce(2,C),S=ce(11,C),oe=S._toSymbol,Q=S._fromSymbol,P=S._isSymbol,g=f,u={RESERVED:0,ICMP:1,IGMP:2,GGP:3,ST:5,TCP:6,UCL:7,EGP:8,IGP:9,"BBN-RCC-MON":10,"NVP-II":11,PUP:12,ARGUS:13,EMCON:14,XNET:15,CHAOS:16,UDP:17,MUX:17,"DCN-MEAS":19,HMP:20,PRM:21,"XNS-IDP":22,"TRUNK-1":23,"TRUNK-2":24,"LEAF-1":25,"LEAF-2":26,RDP:27,IRTP:28,"ISO-TP4":29,NETBLT:30,"MFE-NSP":31,"MERIT-INP":32,SEP:33,INTERNAL:61,CFTP:62,LOCAL:63},H={[u.RESERVED]:"RESERVED",[u.ICMP]:"ICMP",[u.IGMP]:"IGMP",[u.GGP]:"GGP",[u.ST]:"ST",[u.TCP]:"TCP",[u.UCL]:"UCL",[u.EGP]:"EGP",[u.IGP]:"IGP",[u["BBN-RCC-MON"]]:"BBN-RCC-MON",[u["NVP-II"]]:"NVP-II",[u.PUP]:"PUP",[u.ARGUS]:"ARGUS",[u.EMCON]:"EMCON",[u.XNET]:"XNET",[u.CHAOS]:"CHAOS",[u.UDP]:"UDP",[u.MUX]:"MUX",[u["DCN-MEAS"]]:"DCN-MEAS",[u.HMP]:"HMP",[u.PRM]:"PRM",[u["XNS-IDP"]]:"XNS-IDP",[u["TRUNK-1"]]:"TRUNK-1",[u["TRUNK-2"]]:"TRUNK-2",[u["LEAF-1"]]:"LEAF-1",[u["LEAF-2"]]:"LEAF-2",[u.RDP]:"RDP",[u.IRTP]:"IRTP",[u["ISO-TP4"]]:"ISO-TP4",[u.NETBLT]:"NETBLT",[u["MFE-NSP"]]:"MFE-NSP",[u["MERIT-INP"]]:"MERIT-INP",[u.SEP]:"SEP",[u.INTERNAL]:"INTERNAL",[u.CFTP]:"CFTP",[u.LOCAL]:"LOCAL"},a={tcpmux:1,compressnet:2,rje:5,echo:7,discard:9,systat:11,daytime:13,qotd:17,msp:18,chargen:19,"ftp-data":20,ftp:21,ssh:22,telnet:23,smtp:25,"nsw-fe":27,"msg-icp":29,"msg-auth":31,dsp:33,time:37,rap:38,rlp:39,graphics:41,name:42,nameserver:42,nicname:43,"mpm-flags":44,mpm:45,"mpm-snd":46,"ni-ftp":47,auditd:48,tacacs:49,"re-mail-ck":50,"la-maint":51,"xns-time":52,domain:53,"xns-ch":54,"isi-gl":55,"xns-auth":56,"xns-mail":58,"ni-mail":61,acas:62,"whois++":63,covia:64,"tacacs-ds":65,"sql*net":66,bootps:67,bootpc:68,tftp:69,gopher:70,"netrjs-1":71,"netrjs-2":72,"netrjs-3":73,"netrjs-4":74,deos:76,vettcp:78,finger:79,http:80,www:80,"www-http":80,xfer:82,"mit-ml-dev":83,ctf:84,mfcobol:86,kerberos:88,"su-mit-tg":89,dnsix:90,"mit-dov":91,npp:92,dcp:93,objcall:94,supdup:95,dixie:96,"swift-rvf":97,tacnews:98,metagram:99,newacct:100,hostname:101,"iso-tsap":102,gppitnp:103,"acr-nema":104,cso:105,"csnet-ns":105,"3com-tsmux":106,rtelnet:107,snagas:108,pop2:109,pop3:110,sunrpc:111,mcidas:112,ident:113,auth:113,sftp:115,ansanotify:116,"uucp-path":117,sqlserv:118,nntp:119,cfdptkt:120,erpc:121,smakynet:122,ntp:123,ansatrader:124,"locus-map":125,nxedit:126,"locus-con":127,"gss-xlicen":128,pwdgen:129,"cisco-fna":130,"cisco-tna":131,"cisco-sys":132,statsrv:133,"ingres-net":134,epmap:135,profile:136,"netbios-ns":137,"netbios-dgm":138,"netbios-ssn":139,"emfis-data":140,"emfis-cntl":141,"bl-idm":142,imap:143,uma:144,uaac:145,"iso-tp0":146,"iso-ip":147,jargon:148,"aed-512":149,"sql-net":150,hems:151,bftp:152,sgmp:153,"netsc-prod":154,"netsc-dev":155,sqlsrv:156,"knet-cmp":157,"pcmail-srv":158,"nss-routing":159,"sgmp-traps":160,snmp:161,snmptrap:162,"cmip-man":163,"cmip-agent":164,"xns-courier":165,"s-net":166,namp:167,rsvd:168,send:169,"print-srv":170,multiplex:171,"cl/1":172,"xyplex-mux":173,mailq:174,vmnet:175,"genrad-mux":176,xdmcp:177,nextstep:178,bgp:179,ris:180,unify:181,audit:182,ocbinder:183,ocserver:184,"remote-kis":185,kis:186,aci:187,mumps:188,qft:189,gacp:190,prospero:191,"osu-nms":192,srmp:193,irc:194,"dn6-nlm-aud":195,"dn6-smm-red":196,dls:197,"dls-mon":198,smux:199,src:200,"at-rtmp":201,"at-nbp":202,"at-3":203,"at-echo":204,"at-5":205,"at-zis":206,"at-7":207,"at-8":208,qmtp:209,"z39.50":210,"914c/g":211,anet:212,ipx:213,vmpwscs:214,softpc:215,CAIlic:216,dbase:217,mpp:218,uarps:219,imap3:220,"fln-spx":221,"rsh-spx":222,cdc:223,masqdialer:224,direct:242,"sur-meas":243,inbusiness:244,link:245,dsp3270:246,subntbcst_tftp:247,bhfhs:248,set:257,"esro-gen":259,openport:260,nsiiops:261,arcisdms:262,hdap:263,bgmp:264,"x-bone-ctl":265,sst:266,"td-service":267,"td-replica":268,manet:269,gist:270,"http-mgmt":280,"personal-link":281,"cableport-ax":282,rescap:283,corerjd:284,fxp:286,"k-block":287,novastorbakcup:308,entrusttime:309,bhmds:310,"asip-webadmin":311,vslmp:312,"magenta-logic":313,"opalis-robot":314,dpsi:315,decauth:316,zannet:317,"pkix-timestamp":318,"ptp-event":319,"ptp-general":320,pip:321,rtsps:322,texar:333,pdap:344,pawserv:345,zserv:346,fatserv:347,"csi-sgwp":348,mftp:349,"matip-type-a":350,"matip-type-b":351,bhoetty:351,"dtag-ste-sb":352,bhoedap4:352,ndsauth:353,bh611:354,"datex-asn":355,"cloanto-net-1":356,bhevent:357,shrinkwrap:358,nsrmp:359,scoi2odialog:360,semantix:361,srssend:362,rsvp_tunnel:363,"aurora-cmgr":364,dtk:365,odmr:366,mortgageware:367,qbikgdp:368,rpc2portmap:369,codaauth2:370,clearcase:371,ulistproc:372,"legent-1":373,"legent-2":374,hassle:375,nip:376,tnETOS:377,dsETOS:378,is99c:379,is99s:380,"hp-collector":381,"hp-managed-node":382,"hp-alarm-mgr":383,arns:384,"ibm-app":385,asa:386,aurp:387,"unidata-ldm":388,ldap:389,uis:390,"synotics-relay":391,"synotics-broker":392,meta5:393,"embl-ndt":394,netcp:395,"netware-ip":396,mptn:397,kryptolan:398,"iso-tsap-c2":399,"osb-sd":400,ups:401,genie:402,decap:403,nced:404,ncld:405,imsp:406,timbuktu:407,"prm-sm":408,"prm-nm":409,decladebug:410,rmt:411,"synoptics-trap":412,smsp:413,infoseek:414,bnet:415,silverplatter:416,onmux:417,"hyper-g":418,ariel1:419,smpte:420,ariel2:421,ariel3:422,"opc-job-start":423,"opc-job-track":424,"icad-el":425,smartsdp:426,svrloc:427,ocs_cmu:428,ocs_amu:429,utmpsd:430,utmpcd:431,iasd:432,nnsp:433,"mobileip-agent":434,"mobilip-mn":435,"dna-cml":436,comscm:437,dsfgw:438,dasp:439,sgcp:440,"decvms-sysmgt":441,cvc_hostd:442,https:443,snpp:444,"microsoft-ds":445,"ddm-rdb":446,"ddm-dfm":447,"ddm-ssl":448,"as-servermap":449,tserver:450,"sfs-smp-net":451,"sfs-config":452,creativeserver:453,contentserver:454,creativepartnr:455,"macon-tcp":456,"macon-udp":456,scohelp:457,appleqtc:458,"ampr-rcmd":459,skronk:460,datasurfsrv:461,datasurfsrvsec:462,alpes:463,kpasswd:464,urd:465,igmpv3lite:465,"digital-vrc":466,"mylex-mapd":467,photuris:468,rcp:469,"scx-proxy":470,mondex:471,"ljk-login":472,"hybrid-pop":473,"tn-tl-w1":474,"tn-tl-w2":474,tcpnethaspsrv:475,"tn-tl-fd1":476,ss7ns:477,spsc:478,iafserver:479,iafdbase:480,ph:481,"bgs-nsi":482,ulpnet:483,"integra-sme":484,powerburst:485,avian:486,saft:487,"gss-http":488,"nest-protocol":489,"micom-pfs":490,"go-login":491,"ticf-1":492,"ticf-2":493,"pov-ray":494,intecourier:495,"pim-rp-disc":496,dantz:497,siam:498,"iso-ill":499,isakmp:500,stmf:501,"asa-appl-proto":502,intrinsa:503,citadel:504,"mailbox-lm":505,ohimsrv:506,crs:507,xvttp:508,snare:509,fcp:510,passgo:511,exec:512,comsat:512,biff:512,login:513,who:513,shell:514,syslog:514,printer:515,videotex:516,talk:517,ntalk:518,utime:519,efs:520,router:520,ripng:521,ulp:522,"ibm-db2":523,ncp:524,timed:525,tempo:526,stx:527,custix:528,"irc-serv":529,courier:530,conference:531,netnews:532,netwall:533,windream:534,iiop:535,"opalis-rdv":536,nmsp:537,gdomap:538,"apertus-ldp":539,uucp:540,"uucp-rlogin":541,commerce:542,klogin:543,kshell:544,appleqtcsrvr:545,"dhcpv6-client":546,"dhcpv6-server":547,afpovertcp:548,idfp:549,"new-rwho":550,cybercash:551,"devshr-nts":552,pirp:553,rtsp:554,dsf:555,remotefs:556,"openvms-sysipc":557,sdnskmp:558,teedtap:559,rmonitor:560,monitor:561,chshell:562,nntps:563,"9pfs":564,whoami:565,streettalk:566,"banyan-rpc":567,"ms-shuttle":568,"ms-rome":569,meter:570,sonar:572,"banyan-vip":573,"ftp-agent":574,vemmi:575,ipcd:576,vnas:577,ipdd:578,decbsrv:579,"sntp-heartbeat":580,bdp:581,"scc-security":582,"philips-vc":583,keyserver:584,"password-chg":586,submission:587,cal:588,eyelink:589,"tns-cml":590,"http-alt":591,"eudora-set":592,"http-rpc-epmap":593,tpip:594,"cab-protocol":595,smsd:596,ptcnameservice:597,"sco-websrvrmg3":598,acp:599,ipcserver:600,"syslog-conn":601,"xmlrpc-beep":602,idxp:603,tunnel:604,"soap-beep":605,urm:606,nqs:607,"sift-uft":608,"npmp-trap":609,"npmp-local":610,"npmp-gui":611,"hmmp-ind":612,"hmmp-op":613,sshell:614,"sco-inetmgr":615,"sco-sysmgr":616,"sco-dtmgr":617,"dei-icda":618,"compaq-evm":619,"sco-websrvrmgr":620,"escp-ip":621,collaborator:622,"oob-ws-http":623,"asf-rmcp":623,cryptoadmin:624,dec_dlm:625,asia:626,"passgo-tivoli":627,qmqp:628,"3com-amp3":629,rda:630,ipp:631,bmpp:632,servstat:633,ginad:634,rlzdbase:635,ldaps:636,lanserver:637,"mcns-sec":638,msdp:639,"entrust-sps":640,repcmd:641,"esro-emsdp":642,sanity:643,dwr:644,pssc:645,ldp:646,"dhcp-failover":647,rrp:648,"cadview-3d":649,obex:650,"ieee-mms":651,"hello-port":652,repscmd:653,aodv:654,tinc:655,spmp:656,rmc:657,tenfold:658,"mac-srvr-admin":660,hap:661,pftp:662,purenoise:663,"oob-ws-https":664,"asf-secure-rmcp":664,"sun-dr":665,mdqs:666,doom:666,disclose:667,mecomm:668,meregister:669,"vacdsm-sws":670,"vacdsm-app":671,"vpps-qua":672,cimplex:673,acap:674,dctp:675,"vpps-via":676,vpp:677,"ggf-ncp":678,mrm:679,"entrust-aaas":680,"entrust-aams":681,xfr:682,"corba-iiop":683,"corba-iiop-ssl":684,"mdc-portmapper":685,"hcp-wismar":686,asipregistry:687,"realm-rusd":688,nmap:689,vatp:690,"msexch-routing":691,"hyperwave-isp":692,connendp:693,"ha-cluster":694,"ieee-mms-ssl":695,rushd:696,uuidgen:697,olsr:698,accessnetwork:699,epp:700,lmp:701,"iris-beep":702,elcsd:704,agentx:705,silc:706,"borland-dsj":707,"entrust-kmsh":709,"entrust-ash":710,"cisco-tdp":711,tbrpf:712,"iris-xpc":713,"iris-xpcs":714,"iris-lwz":715,pana:716,netviewdm1:729,netviewdm2:730,netviewdm3:731,netgw:741,netrcs:742,flexlm:744,"fujitsu-dev":747,"ris-cm":748,"kerberos-adm":749,rfile:750,loadav:750,"kerberos-iv":750,pump:751,qrh:752,rrh:753,tell:754,nlogin:758,con:759,ns:760,rxe:761,quotad:762,cycleserv:763,omserv:764,webster:765,phonebook:767,vid:769,cadlock:770,rtip:771,cycleserv2:772,submit:773,notify:773,rpasswd:774,acmaint_dbd:774,entomb:775,acmaint_transd:775,wpages:776,"multiling-http":777,wpgs:780,mdbs_daemon:800,device:801,"fcp-udp":810,"itm-mcell-s":828,"pkix-3-ca-ra":829,"netconf-ssh":830,"netconf-beep":831,netconfsoaphttp:832,netconfsoapbeep:833,"dhcp-failover2":847,gdoi:848,iscsi:860,"owamp-control":861,"twamp-control":862,rsync:873,"iclcnet-locate":886,iclcnet_svinfo:887,accessbuilder:888,cddbp:888,omginitialrefs:900,smpnameres:901,"ideafarm-door":902,"ideafarm-panic":903,kink:910,"xact-backup":911,"apex-mesh":912,"apex-edge":913,"ftps-data":989,ftps:990,nas:991,telnets:992,imaps:993,ircs:994,pop3s:995,vsinet:996,maitrd:997,busboy:998,puparp:998,garcon:999,applix:999,puprouter:999,cadlock2:1e3,surf:1010,exp1:1021,exp2:1022},s={1:"tcpmux",2:"compressnet",3:"compressnet",5:"rje",7:"echo",9:"discard",11:"systat",13:"daytime",17:"qotd",18:"msp",19:"chargen",20:"ftp-data",21:"ftp",22:"ssh",23:"telnet",25:"smtp",27:"nsw-fe",29:"msg-icp",31:"msg-auth",33:"dsp",37:"time",38:"rap",39:"rlp",41:"graphics",42:"name",43:"nicname",44:"mpm-flags",45:"mpm",46:"mpm-snd",47:"ni-ftp",48:"auditd",49:"tacacs",50:"re-mail-ck",51:"la-maint",52:"xns-time",53:"domain",54:"xns-ch",55:"isi-gl",56:"xns-auth",58:"xns-mail",61:"ni-mail",62:"acas",63:"whois++",64:"covia",65:"tacacs-ds",66:"sql*net",67:"bootps",68:"bootpc",69:"tftp",70:"gopher",71:"netrjs-1",72:"netrjs-2",73:"netrjs-3",74:"netrjs-4",76:"deos",78:"vettcp",79:"finger",80:"http",82:"xfer",83:"mit-ml-dev",84:"ctf",85:"mit-ml-dev",86:"mfcobol",88:"kerberos",89:"su-mit-tg",90:"dnsix",91:"mit-dov",92:"npp",93:"dcp",94:"objcall",95:"supdup",96:"dixie",97:"swift-rvf",98:"tacnews",99:"metagram",100:"newacct",101:"hostname",102:"iso-tsap",103:"gppitnp",104:"acr-nema",105:"cso",106:"3com-tsmux",107:"rtelnet",108:"snagas",109:"pop2",110:"pop3",111:"sunrpc",112:"mcidas",113:"ident",115:"sftp",116:"ansanotify",117:"uucp-path",118:"sqlserv",119:"nntp",120:"cfdptkt",121:"erpc",122:"smakynet",123:"ntp",124:"ansatrader",125:"locus-map",126:"nxedit",127:"locus-con",128:"gss-xlicen",129:"pwdgen",130:"cisco-fna",131:"cisco-tna",132:"cisco-sys",133:"statsrv",134:"ingres-net",135:"epmap",136:"profile",137:"netbios-ns",138:"netbios-dgm",139:"netbios-ssn",140:"emfis-data",141:"emfis-cntl",142:"bl-idm",143:"imap",144:"uma",145:"uaac",146:"iso-tp0",147:"iso-ip",148:"jargon",149:"aed-512",150:"sql-net",151:"hems",152:"bftp",153:"sgmp",154:"netsc-prod",155:"netsc-dev",156:"sqlsrv",157:"knet-cmp",158:"pcmail-srv",159:"nss-routing",160:"sgmp-traps",161:"snmp",162:"snmptrap",163:"cmip-man",164:"cmip-agent",165:"xns-courier",166:"s-net",167:"namp",168:"rsvd",169:"send",170:"print-srv",171:"multiplex",172:"cl/1",173:"xyplex-mux",174:"mailq",175:"vmnet",176:"genrad-mux",177:"xdmcp",178:"nextstep",179:"bgp",180:"ris",181:"unify",182:"audit",183:"ocbinder",184:"ocserver",185:"remote-kis",186:"kis",187:"aci",188:"mumps",189:"qft",190:"gacp",191:"prospero",192:"osu-nms",193:"srmp",194:"irc",195:"dn6-nlm-aud",196:"dn6-smm-red",197:"dls",198:"dls-mon",199:"smux",200:"src",201:"at-rtmp",202:"at-nbp",203:"at-3",204:"at-echo",205:"at-5",206:"at-zis",207:"at-7",208:"at-8",209:"qmtp",210:"z39.50",211:"914c/g",212:"anet",213:"ipx",214:"vmpwscs",215:"softpc",216:"CAIlic",217:"dbase",218:"mpp",219:"uarps",220:"imap3",221:"fln-spx",222:"rsh-spx",223:"cdc",224:"masqdialer",242:"direct",243:"sur-meas",244:"inbusiness",245:"link",246:"dsp3270",247:"subntbcst_tftp",248:"bhfhs",256:"rap",257:"set",259:"esro-gen",260:"openport",261:"nsiiops",262:"arcisdms",263:"hdap",264:"bgmp",265:"x-bone-ctl",266:"sst",267:"td-service",268:"td-replica",269:"manet",270:"gist",280:"http-mgmt",281:"personal-link",282:"cableport-ax",283:"rescap",284:"corerjd",286:"fxp",287:"k-block",308:"novastorbakcup",309:"entrusttime",310:"bhmds",311:"asip-webadmin",312:"vslmp",313:"magenta-logic",314:"opalis-robot",315:"dpsi",316:"decauth",317:"zannet",318:"pkix-timestamp",319:"ptp-event",320:"ptp-general",321:"pip",322:"rtsps",333:"texar",344:"pdap",345:"pawserv",346:"zserv",347:"fatserv",348:"csi-sgwp",349:"mftp",350:"matip-type-a",351:"matip-type-b",352:"dtag-ste-sb",353:"ndsauth",354:"bh611",355:"datex-asn",356:"cloanto-net-1",357:"bhevent",358:"shrinkwrap",359:"nsrmp",360:"scoi2odialog",361:"semantix",362:"srssend",363:"rsvp_tunnel",364:"aurora-cmgr",365:"dtk",366:"odmr",367:"mortgageware",368:"qbikgdp",369:"rpc2portmap",370:"codaauth2",371:"clearcase",372:"ulistproc",373:"legent-1",374:"legent-2",375:"hassle",376:"nip",377:"tnETOS",378:"dsETOS",379:"is99c",380:"is99s",381:"hp-collector",382:"hp-managed-node",383:"hp-alarm-mgr",384:"arns",385:"ibm-app",386:"asa",387:"aurp",388:"unidata-ldm",389:"ldap",390:"uis",391:"synotics-relay",392:"synotics-broker",393:"meta5",394:"embl-ndt",395:"netcp",396:"netware-ip",397:"mptn",398:"kryptolan",399:"iso-tsap-c2",400:"osb-sd",401:"ups",402:"genie",403:"decap",404:"nced",405:"ncld",406:"imsp",407:"timbuktu",408:"prm-sm",409:"prm-nm",410:"decladebug",411:"rmt",412:"synoptics-trap",413:"smsp",414:"infoseek",415:"bnet",416:"silverplatter",417:"onmux",418:"hyper-g",419:"ariel1",420:"smpte",421:"ariel2",422:"ariel3",423:"opc-job-start",424:"opc-job-track",425:"icad-el",426:"smartsdp",427:"svrloc",428:"ocs_cmu",429:"ocs_amu",430:"utmpsd",431:"utmpcd",432:"iasd",433:"nnsp",434:"mobileip-agent",435:"mobilip-mn",436:"dna-cml",437:"comscm",438:"dsfgw",439:"dasp",440:"sgcp",441:"decvms-sysmgt",442:"cvc_hostd",443:"https",444:"snpp",445:"microsoft-ds",446:"ddm-rdb",447:"ddm-dfm",448:"ddm-ssl",449:"as-servermap",450:"tserver",451:"sfs-smp-net",452:"sfs-config",453:"creativeserver",454:"contentserver",455:"creativepartnr",456:"macon-tcp",457:"scohelp",458:"appleqtc",459:"ampr-rcmd",460:"skronk",461:"datasurfsrv",462:"datasurfsrvsec",463:"alpes",464:"kpasswd",465:"urd",466:"digital-vrc",467:"mylex-mapd",468:"photuris",469:"rcp",470:"scx-proxy",471:"mondex",472:"ljk-login",473:"hybrid-pop",474:"tn-tl-w1",475:"tcpnethaspsrv",476:"tn-tl-fd1",477:"ss7ns",478:"spsc",479:"iafserver",480:"iafdbase",481:"ph",482:"bgs-nsi",483:"ulpnet",484:"integra-sme",485:"powerburst",486:"avian",487:"saft",488:"gss-http",489:"nest-protocol",490:"micom-pfs",491:"go-login",492:"ticf-1",493:"ticf-2",494:"pov-ray",495:"intecourier",496:"pim-rp-disc",497:"dantz",498:"siam",499:"iso-ill",500:"isakmp",501:"stmf",502:"asa-appl-proto",503:"intrinsa",504:"citadel",505:"mailbox-lm",506:"ohimsrv",507:"crs",508:"xvttp",509:"snare",510:"fcp",511:"passgo",512:"exec",513:"login",514:"shell",515:"printer",516:"videotex",517:"talk",518:"ntalk",519:"utime",520:"efs",521:"ripng",522:"ulp",523:"ibm-db2",524:"ncp",525:"timed",526:"tempo",527:"stx",528:"custix",529:"irc-serv",530:"courier",531:"conference",532:"netnews",533:"netwall",534:"windream",535:"iiop",536:"opalis-rdv",537:"nmsp",538:"gdomap",539:"apertus-ldp",540:"uucp",541:"uucp-rlogin",542:"commerce",543:"klogin",544:"kshell",545:"appleqtcsrvr",546:"dhcpv6-client",547:"dhcpv6-server",548:"afpovertcp",549:"idfp",550:"new-rwho",551:"cybercash",552:"devshr-nts",553:"pirp",554:"rtsp",555:"dsf",556:"remotefs",557:"openvms-sysipc",558:"sdnskmp",559:"teedtap",560:"rmonitor",561:"monitor",562:"chshell",563:"nntps",564:"9pfs",565:"whoami",566:"streettalk",567:"banyan-rpc",568:"ms-shuttle",569:"ms-rome",570:"meter",571:"meter",572:"sonar",573:"banyan-vip",574:"ftp-agent",575:"vemmi",576:"ipcd",577:"vnas",578:"ipdd",579:"decbsrv",580:"sntp-heartbeat",581:"bdp",582:"scc-security",583:"philips-vc",584:"keyserver",586:"password-chg",587:"submission",588:"cal",589:"eyelink",590:"tns-cml",591:"http-alt",592:"eudora-set",593:"http-rpc-epmap",594:"tpip",595:"cab-protocol",596:"smsd",597:"ptcnameservice",598:"sco-websrvrmg3",599:"acp",600:"ipcserver",601:"syslog-conn",602:"xmlrpc-beep",603:"idxp",604:"tunnel",605:"soap-beep",606:"urm",607:"nqs",608:"sift-uft",609:"npmp-trap",610:"npmp-local",611:"npmp-gui",612:"hmmp-ind",613:"hmmp-op",614:"sshell",615:"sco-inetmgr",616:"sco-sysmgr",617:"sco-dtmgr",618:"dei-icda",619:"compaq-evm",620:"sco-websrvrmgr",621:"escp-ip",622:"collaborator",623:"oob-ws-http",624:"cryptoadmin",625:"dec_dlm",626:"asia",627:"passgo-tivoli",628:"qmqp",629:"3com-amp3",630:"rda",631:"ipp",632:"bmpp",633:"servstat",634:"ginad",635:"rlzdbase",636:"ldaps",637:"lanserver",638:"mcns-sec",639:"msdp",640:"entrust-sps",641:"repcmd",642:"esro-emsdp",643:"sanity",644:"dwr",645:"pssc",646:"ldp",647:"dhcp-failover",648:"rrp",649:"cadview-3d",650:"obex",651:"ieee-mms",652:"hello-port",653:"repscmd",654:"aodv",655:"tinc",656:"spmp",657:"rmc",658:"tenfold",660:"mac-srvr-admin",661:"hap",662:"pftp",663:"purenoise",664:"oob-ws-https",665:"sun-dr",666:"mdqs",667:"disclose",668:"mecomm",669:"meregister",670:"vacdsm-sws",671:"vacdsm-app",672:"vpps-qua",673:"cimplex",674:"acap",675:"dctp",676:"vpps-via",677:"vpp",678:"ggf-ncp",679:"mrm",680:"entrust-aaas",681:"entrust-aams",682:"xfr",683:"corba-iiop",684:"corba-iiop-ssl",685:"mdc-portmapper",686:"hcp-wismar",687:"asipregistry",688:"realm-rusd",689:"nmap",690:"vatp",691:"msexch-routing",692:"hyperwave-isp",693:"connendp",694:"ha-cluster",695:"ieee-mms-ssl",696:"rushd",697:"uuidgen",698:"olsr",699:"accessnetwork",700:"epp",701:"lmp",702:"iris-beep",704:"elcsd",705:"agentx",706:"silc",707:"borland-dsj",709:"entrust-kmsh",710:"entrust-ash",711:"cisco-tdp",712:"tbrpf",713:"iris-xpc",714:"iris-xpcs",715:"iris-lwz",716:"pana",729:"netviewdm1",730:"netviewdm2",731:"netviewdm3",741:"netgw",742:"netrcs",744:"flexlm",747:"fujitsu-dev",748:"ris-cm",749:"kerberos-adm",750:"rfile",751:"pump",752:"qrh",753:"rrh",754:"tell",758:"nlogin",759:"con",760:"ns",761:"rxe",762:"quotad",763:"cycleserv",764:"omserv",765:"webster",767:"phonebook",769:"vid",770:"cadlock",771:"rtip",772:"cycleserv2",773:"submit",774:"rpasswd",775:"entomb",776:"wpages",777:"multiling-http",780:"wpgs",800:"mdbs_daemon",801:"device",810:"fcp-udp",828:"itm-mcell-s",829:"pkix-3-ca-ra",830:"netconf-ssh",831:"netconf-beep",832:"netconfsoaphttp",833:"netconfsoapbeep",847:"dhcp-failover2",848:"gdoi",860:"iscsi",861:"owamp-control",862:"twamp-control",873:"rsync",886:"iclcnet-locate",887:"iclcnet_svinfo",888:"accessbuilder",900:"omginitialrefs",901:"smpnameres",902:"ideafarm-door",903:"ideafarm-panic",910:"kink",911:"xact-backup",912:"apex-mesh",913:"apex-edge",989:"ftps-data",990:"ftps",991:"nas",992:"telnets",993:"imaps",994:"ircs",995:"pop3s",996:"vsinet",997:"maitrd",998:"busboy",999:"garcon",1e3:"cadlock2",1010:"surf",1021:"exp1",1022:"exp2"};function n(m){e(typeof m=="string");const _=a[m];return(_&65535)!==_?0:_}function p(m){return e((m&65535)===m),s[m]||null}function v(m){return oe(m,"protocol",H,"PROTOCOL",255,3)}function K(m){return Q(m,"protocol",u,"PROTOCOL",255,3)}function w(m){return P(m,"protocol",u,"PROTOCOL",255,3)}g.protocols=u,g.protocolsByVal=H,g.services=a,g.servicesByVal=s,g.getPort=n,g.getService=p,g.protocolToString=v,g.stringToProtocol=K,g.isProtocolString=w}],["bns-plus","/lib/internal/scan.js",function(f,Le,C,Fe,He,Ve){/*!
 * scan.js - zone file parsing for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns:
 *   https://github.com/miekg/dns/blob/master/scan.go
 *   https://github.com/miekg/dns/blob/master/scan_rr.go
 *   https://github.com/miekg/dns/blob/master/generate.go
 */const e=ce(2,C),S=ce(84,C),oe=ce(4,C),Q=ce(14,C),P=ce(7,C),g=ce(87,C),u=ce(80,C),H=ce(11,C),a=ce(81,C),s=ce(88,C),n=ce(79,C),{dirname:p,resolve:v}=g,{types:K,classes:w,options:m,optionToString:_,stringToClass:E,stringToOption:d,stringToType:T,typeToString:N,DEFAULT_TTL:R,LOC_EQUATOR:O,LOC_PRIMEMERIDIAN:A}=H,y=2048,U=7,q=_e.alloc(0),k={EOF:0,STRING:1,BLANK:2,QUOTE:3,NEWLINE:4,RRTYPE:5,OWNER:6,CLASS:7,DIR_ORIGIN:8,DIR_TTL:9,DIR_INCLUDE:10,DIR_GENERATE:11,VALUE:12,KEY:13},o={[k.EOF]:"EOF",[k.STRING]:"STRING",[k.BLANK]:"BLANK",[k.QUOTE]:"QUOTE",[k.NEWLINE]:"NEWLINE",[k.RRTYPE]:"RRTYPE",[k.OWNER]:"OWNER",[k.CLASS]:"CLASS",[k.DIR_ORIGIN]:"DIR_ORIGIN",[k.DIR_TTL]:"DIR_TTL",[k.DIR_INCLUDE]:"DIR_INCLUDE",[k.DIR_GENERATE]:"DIR_GENERATE",[k.KEY]:"KEY",[k.VALUE]:"VALUE"},h={EXPECT_OWNER_DIR:0,EXPECT_OWNER_BL:1,EXPECT_ANY:2,EXPECT_ANY_NO_CLASS:3,EXPECT_ANY_NO_CLASS_BL:4,EXPECT_ANY_NO_TTL:5,EXPECT_ANY_NO_TTL_BL:6,EXPECT_RRTYPE:7,EXPECT_RRTYPE_BL:8,EXPECT_RDATA:9,EXPECT_DIR_TTL_BL:10,EXPECT_DIR_TTL:11,EXPECT_DIR_ORIGIN_BL:12,EXPECT_DIR_ORIGIN:13,EXPECT_DIR_INCLUDE_BL:14,EXPECT_DIR_INCLUDE:15,EXPECT_DIR_GENERATE:16,EXPECT_DIR_GENERATE_BL:17};class z extends Error{constructor(Se,ye,me,Te){if(super(),Se||(Se="parse error"),ye||(ye=null),me||(me=""),Te||(Te=z),ye){if(!ye.error){const xe=o[ye.type]||"";Se+=`: ${JSON.stringify(ye.string)}`,Se+=` (${xe.toLowerCase()})`}Se+=" at line:",Se+=` ${ye.line}:${ye.col}`}me&&(Se+=` (${me})`),Se+=".",this.type="ParseError",this.name="ParseError",this.code="EPARSEERROR",this.message=Se,this.tok=ye,this.file=me,Error.captureStackTrace&&Error.captureStackTrace(this,Te)}}class J{constructor(){this.record=null,this.comment="",this.error=null}static fromRecord(Se,ye){const me=new this;return me.record=Se,me.comment=ye||"",me}static fromString(Se,ye,me){const Te=new z(Se,ye,me,this.fromString),xe=new this;return xe.error=Te,xe}static fromError(Se,ye,me){Se.type==="ParseError"&&(ye&&!Se.tok&&(Se.tok=ye),me&&!Se.file&&(Se.file=me));const Te=new this;return Te.error=Se,Te}}class M{constructor(Se,ye){this.ttl=Se||0,this.directive=ye||!1}}class X{constructor(Se,ye){this.string="",this.error=!1,this.type=k.EOF,this.line=Se||0,this.col=ye||0,this.value=0,this.unknown=!1,this.comment=""}end(){return this.type===k.EOF||this.type===k.NEWLINE}}function*B(de,Se){Se==null&&(Se=!0),e(typeof de=="string"),e(typeof Se=="boolean");let ye="",me="",Te=!1,xe=!1,Pe=!1,Ce=!1,Ke=!1,qe=!0,Ye=0,$e=0,Ge=0;for(let tt=0;tt<de.length;tt++){const nt=de[tt];if(ye.length>=y){const Xe=new X($e,Ge);Xe.string="token length insufficient for parsing",Xe.error=!0,yield Xe;return}if(me.length>=y){const Xe=new X($e,Ge);Xe.string="comment length insufficient for parsing",Xe.error=!0,yield Xe;return}switch(nt){case" ":case"	":{if(xe){xe=!1,ye+=nt;break}if(Te){ye+=nt;break}if(Ce){me+=nt;break}if(ye.length!==0)if(qe&&Se){const Xe=new X($e,Ge);switch(Xe.type=k.OWNER,Xe.string=ye,ye.toUpperCase()){case"$TTL":Xe.type=k.DIR_TTL;break;case"$ORIGIN":Xe.type=k.DIR_ORIGIN;break;case"$INCLUDE":Xe.type=k.DIR_INCLUDE;break;case"$GENERATE":Xe.type=k.DIR_GENERATE;break}yield Xe}else{const Xe=new X($e,Ge);if(Xe.type=k.STRING,Xe.string=ye,!Ke){const ot=ye.toUpperCase(),yt=K[ot];if((yt&65535)===yt&&yt!==K.ANY)Xe.type=k.RRTYPE,Xe.value=yt,Ke=!0;else if(n.startsWith(ot,"TYPE")){let lt;try{lt=T(ot)}catch{Xe.string="unknown RR type",Xe.error=!0,yield Xe;return}Xe.type=k.RRTYPE,Xe.unknown=!0,Xe.value=lt,Ke=!0}if(!Ke){const lt=w[ot];if((lt&65535)===lt)Xe.type=k.CLASS,Xe.value=lt;else if(n.startsWith(ot,"CLASS")){let pt;try{pt=E(ot)}catch{Xe.string="unknown class",Xe.error=!0,yield Xe;return}Xe.type=k.CLASS,Xe.unknown=!0,Xe.value=pt}}}yield Xe}if(ye="",!Pe&&!Ce){const Xe=new X($e,Ge);Xe.type=k.BLANK,Xe.string=" ",yield Xe}qe=!1,Pe=!0;break}case";":{if(xe){xe=!1,ye+=nt;break}if(Te){ye+=nt;break}if(ye.length>0){const Xe=new X($e,Ge);Xe.type=k.STRING,Xe.string=ye,yield Xe,ye=""}Ce=!0,me+=";";break}case"\r":{if(xe=!1,Te){ye+=nt;break}break}case`
`:{if(xe=!1,$e+=1,Ge=0,Te){ye+=nt;break}if(Ce){if(Ce=!1,Ke=!1,ye="",Ye===0){qe=!0;const Xe=new X($e,Ge);Xe.type=k.NEWLINE,Xe.string=`
`,Xe.comment=me,yield Xe,me="";break}me+=" ";break}if(Ye===0){if(ye.length>0){const ot=new X($e,Ge);if(ot.type=k.STRING,ot.string=ye,!Ke){const yt=ye.toUpperCase(),lt=K[yt];(lt&65535)===lt&&lt!==K.ANY&&(ot.type=k.RRTYPE,ot.value=lt,Ke=!0)}yield ot}const Xe=new X($e,Ge);Xe.type=k.NEWLINE,Xe.string=`
`,yield Xe,ye="",Ce=!1,Ke=!1,qe=!0,me=""}break}case"\\":{if(Ce){me+=nt;break}if(xe){ye+=nt,xe=!1;break}ye+=nt,xe=!0;break}case'"':{if(Ce){me+=nt;break}if(xe){ye+=nt,xe=!1;break}if(Pe=!1,ye.length>0){const ot=new X($e,Ge);ot.type=k.STRING,ot.string=ye,yield ot,ye=""}const Xe=new X($e,Ge);Xe.type=k.QUOTE,Xe.string='"',yield Xe,Te=!Te;break}case"(":case")":{if(Ce){me+=nt;break}if(xe){ye+=nt,xe=!1;break}if(Te){ye+=nt;break}switch(nt){case"(":{Ye+=1;break}case")":if(Ye-=1,Ye<0){const Xe=new X($e,Ge);Xe.string="extra closing brace",Xe.error=!0,yield Xe;return}}break}default:{if(xe=!1,Ce){me+=nt;break}ye+=nt,Pe=!1;break}}Ge+=1}if(ye.length>0){const tt=new X($e,Ge);tt.string=ye,tt.type=k.STRING,tt.comment=me,yield tt}if(Ye!==0){const tt=new X($e,Ge);tt.string="unbalanced brace",tt.error=!0,yield tt;return}const Qe=new X($e,Ge);Qe.string="",Qe.type=k.EOF,Qe.comment=me,yield Qe}function*G(de,Se,ye,me,Te,xe){if(ye==null&&(ye=""),me==null&&(me=""),Te==null&&(Te=null),xe==null&&(xe=1),e(de&&typeof de.fromZone=="function"),e(typeof Se=="string"),e(typeof ye=="string"),e(typeof me=="string"),e(Te===null||Te instanceof M),e(xe>>>0===xe),ye!==""&&(ye=n.fqdn(ye),!n.isName(ye))){yield J.fromString("bad initial origin name",new X,me);return}const Pe=new de.Record,Ce=p(me);let Ke=h.EXPECT_OWNER_DIR,qe=!1,Ye=".";const $e=B(Se,!0);for(const Ge of $e){if(Ge.error){yield J.fromString(Ge.string,Ge,me);return}if(Ge.type===k.EOF)break;switch(Ke){case h.EXPECT_OWNER_DIR:{switch(Te&&(Pe.ttl=Te.ttl),Pe.class=w.IN,Ge.type){case k.NEWLINE:{Ke=h.EXPECT_OWNER_DIR;break}case k.OWNER:{try{Ye=t(Ge.string,ye)}catch{yield J.fromString("bad owner name",Ge,me);return}Pe.name=Ye,Ke=h.EXPECT_OWNER_BL;break}case k.DIR_TTL:{Ke=h.EXPECT_DIR_TTL_BL;break}case k.DIR_ORIGIN:{Ke=h.EXPECT_DIR_ORIGIN_BL;break}case k.DIR_INCLUDE:{Ke=h.EXPECT_DIR_INCLUDE_BL;break}case k.DIR_GENERATE:{Ke=h.EXPECT_DIR_GENERATE_BL;break}case k.RRTYPE:{Pe.name=Ye,Pe.type=Ge.value,qe=Ge.unknown,Ke=h.EXPECT_RDATA;break}case k.CLASS:{Pe.name=Ye,Pe.class=Ge.value,Ke=h.EXPECT_ANY_NO_CLASS_BL;break}case k.BLANK:break;case k.STRING:{try{Pe.ttl=j(Ge.string)}catch{yield J.fromString("not a TTL",Ge,me);return}(!Te||!Te.directive)&&(Te=new M(Pe.ttl,!1)),Ke=h.EXPECT_ANY_NO_TTL_BL;break}default:{yield J.fromString("syntax error at beginning",Ge,me);return}}break}case h.EXPECT_DIR_INCLUDE_BL:{if(Ge.type!==k.BLANK){yield J.fromString("no blank after $INCLUDE",Ge,me);return}Ke=h.EXPECT_DIR_INCLUDE;break}case h.EXPECT_DIR_INCLUDE:{if(Ge.type!==k.STRING){yield J.fromString("expected $INCLUDE value",Ge,me);return}if(!me){yield J.fromString("no path provided for $INCLUDE",Ge,me);return}let Qe="",tt=ye,nt=Ge.string,Xe;try{Xe=c($e,me)}catch(ot){yield J.fromError(ot,Ge,me);return}switch(Xe.type){case k.BLANK:{try{Xe=c($e,me)}catch(ot){yield J.fromError(ot,Xe,me);return}if(Xe.type===k.STRING)try{tt=t(Xe.string,ye)}catch{yield J.fromString("bad origin name",Xe,me);return}break}case k.EOF:case k.NEWLINE:break;default:{yield J.fromString("garbage after $INCLUDE",Xe,me);return}}nt=v(Ce,nt);try{Qe=S.readFileSync(nt,"utf8")}catch{yield J.fromString(`failed to open ${nt}`,Ge,me);return}if(xe+1>U){yield J.fromString("too deeply nested $INCLUDE",Ge,me);return}yield*G(de,Qe,tt,nt,Te,xe+1),Ke=h.EXPECT_OWNER_DIR;break}case h.EXPECT_DIR_TTL_BL:{if(Ge.type!==k.BLANK){yield J.fromString("no blank after $TTL",Ge,me);return}Ke=h.EXPECT_DIR_TTL;break}case h.EXPECT_DIR_TTL:{if(Ge.type!==k.STRING){yield J.fromString("expected $TTL value",Ge,me);return}try{L($e,me)}catch(tt){yield J.fromError(tt,Ge,me);return}let Qe;try{Qe=j(Ge.string)}catch{yield J.fromString("expected $TTL value",Ge,me);return}Te=new M(Qe,!0),Ke=h.EXPECT_OWNER_DIR;break}case h.EXPECT_DIR_ORIGIN_BL:{if(Ge.type!==k.BLANK){yield J.fromString("no blank after $ORIGIN",Ge,me);return}Ke=h.EXPECT_DIR_ORIGIN;break}case h.EXPECT_DIR_ORIGIN:{if(Ge.type!==k.STRING){yield J.fromString("expected $ORIGIN value",Ge,me);return}try{L($e,me)}catch(Qe){yield J.fromError(Qe,Ge,me);return}try{ye=t(Ge.string,ye)}catch{yield J.fromString("bad origin name",Ge,me);return}Ke=h.EXPECT_OWNER_DIR;break}case h.EXPECT_DIR_GENERATE_BL:{if(Ge.type!==k.BLANK){yield J.fromString("no blank after $GENERATE",Ge,me);return}Ke=h.EXPECT_DIR_GENERATE;break}case h.EXPECT_DIR_GENERATE:{if(Ge.type!==k.STRING){yield J.fromString("expected $GENERATE value",Ge,me);return}try{yield*$(de,$e,Ge,ye,me)}catch(Qe){yield J.fromError(Qe,Ge,me);return}Ke=h.EXPECT_OWNER_DIR;break}case h.EXPECT_OWNER_BL:{if(Ge.type!==k.BLANK){yield J.fromString("no blank after owner",Ge,me);return}Ke=h.EXPECT_ANY;break}case h.EXPECT_ANY:{switch(Ge.type){case k.RRTYPE:{if(!Te){yield J.fromString("missing TTL",Ge,me);return}Pe.type=Ge.value,qe=Ge.unknown,Ke=h.EXPECT_RDATA;break}case k.CLASS:{Pe.class=Ge.value,Ke=h.EXPECT_ANY_NO_CLASS_BL;break}case k.STRING:{try{Pe.ttl=j(Ge.string)}catch{yield J.fromString("not a TTL",Ge,me);return}(!Te||!Te.directive)&&(Te=new M(Pe.ttl,!1)),Ke=h.EXPECT_ANY_NO_TTL_BL;break}default:{yield J.fromString("expected RR type, TTL or class",Ge,me);return}}break}case h.EXPECT_ANY_NO_CLASS_BL:{if(Ge.type!==k.BLANK){yield J.fromString("no blank before class",Ge,me);return}Ke=h.EXPECT_ANY_NO_CLASS;break}case h.EXPECT_ANY_NO_TTL_BL:{if(Ge.type!==k.BLANK){yield J.fromString("no blank before TTL",Ge,me);return}Ke=h.EXPECT_ANY_NO_TTL;break}case h.EXPECT_ANY_NO_TTL:{switch(Ge.type){case k.CLASS:{Pe.class=Ge.value,Ke=h.EXPECT_RRTYPE_BL;break}case k.RRTYPE:{Pe.type=Ge.value,qe=Ge.unknown,Ke=h.EXPECT_RDATA;break}default:{yield J.fromString("expected RR type or class",Ge,me);return}}break}case h.EXPECT_ANY_NO_CLASS:{switch(Ge.type){case k.STRING:{try{Pe.ttl=j(Ge.string)}catch{yield J.fromString("not a TTL",Ge,me);return}(!Te||!Te.directive)&&(Te=new M(Pe.ttl,!1)),Ke=h.EXPECT_RRTYPE_BL;break}case k.RRTYPE:{Pe.type=Ge.value,qe=Ge.unknown,Ke=h.EXPECT_RDATA;break}default:{yield J.fromString("expected RR type or TTL",Ge,me);return}}break}case h.EXPECT_RRTYPE_BL:{if(Ge.type!==k.BLANK){yield J.fromString("no blank before RR type",Ge,me);return}Ke=h.EXPECT_RRTYPE;break}case h.EXPECT_RRTYPE:{if(Ge.type!==k.RRTYPE){yield J.fromString("unknown RR type",Ge,me);return}Pe.type=Ge.value,qe=Ge.unknown,Ke=h.EXPECT_RDATA;break}case h.EXPECT_RDATA:{const Qe=qe?Ne:Ee;let tt,nt;try{[tt,nt]=Qe(de,$e,Pe,ye,me)}catch(Xe){yield J.fromError(Xe,Ge,me);return}yield J.fromRecord(tt,nt),qe=!1,Ke=h.EXPECT_OWNER_DIR;break}}}}function*$(de,Se,ye,me,Te){let xe=1;const Pe=ye.string.indexOf("/");if(Pe!==-1){if(Pe+1===ye.string.length)throw new z("bad step in $GENERATE range.");try{const $e=ye.string.substring(Pe+1);xe=n.parseU32($e)}catch{throw new z("bad step in $GENERATE range.")}ye.string=ye.string.substring(0,Pe)}const Ce=ye.string.split("-",3);if(Ce.length!==2)throw new z("bad start-stop in $GENERATE range");let Ke;try{Ke=n.parseU32(Ce[0])}catch{throw new z("bad start in $GENERATE range")}let qe;try{qe=n.parseU32(Ce[1])}catch{throw new z("bad stop in $GENERATE range")}if(qe<Ke)throw new z("bad range in $GENERATE range");b(Se,k.BLANK,Te);let Ye="";for(;;){const $e=c(Se,Te);if($e.end())break;Ye+=$e.string}for(let $e=0;$e<=qe;$e+=xe){let Ge=!1,Qe="";for(let nt=0;nt<Ye.length;nt++){const Xe=Ye[nt];switch(Xe){case"\\":{if(Ge){Qe+="\\",Ge=!1;continue}Ge=!0;break}case"$":{if(Ge){Qe+="$",Ge=!1;continue}if(Ge=!1,nt+1>=Ye.length){Qe+=$e.toString(10);continue}if(Ye[nt+1]==="$"){Qe+="$",nt+=1;continue}if(Ye[nt+1]==="{"){const yt=Ye.substring(nt+2).indexOf("}");if(yt===-1)throw new z("bad modifier in $GENERATE");const lt=Ye.substring(nt+2,nt+2+yt);nt+=2+yt,Qe+=le(lt,$e);continue}Qe+=$e.toString(10);break}default:{if(Ge){Ge=!1;continue}Qe+=Xe;break}}}const tt=Ue(de,`$ORIGIN ${me}
${Qe}`);yield J.fromRecord(tt,"")}}function le(de,Se){const ye=de.split(",",4);if(ye.length!==3)throw new z("bad modifier in $GENERATE");const me=parseInt(ye[0],10);if(!isFinite(me)||me<-255||me>255)throw new z("bad offset in $GENERATE");let Te;try{Te=n.parseU8(ye[1])}catch{throw new z("bad width in $GENERATE")}let xe;switch(ye[2]){case"o":xe=8;break;case"d":xe=10;break;case"x":case"X":xe=16;break;default:throw new z("bad base in $GENERATE")}let Pe=Se+me;const Ce=Pe<0;Ce&&(Pe=-Pe);let Ke=Pe.toString(xe);for(;Ke.length<Te;)Ke="0"+Ke;return Ce&&(Ke="-"+Ke),Ke}function Ee(de,Se,ye,me,Te){const xe=de.recordsByVal[ye.type],Pe=s.records[ye.type];if(!xe)throw new z("unknown rr type",null,Te);const Ce=new de.Record,Ke=new xe;if(Ce.name=ye.name,Ce.type=ye.type,Ce.class=ye.class,Ce.ttl=ye.ttl,Ce.data=Ke,ye.type===K.LOC){const $e=Me(Ke,Se,Te);return[Ce,$e]}let qe,Ye;for(const[$e,Ge]of Pe)[qe,Ye]=ge(de,Ke,Ge,Se,me,Te),Ke[$e]=qe;return[Ce,Ye]}function Ne(de,Se,ye,me,Te){let xe=de.recordsByVal[ye.type];xe||(xe=de.UNKNOWNRecord);const Pe=new de.Record,Ce=new xe;Pe.name=ye.name,Pe.type=ye.type,Pe.class=ye.class,Pe.ttl=ye.ttl,Pe.data=Ce;const Ke=b(Se,k.STRING,Te);if(Ke.string!=="\\#")throw new z("bad rfc3597 serialization",Ke,Te);b(Se,k.BLANK,Te);const qe=b(Se,k.STRING,Te);let Ye;try{Ye=n.parseU32(qe.string)}catch{throw new z("bad rfc3597 serialization",qe,Te)}const[$e,Ge]=ie(Se,Te);if(Ye!==$e.length>>>1)throw new z("invalid rfc3597 size",qe,Te);let Qe;try{Qe=n.parseHex($e)}catch{throw new z("invalid rfc3597 hex",Ge,Te)}return Ce.decode(Qe),[Pe,Ge.comment]}function ke(de,Se,ye){const me=de.optsByVal[ye],Te=s.options[ye];if(!me)throw new z("unknown option code");const xe=new de.Option,Pe=new me;xe.code=ye,xe.option=Pe;let Ce,Ke;for(const[qe,Ye]of Te)[Ce,Ke]=ge(de,Pe,Ye,Se,"",""),Pe[qe]=Ce;return[xe,Ke]}function se(de,Se,ye){let me=de.optsByVal[ye];me||(me=de.UNKNOWNOption);const Te=new de.Option,xe=new me;Te.code=ye,Te.option=xe;const Pe=b(Se,k.STRING,"");if(Pe.string!=="\\#")throw new z("bad rfc3597 serialization",Pe,"");b(Se,k.BLANK,"");const Ce=b(Se,k.STRING,"");let Ke;try{Ke=n.parseU32(Ce.string)}catch{throw new z("bad rfc3597 serialization",Ce,"")}const[qe,Ye]=ie(Se,"");if(Ke!==qe.length>>>1)throw new z("invalid rfc3597 size",Ce,"");let $e;try{$e=n.parseHex(qe)}catch{throw new z("invalid rfc3597 hex",Ye,"")}return xe.decode($e),[Te,Ye.comment]}function ge(de,Se,ye,me,Te,xe){switch(e(Se&&typeof Se=="object"),e(ye>>>0===ye),e(me&&typeof me.next=="function"),e(typeof Te=="string"),e(typeof xe=="string"),ye){case s.NAME:{const Pe=b(me,k.STRING,xe);let Ce;try{Ce=t(Pe.string,Te)}catch{throw new z("invalid name",Pe,xe)}return[Ce,x(me,xe)]}case s.SERVERS:{const Pe=[],[Ce,Ke]=V(me,xe);for(const qe of Ce){let Ye;try{Ye=t(qe,Te)}catch{throw new z("bad rendezvous server",Ke,xe)}Pe.push(Ye)}return[Pe,Ke.comment]}case s.INET4:{const Pe=b(me,k.STRING,xe);let Ce;try{Ce=oe.toBuffer(Pe.string)}catch{throw new z("invalid ipv4",Pe,xe)}if(!oe.isIPv4(Ce))throw new z("invalid ipv4",Pe,xe);return[oe.toString(Ce),x(me,xe)]}case s.INET6:{const Pe=b(me,k.STRING,xe);let Ce;try{Ce=oe.toBuffer(Pe.string)}catch{throw new z("invalid ipv6",Pe,xe)}return oe.isIPv4(Ce)?`::ffff:${oe.toString(Ce)}`:[oe.toString(Ce),x(me,xe)]}case s.INET:{const Pe=b(me,k.STRING,xe);let Ce;try{Ce=oe.normalize(Pe.string)}catch{throw new z("invalid ip",Pe,xe)}return[Ce,x(me,xe)]}case s.TARGET:{const Pe=b(me,k.STRING,xe);let Ce;try{Ce=oe.normalize(Pe.string)}catch{}if(Ce)return[Ce,x(me,xe)];let Ke;try{Ke=t(Pe.string,Te)}catch{throw new z("invalid name",Pe,xe)}return[Ke,x(me,xe)]}case s.HEX:{const Pe=b(me,k.STRING,xe);if(Pe.string==="-")return[q,x(me,xe)];let Ce;try{Ce=n.parseHex(Pe.string)}catch{throw new z("invalid hex string",Pe,xe)}return[Ce,x(me,xe)]}case s.HEXEND:{const[Pe,Ce]=ie(me,xe);if(Pe==="-")return[q,Ce.comment];let Ke;try{Ke=n.parseHex(Pe)}catch{throw new z("invalid hex string",Ce,xe)}return[Ke,Ce.comment]}case s.BASE32:{const Pe=b(me,k.STRING,xe);if(Pe.string==="-")return[q,x(me,xe)];let Ce;try{Ce=P.decodeHex(Pe.string)}catch{throw new z("invalid base32 string",Pe,xe)}return[Ce,x(me,xe)]}case s.BASE64:{const Pe=b(me,k.STRING,xe);if(Pe.string==="-")return[q,x(me,xe)];let Ce;try{Ce=n.parseB64(Pe.string)}catch{throw new z("invalid base64 string",Pe,xe)}return[Ce,x(me,xe)]}case s.BASE64END:{const[Pe,Ce]=ie(me,xe);if(Pe==="-")return[q,Ce.comment];let Ke;try{Ke=n.parseB64(Pe)}catch{throw new z("invalid base64 string",Ce,xe)}return[Ke,Ce.comment]}case s.CHAR:{b(me,k.QUOTE,xe);const Pe=c(me,xe);if(Pe.type===k.QUOTE)return["",x(me,xe)];if(Pe.type!==k.STRING)throw new z("invalid character string",Pe,xe);if(b(me,k.QUOTE,xe),!u.isString(Pe.string,!1))throw new z("invalid character string",Pe,xe);return[Pe.string,x(me,xe)]}case s.OCTET:{const Pe=b(me,k.STRING,xe);if(!u.isString(Pe.string,!0))throw new z("invalid octet string",Pe,xe);return[Pe.string,x(me,xe)]}case s.TXT:{const Pe=[];let Ce=!1,Ke=!1,qe;for(;qe=c(me,xe),!qe.end();)switch(qe.type){case k.STRING:{if(Ke=!1,!u.isString(qe.string,!1))throw new z("invalid txt string",qe,xe);Pe.push(qe.string);break}case k.BLANK:{if(Ce)throw new z("invalid txt",qe,xe);break}case k.QUOTE:{Ke&&Ce&&Pe.push(""),Ce=!Ce,Ke=!0;break}default:throw new z("unexpected token",qe,xe)}if(Ce)throw new z("unclosed txt quote",qe,xe);return[Pe,qe.comment]}case s.NSEC:{const[Pe,Ce]=V(me,xe),Ke=Pe.map(Ye=>T(Ye));return[u.toBitmap(Ke),Ce.comment]}case s.TAGS:{const[Pe,Ce]=V(me,xe);return[Pe.map(qe=>n.parseU16(qe)),Ce.comment]}case s.TIME:{const Pe=b(me,k.STRING,xe);return[n.parseTime(Pe.string),x(me,xe)]}case s.TYPE:{const Pe=b(me,k.STRING,xe);return[T(Pe.string),x(me,xe)]}case s.U8:{const Pe=b(me,k.STRING,xe);return[n.parseU8(Pe.string),x(me,xe)]}case s.U16:{const Pe=b(me,k.STRING,xe);return[n.parseU16(Pe.string),x(me,xe)]}case s.U32:{const Pe=b(me,k.STRING,xe);return[n.parseU32(Pe.string),x(me,xe)]}case s.U48:{const Pe=b(me,k.STRING,xe);return[n.parseU48(Pe.string),x(me,xe)]}case s.U64:{const Pe=b(me,k.STRING,xe),[Ce,Ke]=n.parseU64(Pe.string),qe=_e.allocUnsafe(8);return Q.writeU32BE(qe,Ce,0),Q.writeU32BE(qe,Ke,4),[qe,x(me,xe)]}case s.NID32:{const Pe=b(me,k.STRING,xe);return[Y(Pe.string),x(me,xe)]}case s.NID64:{const Pe=b(me,k.STRING,xe);return[Z(Pe.string),x(me,xe)]}case s.EUI48:{const Pe=b(me,k.STRING,xe);return[W(Pe.string,6),x(me,xe)]}case s.EUI64:{const Pe=b(me,k.STRING,xe);return[W(Pe.string,8),x(me,xe)]}case s.APL:{const{AP:Pe}=de,[Ce,Ke]=V(me,xe);return[Ce.map(Ye=>Pe.fromString(Ye)),Ke.comment]}case s.NSAP:{const Pe=b(me,k.STRING,xe);return[ue(Pe.string),x(me,xe)]}case s.ATMA:{const Pe=b(me,k.STRING,xe);return[pe(Pe.string,Se.format),x(me,xe)]}case s.PROTOCOL:{const Pe=b(me,k.STRING,xe);return[Ie(Pe.string),x(me,xe)]}case s.WKS:{const[Pe,Ce]=V(me,xe);return[te(Pe),Ce.comment]}case s.TTL:{const Pe=b(me,k.STRING,xe);return[j(Pe.string),x(me,xe)]}default:throw new z("unknown schema type",null,xe)}}function ve(de,Se,ye,me){e(de&&typeof de.fromZone=="function"),e(typeof Se=="string");const Te=new M(R,!1),xe=G(de,Se,ye,me,Te,1),Pe=[];for(const Ce of xe){if(Ce.error)throw Ce.error;Pe.push(Ce.record)}return Pe}function Ue(de,Se){e(de&&typeof de.fromZone=="function"),e(typeof Se=="string");const ye=new M(R,!1),Te=G(de,Se,"","",ye,1).next();if(Te.done)throw new z("no record");const xe=Te.value;if(xe.error)throw xe.error;return xe.record}function re(de,Se,ye){e(de&&typeof de.fromZone=="function"),e((Se&65535)===Se),e(typeof ye=="string");const Te=`. 0 IN ${N(Se)} ${ye}`;return Ue(de,Te).data}function Re(de,Se){e(de&&typeof de.fromZone=="function"),e(typeof Se=="string");const ye=B(Se,!1);let me=b(ye,k.STRING);me.string[me.string.length-1]===":"&&(me.string=me.string.slice(0,-1));let Te=m[me.string.toUpperCase()],xe=!1;if((Te&65535)!==Te){try{Te=d(me.string)}catch{throw new z("unknown option",me)}xe=!0}if(me=c(ye),me.type!==k.BLANK&&!me.end())throw new z("unexpected token",me);const Pe=xe?se:ke,[Ce]=Pe(de,ye,Te);return Ce}function r(de,Se,ye){e(de&&typeof de.fromZone=="function"),e((Se&65535)===Se),e(typeof ye=="string");const Te=`${_(Se)}: ${ye}`;return Re(de,Te).option}function c(de,Se){const ye=de.next();if(ye.done){const Te=new X;return Te.type=k.EOF,Te}const me=ye.value;if(me.error)throw new z(me.string,me,Se,c);return me}function b(de,Se,ye){const me=c(de,ye);if(me.type!==Se)throw new z("unexpected token",me,b);return me}function V(de,Se){const ye=[];let me;for(;me=c(de,Se),!me.end();)switch(me.type){case k.BLANK:break;case k.STRING:ye.push(me.string);break;default:throw new z("unexpected token",me,Se)}return[ye,me]}function ie(de,Se){let ye="",me;for(;me=c(de,Se),!me.end();)switch(me.type){case k.BLANK:break;case k.STRING:ye+=me.string;break;default:throw new z("unexpected token",me,Se)}return[ye,me]}function L(de,Se){const ye=c(de,Se);switch(ye.type){case k.BLANK:{const me=c(de,Se);if(me.type!==k.NEWLINE&&me.type!==k.EOF)throw new z("garbage after rdata",me,Se);return me.comment}case k.EOF:case k.NEWLINE:return ye.comment;default:throw new z("garbage after rdata",ye,Se)}}function x(de,Se){const ye=c(de,Se);switch(ye.type){case k.EOF:case k.NEWLINE:case k.BLANK:return ye.comment;default:throw new z("garbage after rdata",ye,Se)}}function j(de){e(typeof de=="string");let Se=0,ye=0;if(de.length===0||de.length>10)throw new Error("Invalid TTL.");for(let me=0;me<de.length;me++){const Te=de.charCodeAt(me);switch(Te){case 115:case 83:Se+=ye,ye=0;break;case 109:case 77:Se+=ye*60,ye=0;break;case 104:case 72:Se+=ye*60*60,ye=0;break;case 100:case 68:Se+=ye*60*60*24,ye=0;break;case 119:case 87:Se+=ye*60*60*24*7,ye=0;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:ye*=10,ye+=Te-48;break;default:throw new Error("Invalid TTL.")}if(Se>4294967295)throw new Error("Invalid TTL.")}if(ye+=Se,ye>4294967295)throw new Error("Invalid TTL.");return ye}function t(de,Se){const ye=l(de,Se);if(!u.isName(ye))throw new Error("Bad name.");return ye}function l(de,Se){if(Se==null&&(Se=""),e(typeof de=="string"),e(typeof Se=="string"),de==="@"){if(Se==="")throw new Error("Bad origin.");return Se}if(de==="")throw new Error("Bad name.");if(n.isFQDN(de))return de;if(Se==="")throw new Error("Bad origin.");return I(de,Se)}function I(de,Se){return Se==null&&(Se=""),e(typeof de=="string"),e(typeof Se=="string"),Se==="."?de+Se:`${de}.${Se}`}function Y(de){e(typeof de=="string");const Se=oe.toBuffer(de);if(!oe.isIPv4(Se))throw new Error("Invalid NID32.");return Se.slice(12,16)}function Z(de){return e(typeof de=="string"),de.indexOf("::")===-1&&((de.length===0||de[de.length-1]!==":")&&(de+=":"),de+=":"),oe.toBuffer(de).slice(0,8)}function W(de,Se){if(e(typeof de=="string"),e(Se===6||Se===8),de.length!==Se*2+(Se-1))throw new Error("Invalid EUI.");if(de[0]==="-"||de[de.length-1]==="-")throw new Error("Invalid EUI.");if(de.indexOf("--")!==-1)throw new Error("Invalid EUI.");if(de=de.replace(/-/g,""),de.length!==Se*2)throw new Error("Invalid EUI.");return n.parseHex(de)}function ue(de){e(typeof de=="string"),e(de.length>=2),e(de[0]==="0"),e(de[1]==="x"||de[1]==="X");const ye=de.substring(2).replace(/\./g,"");return n.parseHex(ye)}function pe(de,Se){switch(e(typeof de=="string"),Se){case 0:{const ye=de.replace(/\./g,"");return n.parseHex(ye)}case 1:return _e.from(de,"ascii");default:return n.parseHex(de)}}function Ie(de){return a("./iana").stringToProtocol(de)}function te(de){e(Array.isArray(de));const Se=a("./iana"),ye=[];for(const me of de){const Te=Se.getPort(me);Te!==0&&ye.push(Te)}return u.toPortmap(ye)}function D(de){e(typeof de=="string");const Se=de.length;if(Se===0)return!1;const ye=de.charCodeAt(Se-1);return ye===77||ye===109}function F(de){e(typeof de=="string"),D(de)&&(de=de.slice(0,-1));const Se=de.split(".",3);e(Se.length>=1);let ye=0,me=0;switch(Se.length){case 3:throw new Error("Invalid integer.");case 2:me=parseInt(Se[1]);case 1:ye=parseInt(Se[0]);break}if(!isFinite(ye)||!isFinite(me))throw new Error("Invalid integer.");let Te=0,xe=me;for(ye>0&&(Te=2,xe=ye);xe>10;)Te+=1,xe-=xe%10,xe/=10;if(Te>9)throw new Error("Invalid exponent.");const Pe=xe&255;return[Te,Pe]}function he(de,Se){switch(de){case"n":case"N":return[O+Se,!0];case"s":case"S":return[O-Se,!1]}return[Se,!1]}function we(de,Se){switch(de){case"e":case"E":return[A+Se,!0];case"w":case"W":return[A-Se,!0]}return[Se,!1]}function Me(de,Se,ye){e(de&&typeof de=="object"),e(Se&&typeof Se.next=="function");let me,Te;de.horizPre=165,de.vertPre=162,de.size=18,Te=b(Se,k.STRING,ye);const xe=n.parseU32(Te.string);if(de.latitude=1e3*60*60*xe,de.latitude>>>=0,b(Se,k.BLANK,ye),Te=b(Se,k.STRING,ye),[de.latitude,me]=he(Te.string,de.latitude),!me){const qe=n.parseU32(Te.string);de.latitude+=1e3*60*qe,de.latitude>>>=0,b(Se,k.BLANK,ye),Te=b(Se,k.STRING,ye);const Ye=parseFloat(Te.string);if(!isFinite(Ye))throw new z("bad LOC latitude seconds",Te,ye);if(de.latitude+=1e3*Ye>>>0,de.latitude>>>=0,b(Se,k.BLANK,ye),Te=b(Se,k.STRING,ye),[de.latitude,me]=he(Te.string,de.latitude),!me)throw new z("bad LOC latitude north/south",Te,ye)}b(Se,k.BLANK,ye),Te=b(Se,k.STRING,ye);const Pe=n.parseU32(Te.string);if(de.longitude=1e3*60*60*Pe,de.longitude>>>=0,b(Se,k.BLANK,ye),Te=b(Se,k.STRING,ye),[de.longitude,me]=we(Te.string,de.longitude),!me){const qe=n.parseU32(Te.string);de.longitude+=1e3*60*qe,de.longitude>>>=0,b(Se,k.BLANK,ye),Te=b(Se,k.STRING,ye);const Ye=parseFloat(Te.string);if(!isFinite(Ye))throw new z("bad LOC longitude seconds",Te,ye);if(de.longitude+=1e3*Ye>>>0,de.longitude>>>=0,b(Se,k.BLANK,ye),Te=b(Se,k.STRING,ye),[de.longitude,me]=we(Te.string,de.longitude),!me)throw new z("bad LOC latitude east/west",Te,ye)}b(Se,k.BLANK,ye),Te=b(Se,k.STRING,ye),D(Te.string)&&(Te.string=Te.string.slice(0,-1));const Ce=parseFloat(Te.string);if(!isFinite(Ce))throw new z("bad LOC altitude",Te,ye);de.altitude=Ce*100+1e7+.5,de.altitude>>>=0;let Ke=0;for(;Te=c(Se,ye),!Te.end();)switch(Te.type){case k.STRING:{switch(Ke){case 0:{const[qe,Ye]=F(Te.string);de.size=qe&15|Ye<<4&240;break}case 1:{const[qe,Ye]=F(Te.string);de.horizPre=qe&15|Ye<<4&240;break}case 2:{const[qe,Ye]=F(Te.string);de.vertPre=qe&15|Ye<<4&240;break}}Ke+=1;break}case k.BLANK:break;default:throw new z("unexpected token",Te,ye)}return Te.comment}f.parseZone=ve,f.parseRecord=Ue,f.parseData=re,f.parseOption=Re,f.parseOptionData=r}],["bfile","/lib/bfile.js",function(f,Le,C,Fe,He,Ve){/*!
 * bfile.js - promisified fs module
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bfile
 */C.exports=ce(85,C)}],["bfile","/lib/fs-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * fs-browser.js - promisified fs module
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bfile
 */const{FSError:e}=ce(86,C),{ENOENT:S,EBADF:oe}=e,Q={UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_DSYNC:4096,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4};function P(K){return async w=>{throw new e(S,K,w)}}function g(K){return w=>{throw new e(S,K,w)}}function u(K){return async()=>{throw new e(oe,K)}}function H(K){return()=>{throw new e(oe,K)}}function a(K,w,m){zn(()=>{K(new e(w,m))},1)}async function s(){}function n(){}const p={emit:n,on:(K,w)=>{K==="error"&&a(w,S,"stat")},once:(K,w)=>{K==="error"&&a(w,S,"stat")},addListener:(K,w)=>{K==="error"&&a(w,S,"stat")},off:n,removeListener:n,removeAllListeners:n,listeners:()=>[],listenerCount:()=>0,readable:!0,writable:!1,pipe:g("stat"),write:n,end:n,close:n,destroy:n},v={emit:n,on:n,once:n,addListener:n,off:n,removeListener:n,removeAllListeners:n,listeners:()=>[],listenerCount:()=>0,readable:!1,writable:!0,write:()=>!0,end:()=>!0,close:n,destroy:n};f.access=P("stat"),f.accessSync=g("stat"),f.appendFile=P("open"),f.appendFileSync=g("open"),f.chmod=s,f.chmodSync=n,f.chown=s,f.chownSync=n,f.close=u("close"),f.closeSync=H("close"),f.constants=Q,f.copyFile=s,f.copyFileSync=n,f.createReadStream=()=>p,f.createWriteStream=()=>v,f.exists=null,f.existsSync=null,f.fchmod=u("fchmod"),f.fchmodSync=H("fchmod"),f.fchown=u("fchown"),f.fchownSync=H("fchown"),f.fdatasync=u("fdatasync"),f.fdatasyncSync=H("fdatasync"),f.fstat=u("fstat"),f.fstatSync=H("fstat"),f.fsync=u("fsync"),f.fsyncSync=H("fsync"),f.ftruncate=u("ftruncate"),f.ftruncateSync=H("ftruncate"),f.futimes=u("futimes"),f.futimesSync=H("futimes"),f.lchmod=s,f.lchmodSync=n,f.lchown=s,f.lchownSync=n,f.link=s,f.linkSync=n,f.lstat=P("lstat"),f.lstatSync=g("lstat"),f.mkdir=s,f.mkdirSync=n,f.mkdtemp=async()=>`/tmp/${Math.random().toString(36)}`,f.mkdtempSync=()=>`/tmp/${Math.random().toString(36)}`,f.open=P("open"),f.openSync=g("open"),f.opendir=P("opendir"),f.opendirSync=g("opendir"),f.read=u("read"),f.readSync=H("read"),f.readdir=P("readdir"),f.readdirSync=g("readdir"),f.readFile=P("open"),f.readFileSync=g("open"),f.readlink=P("readlink"),f.readlinkSync=g("readlink"),f.realpath=P("stat"),f.realpath.native=P("stat"),f.realpathSync=g("stat"),f.realpathSync.native=g("stat"),f.rename=s,f.renameSync=n,f.rmdir=s,f.rmdirSync=n,f.stat=P("stat"),f.statSync=g("stat"),f.symlink=s,f.symlinkSync=n,f.truncate=s,f.truncateSync=n,f.unlink=s,f.unlinkSync=n,f.unwatchFile=n,f.utimes=s,f.utimesSync=n,f.watch=()=>p,f.watchFile=n,f.write=u("write"),f.writeSync=H("write"),f.writeFile=s,f.writeFileSync=n,f.writev=u("writev"),f.writevSync=H("writev"),f.F_OK=f.constants.F_OK||0,f.R_OK=f.constants.R_OK||0,f.W_OK=f.constants.W_OK||0,f.X_OK=f.constants.X_OK||0,f.Dir=class{},f.Dirent=class{},f.Stats=class{},f.ReadStream=class{},f.WriteStream=class{},f.FileReadStream=class{},f.FileWriteStream=class{},f.promises=f,f.copy=s,f.copySync=n,f.empty=s,f.emptySync=n,f.exists=async()=>!1,f.existsSync=()=>!1,f.lstatTry=()=>null,f.lstatTrySync=async()=>null,f.mkdirp=s,f.mkdirpSync=n,f.move=s,f.moveSync=n,f.outputFile=s,f.outputFileSync=n,f.readJSON=P("open"),f.readJSONSync=g("open"),f.remove=s,f.removeSync=n,f.rimraf=s,f.rimrafSync=n,f.statTry=async()=>null,f.statTrySync=()=>null,f.stats=P("stat"),f.statsSync=g("stat"),f.statsTry=async()=>null,f.statsTrySync=()=>null,f.traverse=async()=>je,f.traverseSync=()=>je,f.walk=()=>[],f.walkSync=()=>[],f.writeJSON=s,f.writeJSONSync=n,f.handle=f.open,f.features={VERSION:0,HAS_STAT_NUMBERS:!1,HAS_COPY_FILE:!1,HAS_COPY_FILE_IMPL:!1,HAS_REALPATH_NATIVE:!1,HAS_REALPATH_NATIVE_IMPL:!1,HAS_RW_READY:!1,HAS_WATCHER_CLOSE:!1,HAS_PROMISES:!1,HAS_PROMISES_IMPL:!1,HAS_STAT_BIGINTS:!1,HAS_DEPRECATED_LCHOWN:!1,HAS_DIRENT:!1,HAS_DIRENT_IMPL:!1,HAS_RW_TYPED_ARRAY:!1,HAS_RECURSIVE_MKDIR:!1,HAS_OPTIONAL_FLAGS:!1,HAS_WRITE_PENDING:!1,HAS_STABLE_PROMISES:!1,USE_STABLE_PROMISES:!1,HAS_WRITEV:!1,HAS_WRITEV_IMPL:!1,HAS_STAT_NANO:!1,HAS_RECURSIVE_RMDIR:!1,HAS_OPENDIR:!1,HAS_OPENDIR_IMPL:!1,HAS_ALL:!1},f.unsupported=!0}],["bfile","/lib/error.js",function(f,Le,C,Fe,He,Ve){/*!
 * error.js - errors for bfile
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bfile
 */class e extends TypeError{constructor(Q,P,g){let u;if(Array.isArray(g)&&g.length===1&&([g]=g),Array.isArray(g)){const H=g.pop();u=`The "${Q}" argument must be one of type ${g.join(", ")}, or ${H}. Received type ${typeof P}`}else u=`The "${Q}" argument must be of type ${g}. Received type ${typeof P}`;super(u),this.code="ERR_INVALID_ARG_TYPE",this.name=`TypeError [${this.code}]`,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class S extends Error{constructor(Q,...P){let g,u,H;if(Q==null||typeof Q!="object")throw new TypeError("invalid arguments for fs error");g=Q.message,P.length===3?[g,u,H]=P:P.length===2?[u,H]=P:P.length===1&&([u]=P);let a=`${Q.code}:`;g&&(a+=` ${g},`),u&&(a+=` ${u}`),H&&(a+=` ${H}`),super(a),this.code=Q.code,this.errno=Q.errno,u&&(this.syscall=u),H&&(this.path=H),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}S.EPERM={code:"EPERM",errno:-1,message:"operation not permitted"},S.ENOENT={code:"ENOENT",errno:-2,message:"no such file or directory"},S.EIO={code:"EIO",errno:-5,message:"I/O error"},S.EBADF={code:"EBADF",errno:-9,message:"bad file descriptor"},S.EACCES={code:"EACCES",errno:-13,message:"permission denied"},S.EEXIST={code:"EEXIST",errno:-17,message:"file already exists"},S.ENOTDIR={code:"ENOTDIR",errno:-20,message:"not a directory"},S.EISDIR={code:"EISDIR",errno:-21,message:"file is a directory"},f.ArgError=e,f.FSError=S}],["bpkg","/lib/builtins/path.js",function(f,Le,C,Fe,He,Ve){/*!
 * path-browserify@1.0.0 - the path module from node core for browsers
 * Copyright (c) 2019, James Halliday (MIT)
 * https://github.com/browserify/path-browserify
 *
 * License for path-browserify@1.0.0:
 *
 * This software is released under the MIT license:
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function e(P){if(typeof P!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(P))}function S(P,g){for(var u="",H=0,a=-1,s=0,n,p=0;p<=P.length;++p){if(p<P.length)n=P.charCodeAt(p);else{if(n===47)break;n=47}if(n===47){if(!(a===p-1||s===1))if(a!==p-1&&s===2){if(u.length<2||H!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var v=u.lastIndexOf("/");if(v!==u.length-1){v===-1?(u="",H=0):(u=u.slice(0,v),H=u.length-1-u.lastIndexOf("/")),a=p,s=0;continue}}else if(u.length===2||u.length===1){u="",H=0,a=p,s=0;continue}}g&&(u.length>0?u+="/..":u="..",H=2)}else u.length>0?u+="/"+P.slice(a+1,p):u=P.slice(a+1,p),H=p-a-1;a=p,s=0}else n===46&&s!==-1?++s:s=-1}return u}function oe(P,g){var u=g.dir||g.root,H=g.base||(g.name||"")+(g.ext||"");return u?u===g.root?u+H:u+P+H:H}var Q={resolve:function(){for(var g="",u=!1,H,a=arguments.length-1;a>=-1&&!u;a--){var s;a>=0?s=arguments[a]:(H===je&&(H=Vt.cwd()),s=H),e(s),s.length!==0&&(g=s+"/"+g,u=s.charCodeAt(0)===47)}return g=S(g,!u),u?g.length>0?"/"+g:"/":g.length>0?g:"."},normalize:function(g){if(e(g),g.length===0)return".";var u=g.charCodeAt(0)===47,H=g.charCodeAt(g.length-1)===47;return g=S(g,!u),g.length===0&&!u&&(g="."),g.length>0&&H&&(g+="/"),u?"/"+g:g},isAbsolute:function(g){return e(g),g.length>0&&g.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var g,u=0;u<arguments.length;++u){var H=arguments[u];e(H),H.length>0&&(g===je?g=H:g+="/"+H)}return g===je?".":Q.normalize(g)},relative:function(g,u){if(e(g),e(u),g===u||(g=Q.resolve(g),u=Q.resolve(u),g===u))return"";for(var H=1;H<g.length&&g.charCodeAt(H)===47;++H);for(var a=g.length,s=a-H,n=1;n<u.length&&u.charCodeAt(n)===47;++n);for(var p=u.length,v=p-n,K=s<v?s:v,w=-1,m=0;m<=K;++m){if(m===K){if(v>K){if(u.charCodeAt(n+m)===47)return u.slice(n+m+1);if(m===0)return u.slice(n+m)}else s>K&&(g.charCodeAt(H+m)===47?w=m:m===0&&(w=0));break}var _=g.charCodeAt(H+m),E=u.charCodeAt(n+m);if(_!==E)break;_===47&&(w=m)}var d="";for(m=H+w+1;m<=a;++m)(m===a||g.charCodeAt(m)===47)&&(d.length===0?d+="..":d+="/..");return d.length>0?d+u.slice(n+w):(n+=w,u.charCodeAt(n)===47&&++n,u.slice(n))},_makeLong:function(g){return g},dirname:function(g){if(e(g),g.length===0)return".";for(var u=g.charCodeAt(0),H=u===47,a=-1,s=!0,n=g.length-1;n>=1;--n)if(u=g.charCodeAt(n),u===47){if(!s){a=n;break}}else s=!1;return a===-1?H?"/":".":H&&a===1?"//":g.slice(0,a)},basename:function(g,u){if(u!==je&&typeof u!="string")throw new TypeError('"ext" argument must be a string');e(g);var H=0,a=-1,s=!0,n;if(u!==je&&u.length>0&&u.length<=g.length){if(u.length===g.length&&u===g)return"";var p=u.length-1,v=-1;for(n=g.length-1;n>=0;--n){var K=g.charCodeAt(n);if(K===47){if(!s){H=n+1;break}}else v===-1&&(s=!1,v=n+1),p>=0&&(K===u.charCodeAt(p)?--p===-1&&(a=n):(p=-1,a=v))}return H===a?a=v:a===-1&&(a=g.length),g.slice(H,a)}else{for(n=g.length-1;n>=0;--n)if(g.charCodeAt(n)===47){if(!s){H=n+1;break}}else a===-1&&(s=!1,a=n+1);return a===-1?"":g.slice(H,a)}},extname:function(g){e(g);for(var u=-1,H=0,a=-1,s=!0,n=0,p=g.length-1;p>=0;--p){var v=g.charCodeAt(p);if(v===47){if(!s){H=p+1;break}continue}a===-1&&(s=!1,a=p+1),v===46?u===-1?u=p:n!==1&&(n=1):u!==-1&&(n=-1)}return u===-1||a===-1||n===0||n===1&&u===a-1&&u===H+1?"":g.slice(u,a)},format:function(g){if(g===null||typeof g!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof g);return oe("/",g)},parse:function(g){e(g);var u={root:"",dir:"",base:"",ext:"",name:""};if(g.length===0)return u;var H=g.charCodeAt(0),a=H===47,s;a?(u.root="/",s=1):s=0;for(var n=-1,p=0,v=-1,K=!0,w=g.length-1,m=0;w>=s;--w){if(H=g.charCodeAt(w),H===47){if(!K){p=w+1;break}continue}v===-1&&(K=!1,v=w+1),H===46?n===-1?n=w:m!==1&&(m=1):n!==-1&&(m=-1)}return n===-1||v===-1||m===0||m===1&&n===v-1&&n===p+1?v!==-1&&(p===0&&a?u.base=u.name=g.slice(1,v):u.base=u.name=g.slice(p,v)):(p===0&&a?(u.name=g.slice(1,n),u.base=g.slice(1,v)):(u.name=g.slice(p,n),u.base=g.slice(p,v)),u.ext=g.slice(n,v)),p>0?u.dir=g.slice(0,p-1):a&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};Q.posix=Q,C.exports=Q}],["bns-plus","/lib/internal/schema.js",function(f,Le,C,Fe,He,Ve){/*!
 * schema.js - schemas for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns and golang/go:
 *   https://github.com/miekg/dns/blob/master/msg.go
 *   https://github.com/miekg/dns/blob/master/types.go
 *   https://github.com/golang/go/blob/master/src/net/dnsmsg.go
 */const e=ce(2,C),S=ce(4,C),oe=ce(7,C),Q=ce(14,C),P=ce(11,C),g=ce(80,C),u=ce(81,C),H=ce(79,C),{types:a,options:s,typeToString:n,stringToType:p,LOC_EQUATOR:v,LOC_PRIMEMERIDIAN:K,LOC_HOURS:w,LOC_DEGREES:m,LOC_ALTITUDEBASE:_}=P,E=0,d=1,T=2,N=3,R=4,O=5,A=6,y=7,U=8,q=9,k=10,o=11,h=12,z=13,J=14,M=15,X=16,B=17,G=18,$=19,le=20,Ee=21,Ne=22,ke=23,se=24,ge=25,ve=26,Ue=27,re=28,Re=29,r=30,c=31,b=32,V=[["data",y]],ie=[["address",T]],L=[["ns",E]],x=[["md",E]],j=[["md",E]],t=[["target",E]],l=[["ns",E],["mbox",E],["serial",le],["refresh",b],["retry",b],["expire",b],["minttl",b]],I=[["mb",E]],Y=[["mg",E]],Z=[["mr",E]],W=V,ue=[["address",T],["protocol",r],["bitmap",c]],pe=[["ptr",E]],Ie=[["cpu",o],["os",o]],te=[["rmail",E],["email",E]],D=[["preference",$],["mx",E]],F=[["txt",z]],he=[["mbox",E],["txt",E]],we=[["subtype",$],["hostname",E]],Me=[["psdnAddress",h]],de=[["address",h],["sa",h]],Se=[["preference",$],["host",E]],ye=[["nsap",re]],me=pe,Te=[["typeCovered",$],["algorithm",G],["labels",G],["origTTL",le],["expiration",X],["inception",X],["keyTag",$],["signerName",E],["signature",k]],xe=[["flags",$],["protocol",G],["algorithm",G],["publicKey",k]],Pe=[["preference",$],["map822",E],["mapx400",E]],Ce=[["longitude",h],["latitude",h],["altitude",h]],Ke=[["address",N]],qe=[["version",G],["size",G],["horizPre",G],["vertPre",G],["latitude",le],["longitude",le],["altitude",le]],Ye=[["nextDomain",E],["typeBitmap",J]],$e=[["endpoint",y]],Ge=[["locator",y]],Qe=[["priority",$],["weight",$],["port",$],["target",E]],tt=[["format",G],["address",Re]],nt=[["order",$],["preference",$],["flags",o],["service",o],["regexp",o],["replacement",E]],Xe=[["preference",$],["exchanger",E]],ot=[["certType",$],["keyTag",$],["algorithm",G],["certificate",k]],yt=[["prefixLen",G],["address",$],["prefix",E]],lt=t,pt=V,or=[["items",Ue]],bt=[["keyTag",$],["algorithm",G],["digestType",G],["digest",y]],Rt=[["algorithm",G],["digestType",G],["fingerprint",y]],dr=[["precedence",G],["gatewayType",G],["algorithm",G],["target",O],["publicKey",k]],mt=[["typeCovered",B],["algorithm",G],["labels",G],["origTTL",le],["expiration",X],["inception",X],["keyTag",$],["signerName",E],["signature",k]],Bt=[["nextDomain",E],["typeBitmap",J]],fr=xe,it=[["digest",k]],vt=[["hash",G],["flags",G],["iterations",$],["salt",A],["nextDomain",U],["typeBitmap",J]],br=[["hash",G],["flags",G],["iterations",$],["salt",y]],wt=[["usage",G],["selector",G],["matchingType",G],["certificate",y]],Tt=wt,ar=[["algorithm",G],["hit",A],["publicKey",q],["servers",d]],St=[["zsData",z]],_t=xe,Wt=[["prevName",E],["nextName",E]],At=bt,Nt=fr,Gt=[["publicKey",k]],dt=[["serial",le],["flags",$],["typeBitmap",J]],Je=F,at=[["uinfo",o]],Oe=[["uid",le]],fe=[["gid",le]],Be=V,Dt=[["preference",$],["nodeID",se]],ne=[["preference",$],["locator32",ke]],ee=[["preference",$],["locator64",se]],be=[["preference",$],["fqdn",E]],We=[["address",ge]],Et=[["address",ve]],kt=[["algorithm",E],["inception",le],["expiration",le],["mode",$],["error",$],["key",A],["other",y]],Pt=[["algorithm",E],["timeSigned",X],["fudge",$],["mac",A],["origID",$],["error",$],["other",y]],Zt=[["priority",$],["weight",$],["target",h]],Qt=[["flag",G],["tag",h],["value",o]],er=F,tr=[["enterprise",le],["doa",le],["location",G],["mediaType",o],["data",k]],jt=[["keyTag",$],["algorithm",G],["digestType",G],["digest",y]],rr=bt,nr=[["version",$],["opcode",$],["error",$],["id",A],["leaseLife",le]],ir=[["lease",le]],sr=[["nsid",y]],$t=[["algCode",y]],cr=$t,Rr=$t,gr=[["family",$],["sourceNetmask",G],["sourceScope",G],["address",y]],hr=[["expire",le]],Br=[["cookie",y]],Tr=[["length",$],["timeout",$]],Or=[["padding",y]],Mr=[["trustPoint",E]],Dr=[["tags",M]],pr=[["data",y]],kr={[a.UNKNOWN]:V,[a.A]:ie,[a.NS]:L,[a.MD]:x,[a.MF]:j,[a.CNAME]:t,[a.SOA]:l,[a.MB]:I,[a.MG]:Y,[a.MR]:Z,[a.NULL]:W,[a.WKS]:ue,[a.PTR]:pe,[a.HINFO]:Ie,[a.MINFO]:te,[a.MX]:D,[a.TXT]:F,[a.RP]:he,[a.AFSDB]:we,[a.X25]:Me,[a.ISDN]:de,[a.RT]:Se,[a.NSAP]:ye,[a.NSAPPTR]:me,[a.SIG]:Te,[a.KEY]:xe,[a.PX]:Pe,[a.GPOS]:Ce,[a.AAAA]:Ke,[a.LOC]:qe,[a.NXT]:Ye,[a.EID]:$e,[a.NIMLOC]:Ge,[a.SRV]:Qe,[a.ATMA]:tt,[a.NAPTR]:nt,[a.KX]:Xe,[a.CERT]:ot,[a.A6]:yt,[a.DNAME]:lt,[a.SINK]:null,[a.OPT]:pt,[a.APL]:or,[a.DS]:bt,[a.SSHFP]:Rt,[a.IPSECKEY]:dr,[a.RRSIG]:mt,[a.NSEC]:Bt,[a.DNSKEY]:fr,[a.DHCID]:it,[a.NSEC3]:vt,[a.NSEC3PARAM]:br,[a.TLSA]:wt,[a.SMIMEA]:Tt,[a.HIP]:ar,[a.NINFO]:St,[a.RKEY]:_t,[a.TALINK]:Wt,[a.CDS]:At,[a.CDNSKEY]:Nt,[a.OPENPGPKEY]:Gt,[a.CSYNC]:dt,[a.SPF]:Je,[a.UINFO]:at,[a.UID]:Oe,[a.GID]:fe,[a.UNSPEC]:Be,[a.NID]:Dt,[a.L32]:ne,[a.L64]:ee,[a.LP]:be,[a.EUI48]:We,[a.EUI64]:Et,[a.TKEY]:kt,[a.TSIG]:Pt,[a.URI]:Zt,[a.CAA]:Qt,[a.AVC]:er,[a.DOA]:tr,[a.IXFR]:null,[a.AXFR]:null,[a.MAILB]:null,[a.MAILA]:null,[a.ANY]:null,[a.TA]:jt,[a.DLV]:rr,[a.RESERVED]:null},Pr={[s.RESERVED]:V,[s.LLQ]:nr,[s.UL]:ir,[s.NSID]:sr,[s.DAU]:$t,[s.DHU]:cr,[s.N3U]:Rr,[s.SUBNET]:gr,[s.EXPIRE]:hr,[s.COOKIE]:Br,[s.TCPKEEPALIVE]:Tr,[s.PADDING]:Or,[s.CHAIN]:Mr,[s.KEYTAG]:Dr,[s.LOCAL]:pr,[s.LOCALSTART]:pr,[s.LOCALEND]:pr};function Ur(et,rt,ft){if(e(et&&typeof et.fromZone=="function"),e(rt&&typeof rt=="object"),e(Array.isArray(ft)),ft===qe)return Yr(rt);const Ae=[];for(let st=0;st<ft.length;st++){const[ut,Ot]=ft[st],qt=rt[ut];Ae.push(Cr(et,rt,Ot,qt))}return Ae.join(" ")}function Cr(et,rt,ft,Ae){switch(e(ft>>>0===ft),ft){case E:return e(typeof Ae=="string"),Ae;case d:return e(Array.isArray(Ae)),Ae.join(" ");case T:return e(typeof Ae=="string"),Ae;case N:return e(typeof Ae=="string"),Ae;case R:return e(typeof Ae=="string"),Ae;case O:return e(typeof Ae=="string"),Ae;case A:return e(Ae!=null&&Ae._isBuffer===!0),Ae.length===0?"-":Ae.toString("hex").toUpperCase();case y:{if(e(Ae!=null&&Ae._isBuffer===!0),Ae.length===0)return"-";const st=Ae.toString("hex").toUpperCase(),ut=[];for(let Ot=0;Ot<st.length;Ot+=56)ut.push(st.substring(Ot,Ot+56));return ut.join(" ")}case U:return e(Ae!=null&&Ae._isBuffer===!0),Ae.length===0?"-":oe.encodeHex(Ae).toUpperCase();case q:return e(Ae!=null&&Ae._isBuffer===!0),Ae.length===0?"-":Ae.toString("base64");case k:{if(e(Ae!=null&&Ae._isBuffer===!0),Ae.length===0)return"-";const st=Ae.toString("base64"),ut=[];for(let Ot=0;Ot<st.length;Ot+=56)ut.push(st.substring(Ot,Ot+56));return ut.join(" ")}case o:return e(typeof Ae=="string"),mr(Ae);case h:return e(typeof Ae=="string"),Ae;case z:{e(Array.isArray(Ae));const st=[];for(const ut of Ae)st.push(mr(ut));return st.join(" ")}case J:{e(Ae!=null&&Ae._isBuffer===!0);const st=g.fromBitmap(Ae),ut=[];for(const Ot of st)ut.push(n(Ot));return ut.join(" ")}case M:return e(Array.isArray(Ae)),Ae.join(" ");case X:return H.serializeTime(Ae);case B:return n(Ae);case G:return e((Ae&255)===Ae),Ae.toString(10);case $:return e((Ae&65535)===Ae),Ae.toString(10);case le:return e(Ae>>>0===Ae),Ae.toString(10);case Ee:return e(Number.isSafeInteger(Ae)),e(Ae>=0&&Ae<=0xffffffffffff),Ae.toString(10);case Ne:{e(Ae!=null&&Ae._isBuffer===!0&&Ae.length===8);const st=Q.readU32BE(Ae,0),ut=Q.readU32BE(Ae,4);return H.serializeU64(st,ut)}case ke:return Kr(Ae);case se:return wr(Ae);case ge:return Ar(Ae,6);case ve:return Ar(Ae,8);case Ue:{e(Array.isArray(Ae));const st=[];for(const ut of Ae)st.push(ut.toString());return st.join(" ")}case re:return Hr(Ae);case Re:return Vr(Ae,rt.format);case r:return Gr(Ae);case c:return Xr(Ae);case b:return e(Ae>>>0===Ae),Ae.toString(10);default:throw new Error("Unknown type.")}}function zr(et,rt,ft,Ae){e(et&&typeof et.fromZone=="function"),e(rt&&typeof rt=="object"),e(Array.isArray(ft)),e(Ae&&typeof Ae=="object");for(let st=0;st<ft.length;st++){const[ut,Ot]=ft[st];rt[ut]=Lr(et,rt,Ot,Ae[ut])}return rt}function qr(et,rt,ft){e(et&&typeof et.fromZone=="function"),e(rt&&typeof rt=="object"),e(Array.isArray(ft));const Ae={};for(let st=0;st<ft.length;st++){const[ut,Ot]=ft[st];Ae[ut]=Fr(et,rt,Ot,rt[ut])}return Ae}function Lr(et,rt,ft,Ae){switch(e(ft>>>0===ft),ft){case E:return e(g.isName(Ae)),Ae;case d:{e(Array.isArray(Ae));const st=[];for(const ut of Ae)e(g.isName(ut)),st.push(ut);return st}case T:{const st=S.toBuffer(Ae);return e(S.isIPv4(st)),S.toString(st)}case N:{const st=S.toBuffer(Ae);return S.isIPv4(st)?`::ffff:${S.toString(st)}`:S.toString(st)}case R:return S.normalize(Ae);case O:{e(typeof Ae=="string");try{return S.normalize(Ae)}catch{}if(!g.isName(Ae))throw new Error("Invalid target.");return Ae}case A:case y:return H.parseHex(Ae);case U:return oe.decodeHex(Ae);case q:case k:return H.parseB64(Ae);case o:return e(g.isString(Ae,!1)),Ae;case h:return e(g.isString(Ae,!0)),Ae;case z:{e(Array.isArray(Ae));const st=[];for(const ut of Ae)e(g.isString(ut,!1)),st.push(ut);return st}case J:return g.toBitmap(Ae);case M:{e(Array.isArray(Ae));const st=[];for(const ut of Ae)e((ut&65535)===ut),st.push(ut);return st}case X:return e(Number.isSafeInteger(Ae)),e(Ae>=0&&Ae<=0xffffffffffff),Ae;case B:return p(Ae);case G:return e((Ae&255)===Ae),Ae;case $:return e((Ae&65535)===Ae),Ae;case le:return e(Ae>>>0===Ae),Ae;case Ee:return e(Number.isSafeInteger(Ae)),e(Ae>=0&&Ae<=0xffffffffffff),Ae;case Ne:return e(typeof Ae=="string"),e(Ae.length===16),H.parseHex(Ae);case ke:return e(typeof Ae=="string"),e(Ae.length===8),H.parseHex(Ae);case se:return e(typeof Ae=="string"),e(Ae.length===16),H.parseHex(Ae);case ge:return e(typeof Ae=="string"),e(Ae.length===12),H.parseHex(Ae);case ve:return e(typeof Ae=="string"),e(Ae.length===16),H.parseHex(Ae);case Ue:{e(Array.isArray(Ae));const{AP:st}=et,ut=[];for(const Ot of Ae)ut.push(st.fromJSON(Ot));return ut}case re:return H.parseHex(Ae);case Re:return H.parseHex(Ae);case r:return e((Ae&255)===Ae),Ae;case c:return H.parseHex(Ae);case b:return e(Ae>>>0===Ae),Ae;default:throw new Error("Unknown type.")}}function Fr(et,rt,ft,Ae){switch(e(ft>>>0===ft),ft){case E:return e(typeof Ae=="string"),Ae;case d:return e(Array.isArray(Ae)),Ae;case T:return e(typeof Ae=="string"),Ae;case N:return e(typeof Ae=="string"),Ae;case R:return e(typeof Ae=="string"),Ae;case O:return e(typeof Ae=="string"),Ae;case A:case y:return e(Ae!=null&&Ae._isBuffer===!0),Ae.toString("hex");case U:return e(Ae!=null&&Ae._isBuffer===!0),oe.encodeHex(Ae);case q:case k:return e(Ae!=null&&Ae._isBuffer===!0),Ae.toString("base64");case o:return e(typeof Ae=="string"),Ae;case h:return e(typeof Ae=="string"),Ae;case z:return e(Array.isArray(Ae)),Ae;case J:return g.fromBitmap(Ae);case M:return e(Array.isArray(Ae)),Ae;case X:return e(Number.isSafeInteger(Ae)),e(Ae>=0&&Ae<=0xffffffffffff),Ae;case B:return e(typeof Ae=="number"),n(Ae);case G:return e((Ae&255)===Ae),Ae;case $:return e((Ae&65535)===Ae),Ae;case le:return e(Ae>>>0===Ae),Ae;case Ee:return e(Number.isSafeInteger(Ae)),e(Ae>=0&&Ae<=0xffffffffffff),Ae;case Ne:return e(Ae!=null&&Ae._isBuffer===!0&&Ae.length===8),Ae.toString("hex");case ke:return e(Ae!=null&&Ae._isBuffer===!0&&Ae.length===4),Ae.toString("hex");case se:return e(Ae!=null&&Ae._isBuffer===!0&&Ae.length===8),Ae.toString("hex");case ge:return e(Ae!=null&&Ae._isBuffer===!0&&Ae.length===6),Ae.toString("hex");case ve:return e(Ae!=null&&Ae._isBuffer===!0&&Ae.length===8),Ae.toString("hex");case Ue:{e(Array.isArray(Ae));const st=[];for(const ut of Ae)st.push(ut.toJSON());return st}case re:return e(Ae!=null&&Ae._isBuffer===!0),Ae.toString("hex");case Re:return e(Ae!=null&&Ae._isBuffer===!0),Ae.toString("hex");case r:return e((Ae&255)===Ae),Ae;case c:return e(Ae!=null&&Ae._isBuffer===!0),Ae.toString("hex");case b:return e(Ae>>>0===Ae),Ae;default:throw new Error("Unknown type.")}}function mr(et){return e(typeof et=="string"),`"${et}"`}function Kr(et){if(e(et!=null&&et._isBuffer===!0),et.length!==4)throw new Error("Invalid NID32.");return S.toString(et)}function wr(et){if(e(et!=null&&et._isBuffer===!0),et.length!==8)throw new Error("Invalid NID32.");const rt=H.padRight(et,16),ft=S.toString(rt);if(ft[ft.length-1]!==":")throw new Error("Invalid NID32.");if(ft[ft.length-2]!==":")throw new Error("Invalid NID32.");return ft.length===2?ft:ft.slice(0,-2)}function Ar(et,rt){if(e(et!=null&&et._isBuffer===!0),e(rt===6||rt===8),et.length!==rt)throw new Error("Invalid EUI.");const ft=et.toString("hex");let Ae="";for(let st=0;st<ft.length;st+=2)Ae+=ft.substring(st,st+2),st!==ft.length-2&&(Ae+="-");return Ae}function Hr(et){return e(et!=null&&et._isBuffer===!0),`0x${et.toString("hex")}`}function Vr(et,rt){switch(e(et!=null&&et._isBuffer===!0),rt){case 0:return et.toString("hex");case 1:return et.toString("ascii");default:return et.toString("hex")}}function Gr(et){return u("./iana").protocolToString(et)}function Xr(et){e(et!=null&&et._isBuffer===!0);const rt=u("./iana"),ft=g.fromPortmap(et),Ae=[];for(const st of ft){const ut=rt.getService(st);ut&&Ae.push(ut)}return Ae.join(" ")}function yr(et,rt){if(e((et&255)===et),e((rt&255)===rt),rt<2)return rt===1&&(et*=10),et=et.toString(10),et.length<2&&(et="0"+et),`0.${et}`;let ft=et.toString(10);for(;rt>2;)ft+="0",rt-=1;return ft}function Yr(et){e(et&&typeof et=="object");let rt="",ft=et.latitude,Ae="N";ft>v?ft=ft-v:(Ae="S",ft=v-ft);const st=ft/m>>>0;ft%=m;const ut=ft/w>>>0;ft%=w;const Ot=ft/1e3;rt+=st.toString(10),rt+=" ",rt+=ut.toString(10),rt+=" ",rt+=Ot.toFixed(3),rt+=" ",rt+=Ae,rt+=" ";let qt=et.longitude,Ir="E";qt>K?qt=qt-K:(Ir="W",qt=K-qt);const jr=qt/m>>>0;qt%=m;const $r=qt/w>>>0;qt%=w;const Jr=qt/1e3;rt+=jr.toString(10),rt+=" ",rt+=$r.toString(10),rt+=" ",rt+=Jr.toFixed(3),rt+=" ",rt+=Ir,rt+=" ";let vr=et.altitude/100;return vr-=_,rt+=vr.toFixed(2),rt+="m ",rt+=yr((et.size&240)>>>4,et.size&15)+"m ",rt+=yr((et.horizPre&240)>>>4,et.horizPre&15)+"m ",rt+=yr((et.vertPre&240)>>>4,et.vertPre&15)+"m",rt}f.NAME=E,f.SERVERS=d,f.INET4=T,f.INET6=N,f.INET=R,f.TARGET=O,f.HEX=A,f.HEXEND=y,f.BASE32=U,f.BASE64=q,f.BASE64END=k,f.CHAR=o,f.OCTET=h,f.TXT=z,f.NSEC=J,f.TAGS=M,f.TIME=X,f.TYPE=B,f.U8=G,f.U16=$,f.U32=le,f.U48=Ee,f.U64=Ne,f.NID32=ke,f.NID64=se,f.EUI48=ge,f.EUI64=ve,f.APL=Ue,f.NSAP=re,f.ATMA=Re,f.PROTOCOL=r,f.WKS=c,f.TTL=b,f.records=kr,f.options=Pr,f.toString=Ur,f.fromJSON=zr,f.toJSON=qr}],["bns-plus","/lib/openpgpkey.js",function(f,Le,C,Fe,He,Ve){/*!
 * openpgpkey.js - OPENPGPKEY for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc7929
 */const e=ce(2,C),S=ce(12,C),oe=ce(90,C),{types:Q,classes:P,Record:g,OPENPGPKEYRecord:u}=oe,H=f;H.create=function(s,n,p={}){e(s!=null&&s._isBuffer===!0),e(p&&typeof p=="object");let{ttl:v}=p;v==null&&(v=3600),e(v>>>0===v);const K=new g,w=new u;return K.name=H.encodeEmail(n),K.type=Q.OPENPGPKEY,K.class=P.IN,K.ttl=v,K.data=w,w.publicKey=s,K},H.verify=function(s,n){return e(s instanceof g),e(s.type===Q.OPENPGPKEY),e(n!=null&&n._isBuffer===!0),s.data.publicKey.equals(n)},H.encodeEmail=function(s,n){return S.encodeEmail(s,"openpgpkey",n)},H.encodeName=function(s,n,p){return S.encodeName(s,"openpgpkey",n,p)},H.decodeName=function(s){return S.decodeName(s,"openpgpkey")},H.isName=function(s){return S.isName(s,"openpgpkey")}}],["bns-plus","/lib/wire.js",function(f,Le,C,Fe,He,Ve){/*!
 * wire.js - wire types for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns and golang/go:
 *   https://github.com/miekg/dns/blob/master/msg.go
 *   https://github.com/miekg/dns/blob/master/types.go
 *   https://github.com/miekg/dns/blob/master/edns.go
 *   https://github.com/golang/go/blob/master/src/net/dnsmsg.go
 */const e=ce(2,C),S=ce(14,C),oe=ce(4,C),Q=ce(11,C),P=ce(80,C),g=ce(81,C),u=ce(79,C),{Struct:H}=S,{sizeName:a,writeNameBW:s,readNameBR:n,sizeRawString:p,writeRawStringBW:v,readRawStringBR:K,sizeString:w,writeStringBW:m,readStringBR:_,readIP:E,writeIP:d,toBitmap:T,fromBitmap:N,hasType:R}=P,{opcodes:O,opcodesByVal:A,flags:y,flagsByVal:U,codes:q,codesByVal:k,types:o,typesByVal:h,classes:z,classesByVal:J,eflags:M,eflagsByVal:X,options:B,optionsByVal:G,keyFlags:$,algs:le,algsByVal:Ee,hashes:Ne,hashesByVal:ke,algHashes:se,nsecHashes:ge,nsecHashesByVal:ve,certTypes:Ue,certTypesByVal:re,usages:Re,usagesByVal:r,selectors:c,selectorsByVal:b,matchingTypes:V,matchingTypesByVal:ie,sshAlgs:L,sshAlgsByVal:x,sshHashes:j,sshHashesByVal:t,tsigAlgs:l,tsigAlgsByVal:I,tkeyModes:Y,tkeyModesByVal:Z,YEAR68:W,LOC_EQUATOR:ue,LOC_PRIMEMERIDIAN:pe,LOC_HOURS:Ie,LOC_DEGREES:te,LOC_ALTITUDEBASE:D,MAX_NAME_SIZE:F,MAX_LABEL_SIZE:he,MAX_UDP_SIZE:we,STD_EDNS_SIZE:Me,MAX_EDNS_SIZE:de,MAX_MSG_SIZE:Se,DNS_PORT:ye,DEFAULT_TTL:me,KSK_2010:Te,KSK_2017:xe,KSK_ARPA:Pe,opcodeToString:Ce,stringToOpcode:Ke,isOpcodeString:qe,codeToString:Ye,stringToCode:$e,isCodeString:Ge,typeToString:Qe,stringToType:tt,isTypeString:nt,classToString:Xe,stringToClass:ot,isClassString:yt,optionToString:lt,stringToOption:pt,isOptionString:or,algToString:bt,stringToAlg:Rt,isAlgString:dr,hashToString:mt,stringToHash:Bt,isHashString:fr}=Q,it=_e.alloc(0),vt=_e.alloc(4),br=_e.alloc(6),wt=_e.alloc(8),Tt=_e.allocUnsafe(16);let ar={},St={},_t={},Wt={};class At extends H{constructor(){super(),this.id=0,this.flags=0,this.opcode=O.QUERY,this.code=q.NOERROR,this.question=[],this.answer=[],this.authority=[],this.additional=[],this.edns=new Nt,this.tsig=null,this.sig0=null,this.size=0,this.malformed=!1,this.trailing=it}inject(i){return e(i instanceof this.constructor),this.id=i.id,this.flags=i.flags,this.opcode=i.opcode,this.code=i.code,this.question=i.question.slice(),this.answer=i.answer.slice(),this.authority=i.authority.slice(),this.additional=i.additional.slice(),this.edns=i.edns.clone(),this.tsig=i.tsig,this.sig0=i.sig0,this.size=i.size,this.malformed=i.malformed,this.trailing=i.trailing,this}deepClone(){return new this.constructor().decode(this.encode())}refresh(){return this.size=0,this.malformed=!1,this.trailing=it,this}sections(){return[this.answer,this.authority,this.additional]}*records(){for(const i of this.answer)yield i;for(const i of this.authority)yield i;for(const i of this.additional)yield i}canonical(){for(const i of this.question)i.canonical();for(const i of this.records())i.canonical();return this.edns.canonical(),this.tsig&&this.tsig.canonical(),this.sig0&&this.sig0.canonical(),this}getFlag(i){return(this.flags&i)!==0}setFlag(i,ae){return ae?this.flags|=i:this.flags&=~i,Boolean(ae)}get qr(){return this.getFlag(y.QR)}set qr(i){return this.setFlag(y.QR,i)}get aa(){return this.getFlag(y.AA)}set aa(i){return this.setFlag(y.AA,i)}get tc(){return this.getFlag(y.TC)}set tc(i){return this.setFlag(y.TC,i)}get rd(){return this.getFlag(y.RD)}set rd(i){return this.setFlag(y.RD,i)}get ra(){return this.getFlag(y.RA)}set ra(i){return this.setFlag(y.RA,i)}get z(){return this.getFlag(y.Z)}set z(i){return this.setFlag(y.Z,i)}get ad(){return this.getFlag(y.AD)}set ad(i){return this.setFlag(y.AD,i)}get cd(){return this.getFlag(y.CD)}set cd(i){return this.setFlag(y.CD,i)}get qd(){return this.question}set qd(i){this.question=i}get an(){return this.answer}set an(i){this.answer=i}get ns(){return this.authority}set ns(i){this.authority=i}get ar(){return this.additional}set ar(i){this.additional=i}get qdcount(){return this.question.length}get ancount(){return this.answer.length}get nscount(){return this.authority.length}get arcount(){let i=this.additional.length;return this.edns.enabled&&(i+=1),this.tsig&&(i+=1),this.sig0&&(i+=1),i}setReply(i){return e(i instanceof At),this.id=i.id,this.opcode=i.opcode,this.qr=!0,this.opcode===O.QUERY&&(this.rd=i.rd,this.cd=i.cd),this.question=[],i.question.length>0&&this.question.push(i.question[0]),this}isEDNS(){return this.edns.enabled}setEDNS(i,ae){return e((i&65535)===i),e(typeof ae=="boolean"),this.edns.reset(),this.edns.enabled=!0,this.edns.size=i,this.edns.dnssec=ae,this.code>15&&(this.edns.code=this.code>>>4),this}unsetEDNS(){return this.edns.reset(),this.code>15&&(this.code=q.NOERROR),this}isDNSSEC(){return this.edns.enabled?this.edns.dnssec:!1}maxSize(i){return i==null&&(i=de),e((i&65535)===i),e(i>=we&&i<=de),this.edns.enabled&&this.edns.size>=we?Math.min(i,this.edns.size):we}minTTL(){const i=u.now();let ae=-1;for(const De of this.records())if(!De.isOPT()&&De.ttl!==0&&((ae===-1||De.ttl<ae)&&(ae=De.ttl),De.type===o.RRSIG)){const ht=De.data.expiration-i;ht>0&&ht<ae&&(ae=ht)}return ae===-1&&(ae=0),ae}isAnswer(){return this.answer.length>0&&(this.code===q.NOERROR||this.code===q.YXDOMAIN||this.code===q.NXDOMAIN)}isReferral(){return this.isAnswer()?!1:this.authority.length>0&&(this.code===q.NOERROR||this.code===q.YXDOMAIN)}collect(i,ae){e(typeof i=="string"),e((ae&65535)===ae);const De=[];let Ze=u.fqdn(i);for(const ht of this.answer)if(!!u.equal(ht.name,Ze)){if(ht.type===o.CNAME){Ze=ht.data.target,(ae===o.ANY||ae===o.CNAME)&&De.push(ht);continue}ae!==o.ANY&&ht.type!==ae||De.push(ht)}return De}getSize(i){let ae=12;for(const De of this.question)ae+=De.getSize(i);for(const De of this.answer)ae+=De.getSize(i);for(const De of this.authority)ae+=De.getSize(i);for(const De of this.additional)ae+=De.getSize(i);return this.edns.enabled&&(ae+=this.edns.getSize(i)),this.tsig&&(ae+=this.tsig.getSize(i)),this.sig0&&(ae+=this.sig0.getSize(i)),ae}write(i,ae){i.writeU16BE(this.id);let De=this.flags;De&=~(15<<11),De|=(this.opcode&15)<<11,De&=-16,De|=this.code&15,i.writeU16BE(De),i.writeU16BE(this.question.length),i.writeU16BE(this.answer.length),i.writeU16BE(this.authority.length),i.writeU16BE(this.arcount);for(const Ze of this.question)Ze.write(i,ae);for(const Ze of this.answer)Ze.write(i,ae);for(const Ze of this.authority)Ze.write(i,ae);for(const Ze of this.additional)Ze.write(i,ae);return this.code>15&&(this.edns.enabled=!0,this.edns.code=this.code>>>4),this.edns.enabled&&this.edns.write(i,ae),this.tsig&&this.tsig.write(i,ae),this.sig0&&this.sig0.write(i,ae),this}encode(i){const ae=this.getSize(),De=S.write(ae);this.write(De,null);let Ze=De.render();if(i!=null&&(Ze=Kn(Ze,i)),Ze.length>Se)throw new Error("Message exceeds size limits.");return Ze}compress(i){const ae=this.getSize(),De=S.write(ae),Ze=new Map;this.write(De,Ze);let ht=De.slice();if(i!=null&&(ht=Kn(ht,i)),ht.length>Se)throw new Error("Message exceeds size limits.");return ht}read(i){const ae=i.data.length,De=i.readU16BE(),Ze=i.readU16BE(),ht=i.readU16BE(),xt=i.readU16BE(),Xt=i.readU16BE(),Ft=i.readU16BE();this.size=ae,this.id=De,this.flags=Ze,this.flags&=~(15<<11),this.flags&=-16,this.opcode=Ze>>>11&15,this.code=Ze&15;let Ut=!1;for(let ct=0;ct<ht;ct++){if(i.left()===0){Ut=!0;break}const Mt=Gt.read(i);this.question.push(Mt)}for(let ct=0;ct<xt;ct++){if(i.left()===0){Ut=!0;break}const Mt=dt.read(i);this.answer.push(Mt)}for(let ct=0;ct<Xt;ct++){if(i.left()===0){Ut=!0;break}const Mt=dt.read(i);this.authority.push(Mt)}for(let ct=0;ct<Ft;ct++){if(i.left()===0){Ut=!0;break}const Mt=dt.read(i);if(Mt.isOPT()){this.edns.setRecord(Mt),this.code&=15,this.code|=this.edns.code<<4;continue}if(Mt.isTSIG()){this.tsig=Mt;continue}if(Mt.isSIG0()){this.sig0=Mt;continue}this.additional.push(Mt)}return Ut&&!(Ze&y.TC)&&(this.malformed=!0),i.left()>0&&(this.trailing=i.readBytes(i.left())),this}toShort(i,ae){const De=new Gt(i,ae),Ze=this.collect(De.name,De.type);let ht="";for(const xt of Ze)ht+=xt.data.toString(),ht+=`
`;return ht}toString(i,ae,De){let Ze=-1,ht=-1;i!=null&&(e(Number.isSafeInteger(i)&&i>=0),Ze=Math.max(0,Date.now()-i),ht=Math.floor(i/1e3)),ae!=null&&(De==null&&(De=ye),e(typeof ae=="string"),e((De&65535)===De));const xt=Ce(this.opcode),Xt=Ye(this.code),Ft=this.id.toString(10),Ut=[];this.qr&&Ut.push("qr"),this.aa&&Ut.push("aa"),this.tc&&Ut.push("tc"),this.rd&&Ut.push("rd"),this.ra&&Ut.push("ra"),this.z&&Ut.push("z"),this.ad&&Ut.push("ad"),this.cd&&Ut.push("cd");let ct="";if(ct+=";; ->>HEADER<<-",ct+=` opcode: ${xt}, status: ${Xt}, id: ${Ft}
`,ct+=`;; flags: ${Ut.join(" ")};`,ct+=` QUERY: ${this.question.length},`,ct+=` ANSWER: ${this.answer.length},`,ct+=` AUTHORITY: ${this.authority.length},`,ct+=` ADDITIONAL: ${this.arcount}
`,this.edns.enabled){const Mt=this.edns.version,Cn=this.edns.dnssec?" do":"",on=this.edns.size;ct+=`
`,ct+=`;; OPT PSEUDOSECTION:
`,ct+=`; EDNS: version: ${Mt}, flags:${Cn}; udp: ${on}`;for(const fn of this.edns.options)ct+=`
`,ct+="; ",ct+=fn.toString()}if(this.question.length>0){ct+=`
`,ct+=`;; QUESTION SECTION:
`;for(const Mt of this.question)ct+=";",ct+=Mt.toString(),ct+=`
`}if(this.answer.length>0){ct+=`
`,ct+=`;; ANSWER SECTION:
`;for(const Mt of this.answer)ct+=Mt.toString(),ct+=`
`}if(this.authority.length>0){ct+=`
`,ct+=`;; AUTHORITY SECTION:
`;for(const Mt of this.authority)ct+=Mt.toString(),ct+=`
`}if(this.additional.length>0){ct+=`
`,ct+=`;; ADDITIONAL SECTION:
`;for(const Mt of this.additional)ct+=Mt.toString(),ct+=`
`}return this.tsig&&(ct+=`
`,ct+=`;; TSIG PSEUDOSECTION:
`,ct+=this.tsig.toString(),ct+=`
`),this.sig0&&(ct+=`
`,ct+=`;; SIG0 PSEUDOSECTION:
`,ct+=this.sig0.toString(),ct+=`
`),ct+=`
`,Ze!==-1&&(ct+=`;; Query time: ${Ze} msec
`),ae&&(ct+=`;; SERVER: ${ae}#${De}(${ae})
`),ht!==-1&&(ct+=`;; WHEN: ${u.digDate(ht)}
`),this.size||(this.size=this.getSize()),this.size>0&&(ct+=`;; MSG SIZE  rcvd: ${this.size}
`),this.trailing.length>0&&(ct+=`
`,ct+=";; trailing garbage: 0x",ct+=this.trailing.toString("hex"),ct+=`
`),ct}fromString(i){let ae=0,De=0,Ze=0,ht=0,xt=0,Xt=0,Ft=0,Ut=!1,ct=0,Mt=!1,Cn=we,on=null,fn=null,Hn=null,Vn=null,Gn=null,Qn=null,ei=null,ti=0,ri=it,Nr=-1;const Xn=u.splitLines(i),Er=()=>{if(Nr+=1,Nr===Xn.length)throw new Error("Unexpected EOF.");return Xn[Nr]},ni=It=>{const gt=Er();if(!u.startsWith(gt,It))throw new Error("Unexpected line.");return gt},Qr=It=>{for(;;){const gt=Er();if(u.startsWith(gt,It))return gt}},Yn=It=>{const gt=Nr;try{return Qr(It)}catch{return Nr=gt,null}},ui=()=>{if(Nr+1===Xn.length)return"";const It=Er();return Nr-=1,It},li=Qr(";; ->>HEADER<<-"),Jt=u.splitSP(li,9);e(Jt.length===8),e(Jt[0]===";;"),e(Jt[1]==="->>HEADER<<-"),e(Jt[2]==="opcode:"),e(u.endsWith(Jt[3],",")),e(Jt[4]==="status:"),e(u.endsWith(Jt[5],",")),e(Jt[6]==="id:"),e(!u.endsWith(Jt[7],",")),ae=Ke(Jt[3].slice(0,-1)),De=$e(Jt[5].slice(0,-1)),Ze=u.parseU16(Jt[7]);const di=ni(";; flags:"),ur=u.splitSP(di);e(ur.length>=9),e(ur[0]===";;"),ur[1]==="flags:;"&&(ur[1]="flags:",ur.splice(2,0,";")),e(ur[1]==="flags:");let lr=0,Kt=null;for(let It=2;It<ur.length;It++){let gt=ur[It];const Ct=gt[gt.length-1]===";";switch(Ct&&(gt=gt.slice(0,-1)),gt){case"":break;case"qr":lr|=y.QR;break;case"aa":lr|=y.AA;break;case"tc":lr|=y.TC;break;case"rd":lr|=y.RD;break;case"ra":lr|=y.RA;break;case"z":lr|=y.Z;break;case"ad":lr|=y.AD;break;case"cd":lr|=y.CD;break;default:throw new Error(`Unknown flag: ${gt}.`)}if(Ct){Kt=ur.slice(It+1);break}}if(!Kt)throw new Error("Malformed subheader.");if(e(Kt.length===8),e(Kt[0]==="QUERY:"),e(u.endsWith(Kt[1],",")),e(Kt[2]==="ANSWER:"),e(u.endsWith(Kt[3],",")),e(Kt[4]==="AUTHORITY:"),e(u.endsWith(Kt[5],",")),e(Kt[6]==="ADDITIONAL:"),e(!u.endsWith(Kt[7],",")),ht=u.parseU16(Kt[1].slice(0,-1)),xt=u.parseU16(Kt[3].slice(0,-1)),Xt=u.parseU16(Kt[5].slice(0,-1)),Ft=u.parseU16(Kt[7]),on=[],Yn(";; OPT PSEUDOSECTION:")){const It=ni("; EDNS: version: "),gt=u.splitSP(It);e(gt.length>=7),e(u.endsWith(gt[3],",")),gt[4]==="flags:;"&&(gt[4]="flags:",gt.splice(5,0,";")),e(gt[4]==="flags:"),Ut=!0,ct=u.parseU8(gt[3].slice(0,-1)),e(Ft>0),Ft-=1;let Ct=null;for(let zt=5;zt<gt.length;zt++){let en=gt[zt];const ci=en[en.length-1]===";";switch(ci&&(en=en.slice(0,-1)),en){case"":break;case"do":Mt=!0;break;default:throw new Error(`Unknown EDNS flag: ${en}.`)}if(ci){Ct=gt.slice(zt+1);break}}if(!Ct)throw new Error("Malformed EDNS header.");for(e(Ct.length===2),e(Ct[0]==="udp:"),Cn=u.parseU16(Ct[1]);u.startsWith(ui(),"; ");){let zt=Er().substring(2);u.startsWith(zt,"COOKIE: ")&&u.endsWith(zt," (echoed)")&&(zt=zt.slice(0,-9)),on.push(_r.fromString(zt))}}if(fn=[],ht>0){Qr(";; QUESTION SECTION:");for(let It=0;It<ht;It++){const gt=Er();e(gt[0]===";");const Ct=gt.substring(1),zt=Gt.fromString(Ct);fn.push(zt)}}if(Hn=[],xt>0){Qr(";; ANSWER SECTION:");for(let It=0;It<xt;It++){const gt=Er(),Ct=dt.fromString(gt);Hn.push(Ct)}}if(Vn=[],Xt>0){Qr(";; AUTHORITY SECTION:");for(let It=0;It<Xt;It++){const gt=Er(),Ct=dt.fromString(gt);Vn.push(Ct)}}if(Gn=[],Ft>0){switch(Qr(";; ")){case";; ADDITIONAL SECTION:":case";; TSIG PSEUDOSECTION:":case";; SIG0 PSEUDOSECTION:":break;default:throw new Error("Unexpected section.")}for(let gt=0;gt<Ft;gt++){const Ct=Er();if(Ct[0]===";"){Ft+=1;continue}const zt=dt.fromString(Ct);if(zt.isTSIG()){Qn=zt;continue}if(zt.isSIG0()){ei=zt;continue}Gn.push(zt)}}const ii=Yn(";; MSG SIZE  rcvd: ");if(ii){const It=ii.substring(19);ti=u.parseU32(It)}const si=Yn(";; trailing garbage: 0x");if(si){const It=si.substring(23);ri=u.parseHex(It)}return this.opcode=ae,this.code=De,this.id=Ze,this.flags=lr,this.edns.enabled=Ut,this.edns.version=ct,this.edns.dnssec=Mt,this.edns.size=Cn,this.edns.code=De>>>4,this.edns.options=on,this.question=fn,this.answer=Hn,this.authority=Vn,this.additional=Gn,this.tsig=Qn,this.sig0=ei,this.size=ti,this.malformed=!1,this.trailing=ri,this}getJSON(){return this.size||(this.size=this.getSize()),{id:this.id,opcode:Ce(this.opcode),code:Ye(this.code),qr:this.qr,aa:this.aa,tc:this.tc,rd:this.rd,ra:this.ra,z:this.z,ad:this.ad,cd:this.cd,question:this.question.map(i=>i.toJSON()),answer:this.answer.map(i=>i.toJSON()),authority:this.authority.map(i=>i.toJSON()),additional:this.additional.map(i=>i.toJSON()),edns:this.edns.enabled?this.edns.toJSON():je,tsig:this.tsig?this.tsig.data.toJSON():je,sig0:this.sig0?this.sig0.data.toJSON():je,size:this.size,trailing:this.trailing.length>0?this.trailing.toString("hex"):je}}fromJSON(i){e(i&&typeof i=="object"),e((i.id&65535)===i.id),e(typeof i.qr=="boolean"),e(typeof i.aa=="boolean"),e(typeof i.tc=="boolean"),e(typeof i.rd=="boolean"),e(typeof i.ra=="boolean"),e(typeof i.z=="boolean"),e(typeof i.ad=="boolean"),e(typeof i.cd=="boolean"),e(Array.isArray(i.question)),e(Array.isArray(i.answer)),e(Array.isArray(i.authority)),e(Array.isArray(i.additional)),this.id=i.id,this.opcode=Ke(i.opcode),this.code=$e(i.code),this.qr=i.qr,this.aa=i.aa,this.tc=i.tc,this.rd=i.rd,this.ra=i.ra,this.z=i.z,this.ad=i.ad,this.cd=i.cd;for(const ae of i.question)this.question.push(Gt.fromJSON(ae));for(const ae of i.answer)this.answer.push(dt.fromJSON(ae));for(const ae of i.authority)this.authority.push(dt.fromJSON(ae));for(const ae of i.additional){const De=dt.fromJSON(ae);e(!De.isOPT()),e(!De.isTSIG()),e(!De.isSIG0()),this.additional.push(De)}return i.edns!=null&&(this.edns.fromJSON(i.edns),this.code&=15,this.code|=this.edns.code<<4),i.tsig!=null&&(this.tsig=new dt,this.tsig.name=".",this.tsig.type=o.TSIG,this.tsig.class=z.ANY,this.tsig.ttl=0,this.tsig.data=sn.fromJSON(i.tsig)),i.sig0!=null&&(this.sig0=new dt,this.sig0.name=".",this.sig0.type=o.SIG,this.sig0.class=z.ANY,this.sig0.ttl=0,this.sig0.data=gr.fromJSON(i.sig0)),i.size!=null&&(e(i.size>>>0===i.size),this.size=i.size),this.malformed=!1,i.trailing!=null&&(this.trailing=u.parseHex(i.trailing)),this}}class Nt extends H{constructor(){super(),this.enabled=!1,this.size=we,this.code=0,this.version=0,this.flags=0,this.options=[]}inject(i){return e(i instanceof this.constructor),this.enabled=i.enabled,this.size=i.size,this.code=i.code,this.version=i.version,this.flags=i.flags,this.options=i.options.slice(),this}clone(){return new this.constructor().inject(this)}reset(){return this.enabled=!1,this.size=we,this.code=0,this.version=0,this.flags=0,this.options=[],this}canonical(){for(const i of this.options)i.canonical();return this}getFlag(i){return(this.flags&i)!==0}setFlag(i,ae){return ae?this.flags|=i:this.flags&=~i,Boolean(ae)}get dnssec(){return this.getFlag(M.DO)}set dnssec(i){return this.setFlag(M.DO,i)}set(i,ae){e((i&65535)===i),e(ae instanceof Lt);const De=new _r;De.code=i,De.option=ae;for(let Ze=0;Ze<this.options.length;Ze++)if(this.options[Ze].code===i)return this.options[Ze]=De,this;return this.options.push(De),this}get(i){e((i&65535)===i);for(const ae of this.options)if(ae.code===i)return ae.option;return null}has(i){return this.get(i)!=null}remove(i){e((i&65535)===i);for(let ae=0;ae<this.options.length;ae++){const De=this.options[ae];if(De.code===i)return this.options.splice(ae,1),De.option}return null}add(i){return e(i instanceof Lt),e(i.code!==B.RESERVED),this.set(i.code,i)}setCookie(i){e(i!=null&&i._isBuffer===!0);const ae=new cn;return ae.cookie=i,this.add(ae)}getCookie(){const i=this.get(B.COOKIE);return i?i.cookie:null}hasCookie(){return this.getCookie()!=null}removeCookie(){const i=this.remove(B.COOKIE);return i?i.cookie:null}getDataSize(i){let ae=0;for(const De of this.options)ae+=De.getSize(i);return ae}getSize(i){let ae=0;return ae+=1,ae+=10,ae+=this.getDataSize(i),ae}write(i,ae){i.writeU8(0),i.writeU16BE(o.OPT),i.writeU16BE(this.size),i.writeU8(this.code),i.writeU8(this.version),i.writeU16BE(this.flags),i.writeU16BE(0);const De=i.offset;for(const ht of this.options)ht.write(i,ae);const Ze=i.offset-De;return S.writeU16BE(i.data,Ze,De-2),this}read(i){e(i.readU8()===0),e(i.readU16BE()===o.OPT),this.size=i.readU16BE(),this.code=i.readU8(),this.version=i.readU8(),this.flags=i.readU16BE();const ae=i.readU16BE(),De=i.readChild(ae);for(;De.left();)this.options.push(_r.read(De));return this}setRecord(i){e(i instanceof dt),e(i.type===o.OPT);const ae=i.data;this.enabled=!0,this.size=i.class,this.code=i.ttl>>>24&255,this.version=i.ttl>>>16&255,this.flags=i.ttl&65535,this.options=[];for(const De of ae.options)this.options.push(De);return this}toRecord(){const i=new dt,ae=new mr;i.name=".",i.type=o.OPT,i.class=this.size,i.ttl|=(this.code&255)<<24,i.ttl|=(this.version&255)<<16,i.ttl|=this.flags&65535,i.ttl>>>=0,i.data=ae;for(const De of this.options)ae.options.push(De);return i}fromRecord(i){return this.setRecord(i)}static fromRecord(i){return new this().fromRecord(i)}getJSON(){return{enabled:this.enabled,size:this.size,code:this.code,version:this.version,dnssec:this.dnssec,options:this.options.map(i=>i.toJSON())}}fromJSON(i){e(i&&typeof i=="object"),e(typeof i.enabled=="boolean"),e((i.size&65535)===i.size),e((i.code&255)===i.code),e((i.version&255)===i.version),e(typeof i.dnssec=="boolean"),e(Array.isArray(i.options)),this.enabled=i.enabled,this.size=i.size,this.code=i.code,this.version=i.version,this.dnssec=i.dnssec;for(const ae of i.options)this.options.push(_r.fromJSON(ae));return this}}class Gt extends H{constructor(i,ae){super(),i==null&&(i=""),ae==null&&(ae=o.ANY),typeof ae=="string"&&(ae=tt(ae)),e(typeof i=="string"),e((ae&65535)===ae),this.name=u.fqdn(i),this.type=ae,this.class=z.IN}equals(i){return e(i instanceof Gt),u.equal(this.name,i.name)&&this.type===i.type&&this.class===i.class}inject(i){return e(i instanceof this.constructor),this.name=i.name,this.type=i.type,this.class=i.class,this}clone(){return new this.constructor().inject(this)}canonical(){return this.name=this.name.toLowerCase(),this}getSize(i){return a(this.name,i)+4}write(i,ae){return s(i,this.name,ae),i.writeU16BE(this.type),i.writeU16BE(this.class),this}read(i){return this.name=n(i),i.left()===0?this:(this.type=i.readU16BE(),i.left()===0?this:(this.class=i.readU16BE(),this))}toString(){const i=this.name,ae=Xe(this.class),De=Qe(this.type);return`${i} ${ae} ${De}`}fromString(i){const ae=u.splitSP(i,4);return e(ae.length===3),e(P.isName(ae[0])),this.name=ae[0],this.class=ot(ae[1]),this.type=tt(ae[2]),this}getJSON(){return{name:this.name,class:Xe(this.class),type:Qe(this.type)}}fromJSON(i){return e(i&&typeof i=="object"),e(typeof i.name=="string"),e(P.isName(i.name)),this.name=i.name,this.class=ot(i.class),this.type=tt(i.type),this}}class dt extends H{constructor(){super(),this.name=".",this.type=o.UNKNOWN,this.class=z.IN,this.ttl=0,this.data=new at}inject(i){return e(i instanceof this.constructor),this.name=i.name,this.type=i.type,this.class=i.class,this.ttl=i.ttl,this.data=i.data,this}deepClone(){return new this.constructor().decode(this.encode())}canonical(){return this.name=this.name.toLowerCase(),this.data.canonical(),this}isOPT(){return this.type===o.OPT}isTSIG(){return this.name==="."&&this.type===o.TSIG&&this.class===z.ANY&&this.ttl===0}isSIG0(){return this.name==="."&&this.type===o.SIG&&this.class===z.ANY&&this.ttl===0&&this.data.typeCovered===0}getSize(i){let ae=0;return ae+=a(this.name,i),ae+=10,ae+=this.data.getSize(i),ae}write(i,ae){s(i,this.name,ae),i.writeU16BE(this.type),i.writeU16BE(this.class),i.writeU32BE(this.ttl),i.writeU16BE(0);const De=i.offset;this.data.write(i,ae);const Ze=i.offset-De;return S.writeU16BE(i.data,Ze,De-2),this}read(i){this.name=n(i),this.type=i.readU16BE(),this.class=i.readU16BE(),this.ttl=i.readU32BE();const ae=i.readU16BE(),De=i.readChild(ae);return this.data=Ln(this.type,De),this}toString(){const i=this.name,ae=this.ttl.toString(10),De=Xe(this.class),Ze=Qe(this.type),ht=h[this.type]==null;let xt=this.data.toString();return ht&&(e(this.data.type===o.UNKNOWN),xt=`\\# ${this.data.getSize().toString(10)} ${xt}`),`${i} ${ae} ${De} ${Ze} ${xt}`}fromString(i){const De=g("./internal/scan").parseRecord(f,i);return this.inject(De)}getJSON(){return{name:this.name,ttl:this.ttl,class:Xe(this.class),type:Qe(this.type),data:this.data.toJSON()}}fromJSON(i){e(i&&typeof i=="object"),e(typeof i.name=="string"),e(P.isName(i.name)),e(i.ttl>>>0===i.ttl),e(i.data&&typeof i.data=="object"),this.name=i.name,this.ttl=i.ttl,this.class=ot(i.class),this.type=tt(i.type);const ae=St[this.type];let De;if(o[i.type]==null){const Ze=u.parseHex(i.data.data);ae?De=ae.decode(Ze):De=at.decode(Ze)}else{if(!ae)throw new Error(`Unknown record type: ${i.type}.`);De=ae.fromJSON(i.data)}return this.data=De,this}}class Je extends H{constructor(){super()}get type(){return o.UNKNOWN}_schema(){const i=g("./internal/schema"),ae=i.records[this.type];return ae||i.records[o.UNKNOWN]}canonical(){return this}toString(){return g("./internal/schema").toString(f,this,this._schema())}fromString(i){const De=g("./internal/scan").parseData(f,this.type,i);return this.inject(De)}getJSON(){return g("./internal/schema").toJSON(f,this,this._schema())}fromJSON(i){return g("./internal/schema").fromJSON(f,this,this._schema(),i)}}class at extends Je{constructor(){super(),this.data=it}get type(){return o.UNKNOWN}getSize(){return this.data.length}write(i){return i.writeBytes(this.data),this}read(i){return this.data=i.readBytes(i.left()),this}}class Oe extends Je{constructor(){super(),this.address="0.0.0.0"}get type(){return o.A}getSize(){return 4}write(i){return d(i,this.address,4),this}read(i){return this.address=E(i,4),this}}class fe extends Je{constructor(){super(),this.ns="."}get type(){return o.NS}canonical(){return this.ns=this.ns.toLowerCase(),this}getSize(i){return a(this.ns,i)}write(i,ae){return s(i,this.ns,ae),this}read(i){return this.ns=n(i),this}}class Be extends Je{constructor(){super(),this.md="."}get type(){return o.MD}canonical(){return this.md=this.md.toLowerCase(),this}getSize(i){return a(this.md,i)}write(i,ae){return s(i,this.md,ae),this}read(i){return this.md=n(i),this}}class Dt extends Je{constructor(){super(),this.mf="."}get type(){return o.MF}canonical(){return this.mf=this.mf.toLowerCase(),this}getSize(i){return a(this.mf,i)}write(i,ae){return s(i,this.mf,ae),this}read(i){return this.mf=n(i),this}}class ne extends Je{constructor(){super(),this.target="."}get type(){return o.CNAME}canonical(){return this.target=this.target.toLowerCase(),this}getSize(i){return a(this.target,i)}write(i,ae){return s(i,this.target,ae),this}read(i){return this.target=n(i),this}}class ee extends Je{constructor(){super(),this.ns=".",this.mbox=".",this.serial=0,this.refresh=0,this.retry=0,this.expire=0,this.minttl=0}get type(){return o.SOA}canonical(){return this.ns=this.ns.toLowerCase(),this.mbox=this.mbox.toLowerCase(),this}getSize(i){let ae=0;return ae+=a(this.ns,i),ae+=a(this.mbox,i),ae+=20,ae}write(i,ae){return s(i,this.ns,ae),s(i,this.mbox,ae),i.writeU32BE(this.serial),i.writeU32BE(this.refresh),i.writeU32BE(this.retry),i.writeU32BE(this.expire),i.writeU32BE(this.minttl),this}read(i){return this.ns=n(i),this.mbox=n(i),this.serial=i.readU32BE(),this.refresh=i.readU32BE(),this.retry=i.readU32BE(),this.expire=i.readU32BE(),this.minttl=i.readU32BE(),this}}class be extends Je{constructor(){super(),this.mb="."}get type(){return o.MB}canonical(){return this.mb=this.mb.toLowerCase(),this}getSize(i){return a(this.mb,i)}write(i,ae){return s(i,this.mb,ae),this}read(i){return this.mb=n(i),this}}class We extends Je{constructor(){super(),this.mg="."}get type(){return o.MG}canonical(){return this.mg=this.mg.toLowerCase(),this}getSize(i){return a(this.mg,i)}write(i,ae){return s(i,this.mg,ae),this}read(i){return this.mg=n(i),this}}class Et extends Je{constructor(){super(),this.mr="."}get type(){return o.MR}canonical(){return this.mr=this.mr.toLowerCase(),this}getSize(i){return a(this.mr,i)}write(i,ae){return s(i,this.mr,ae),this}read(i){return this.mr=n(i),this}}class kt extends at{constructor(){super()}get type(){return o.NULL}}class Pt extends Je{constructor(){super(),this.address="0.0.0.0",this.protocol=0,this.bitmap=it}get type(){return o.WKS}setPorts(i){return this.bitmap=P.toPortmap(i),this}getPorts(){return P.fromPortmap(this.bitmap)}hasPort(i){return P.hasPort(this.bitmap,i)}getSize(){return 5+this.bitmap.length}write(i){return d(i,this.address,4),i.writeU8(this.protocol),i.writeBytes(this.bitmap),this}read(i){return this.address=E(i,4),this.protocol=i.readU8(),this.bitmap=i.readBytes(i.left()),this}}class Zt extends Je{constructor(){super(),this.ptr="."}get type(){return o.PTR}canonical(){return this.ptr=this.ptr.toLowerCase(),this}getSize(i){return a(this.ptr,i)}write(i,ae){return s(i,this.ptr,ae),this}read(i){return this.ptr=n(i),this}}class Qt extends Je{constructor(){super(),this.cpu="",this.os=""}get type(){return o.HINFO}getSize(){let i=0;return i+=w(this.cpu),i+=w(this.os),i}write(i){return m(i,this.cpu),m(i,this.os),this}read(i){return this.cpu=_(i),this.os=_(i),this}}class er extends Je{constructor(){super(),this.rmail=".",this.email="."}get type(){return o.MINFO}canonical(){return this.rmail=this.rmail.toLowerCase(),this.email=this.email.toLowerCase(),this}getSize(i){let ae=0;return ae+=a(this.rmail,i),ae+=a(this.email,i),ae}write(i,ae){return s(i,this.rmail,ae),s(i,this.email,ae),this}read(i){return this.rmail=n(i),this.email=n(i),this}}class tr extends Je{constructor(){super(),this.preference=0,this.mx="."}get type(){return o.MX}canonical(){return this.mx=this.mx.toLowerCase(),this}getSize(i){return 2+a(this.mx,i)}write(i,ae){return i.writeU16BE(this.preference),s(i,this.mx,ae),this}read(i){return this.preference=i.readU16BE(),this.mx=n(i),this}}class jt extends Je{constructor(){super(),this.txt=[]}get type(){return o.TXT}getSize(){let i=0;for(const ae of this.txt)i+=w(ae);return i}write(i){for(const ae of this.txt)m(i,ae);return this}read(i){for(;i.left();)this.txt.push(_(i));return this}}class rr extends Je{constructor(){super(),this.mbox=".",this.txt="."}get type(){return o.RP}canonical(){return this.mbox=this.mbox.toLowerCase(),this.txt=this.txt.toLowerCase(),this}getSize(i){let ae=0;return ae+=a(this.mbox,i),ae+=a(this.txt,i),ae}write(i,ae){return s(i,this.mbox,ae),s(i,this.txt,ae),this}read(i){return this.mbox=n(i),this.txt=n(i),this}}class nr extends Je{constructor(){super(),this.subtype=0,this.hostname="."}get type(){return o.AFSDB}canonical(){return this.hostname=this.hostname.toLowerCase(),this}getSize(i){return 2+a(this.hostname,i)}write(i,ae){return i.writeU16BE(this.subtype),s(i,this.hostname,ae),this}read(i){return this.subtype=i.readU16BE(),this.hostname=n(i),this}}class ir extends Je{constructor(){super(),this.psdnAddress=""}get type(){return o.X25}getSize(){return w(this.psdnAddress)}write(i){return m(i,this.psdnAddress),this}read(i){return this.psdnAddress=_(i,!0),this}}class sr extends Je{constructor(){super(),this.address="",this.sa=""}get type(){return o.ISDN}getSize(){let i=0;return i+=w(this.address),i+=w(this.sa),i}write(i){return m(i,this.address),m(i,this.sa),this}read(i){return this.address=_(i,!0),this.sa=_(i,!0),this}}class $t extends Je{constructor(){super(),this.preference=0,this.host="."}get type(){return o.RT}canonical(){return this.host=this.host.toLowerCase(),this}getSize(i){return 2+a(this.host,i)}write(i,ae){return i.writeU16BE(this.preference),s(i,this.host,ae),this}read(i){return this.preference=i.readU16BE(),this.host=n(i),this}}class cr extends Je{constructor(){super(),this.nsap=it}get type(){return o.NSAP}getSize(){return this.nsap.length}write(i){return i.writeBytes(this.nsap),this}read(i){return this.nsap=i.readBytes(i.left()),this}}class Rr extends Zt{constructor(){super()}get type(){return o.NSAPPTR}}class gr extends Je{constructor(){super(),this.typeCovered=0,this.algorithm=0,this.labels=0,this.origTTL=0,this.expiration=0,this.inception=0,this.keyTag=0,this.signerName=".",this.signature=it}get type(){return o.SIG}canonical(){return this.signerName=this.signerName.toLowerCase(),this}getSize(i){let ae=0;return ae+=18,ae+=a(this.signerName,i),ae+=this.signature.length,ae}write(i,ae){return i.writeU16BE(this.typeCovered),i.writeU8(this.algorithm),i.writeU8(this.labels),i.writeU32BE(this.origTTL),i.writeU32BE(this.expiration),i.writeU32BE(this.inception),i.writeU16BE(this.keyTag),s(i,this.signerName,ae),i.writeBytes(this.signature),this}read(i){return this.typeCovered=i.readU16BE(),this.algorithm=i.readU8(),this.labels=i.readU8(),this.origTTL=i.readU32BE(),this.expiration=i.readU32BE(),this.inception=i.readU32BE(),this.keyTag=i.readU16BE(),this.signerName=n(i),this.signature=i.readBytes(i.left()),this}toTBS(){const i=this.signerName,ae=this.signature;this.signerName=i.toLowerCase(),this.signature=it;let De=null;try{De=this.encode()}finally{this.signerName=i,this.signature=ae}return De}validityPeriod(i){return i==null&&(i=u.now()),e(Number.isSafeInteger(i)&&i>=0),i>=this.inception&&i<=this.expiration}getJSON(){const i=super.getJSON();return i.algName=bt(this.algorithm),i}toString(){const i=bt(this.algorithm);let ae=super.toString();return ae+=" ",ae+=` ; alg = ${i}`,ae}}class hr extends Je{constructor(){super(),this.flags=0,this.protocol=0,this.algorithm=0,this.publicKey=it}get type(){return o.KEY}getSize(){return 4+this.publicKey.length}write(i){return i.writeU16BE(this.flags),i.writeU8(this.protocol),i.writeU8(this.algorithm),i.writeBytes(this.publicKey),this}read(i){return this.flags=i.readU16BE(),this.protocol=i.readU8(),this.algorithm=i.readU8(),this.publicKey=i.readBytes(i.left()),this}keyTag(i){if(this.algorithm===le.RSAMD5){const De=this.publicKey;return De.length<2?0:S.readU16BE(De,De.length-2)}i||(i=this.encode());let ae=0;for(let De=0;De<i.length;De++){const Ze=i[De];De&1?ae+=Ze:ae+=Ze<<8,ae|=0}return ae+=ae>>>16&65535,ae&=65535,ae}revTag(i){if(!(this.flags&$.REVOKE))return this.keyTag(i);this.flags&=~$.REVOKE;try{return this.keyTag(i)}finally{this.flags|=$.REVOKE}}getJSON(){let i="ZSK";this.flags&$.SEP&&(i="KSK");const ae=super.getJSON();return ae.keyType=i,ae.keyTag=this.keyTag(),ae.algName=bt(this.algorithm),Jn(this.algorithm)&&(ae.bits=Zn(this.publicKey)),ae}toString(){let i="ZSK";this.flags&$.SEP&&(i="KSK");const ae=bt(this.algorithm),De=this.keyTag();let Ze=super.toString();if(Ze+=" ",Ze+=` ; ${i}`,Ze+=` ; alg = ${ae}`,Jn(this.algorithm)){const[ht,xt]=Zn(this.publicKey);Ze+=` ; bits = ${ht},${xt}`}return Ze+=` ; key id = ${De}`,Ze}}class Br extends Je{constructor(){super(),this.preference=0,this.map822=".",this.mapx400="."}get type(){return o.PX}canonical(){return this.map822=this.map822.toLowerCase(),this.mapx400=this.mapx400.toLowerCase(),this}getSize(i){let ae=0;return ae+=2,ae+=a(this.map822,i),ae+=a(this.mapx400,i),ae}write(i,ae){return i.writeU16BE(this.preference),s(i,this.map822,ae),s(i,this.mapx400,ae),this}read(i){return this.preference=i.readU16BE(),this.map822=n(i),this.mapx400=n(i),this}}class Tr extends Je{constructor(){super(),this.longitude="",this.latitude="",this.altitude=""}get type(){return o.GPOS}getSize(){let i=0;return i+=w(this.longitude),i+=w(this.latitude),i+=w(this.altitude),i}write(i){return m(i,this.longitude),m(i,this.latitude),m(i,this.altitude),this}read(i){return this.longitude=_(i,!0),this.latitude=_(i,!0),this.altitude=_(i,!0),this}}class Or extends Je{constructor(){super(),this.address="::"}get type(){return o.AAAA}getSize(){return 16}write(i){return d(i,this.address,16),this}read(i){return this.address=E(i,16),this}}class Mr extends Je{constructor(){super(),this.version=0,this.size=0,this.horizPre=0,this.vertPre=0,this.latitude=0,this.longitude=0,this.altitude=0}get type(){return o.LOC}getSize(){return 16}write(i){return i.writeU8(this.version),i.writeU8(this.size),i.writeU8(this.horizPre),i.writeU8(this.vertPre),i.writeU32BE(this.latitude),i.writeU32BE(this.longitude),i.writeU32BE(this.altitude),this}read(i){return this.version=i.readU8(),this.size=i.readU8(),this.horizPre=i.readU8(),this.vertPre=i.readU8(),this.latitude=i.readU32BE(),this.longitude=i.readU32BE(),this.altitude=i.readU32BE(),this}}class Dr extends Je{constructor(){super(),this.nextDomain=".",this.typeBitmap=it}get type(){return o.NXT}canonical(){return this.nextDomain=this.nextDomain.toLowerCase(),this}setTypes(i){return this.typeBitmap=T(i),this}getTypes(){return N(this.typeBitmap)}hasType(i){return R(this.typeBitmap,i)}getSize(i){let ae=0;return ae+=a(this.nextDomain,i),ae+=this.typeBitmap.length,ae}write(i,ae){return s(i,this.nextDomain,ae),i.writeBytes(this.typeBitmap),this}read(i){return this.nextDomain=n(i),this.typeBitmap=i.readBytes(i.left()),this}}class pr extends Je{constructor(){super(),this.endpoint=it}get type(){return o.EID}getSize(){return this.endpoint.length}write(i){return i.writeBytes(this.endpoint),this}read(i){return this.endpoint=i.readBytes(i.left()),this}}class kr extends Je{constructor(){super(),this.locator=it}get type(){return o.NIMLOC}getSize(){return this.locator.length}write(i){return i.writeBytes(this.locator),this}read(i){return this.locator=i.readBytes(i.left()),this}}class Pr extends Je{constructor(){super(),this.priority=0,this.weight=0,this.port=0,this.target="."}get type(){return o.SRV}canonical(){return this.target=this.target.toLowerCase(),this}getSize(i){return 6+a(this.target,i)}write(i,ae){return i.writeU16BE(this.priority),i.writeU16BE(this.weight),i.writeU16BE(this.port),s(i,this.target,ae),this}read(i){return this.priority=i.readU16BE(),this.weight=i.readU16BE(),this.port=i.readU16BE(),this.target=n(i),this}}class Ur extends Je{constructor(){super(),this.format=0,this.address=it}get type(){return o.ATMA}getSize(){return 1+this.address.length}write(i){return i.writeU8(this.format),i.writeBytes(this.address),this}read(i){return this.format=i.readU8(),this.address=i.readBytes(i.left()),this}}class Cr extends Je{constructor(){super(),this.order=0,this.preference=0,this.flags="",this.service="",this.regexp="",this.replacement="."}get type(){return o.NAPTR}canonical(){return this.replacement=this.replacement.toLowerCase(),this}getSize(i){let ae=0;return ae+=4,ae+=w(this.flags),ae+=w(this.service),ae+=w(this.regexp),ae+=a(this.replacement,i),ae}write(i,ae){return i.writeU16BE(this.order),i.writeU16BE(this.preference),m(i,this.flags),m(i,this.service),m(i,this.regexp),s(i,this.replacement,ae),this}read(i){return this.order=i.readU16BE(),this.preference=i.readU16BE(),this.flags=_(i),this.service=_(i),this.regexp=_(i),this.replacement=n(i),this}}class zr extends Je{constructor(){super(),this.preference=0,this.exchanger="."}get type(){return o.KX}canonical(){return this.exchanger=this.exchanger.toLowerCase(),this}getSize(i){return 2+a(this.exchanger,i)}write(i,ae){return i.writeU16BE(this.preference),s(i,this.exchanger,ae),this}read(i){return this.preference=i.readU16BE(),this.exchanger=n(i),this}}class qr extends Je{constructor(){super(),this.certType=0,this.keyTag=0,this.algorithm=0,this.certificate=it}get type(){return o.CERT}getSize(){return 5+this.certificate.length}write(i){return i.writeU16BE(this.certType),i.writeU16BE(this.keyTag),i.writeU8(this.algorithm),i.writeBytes(this.certificate),this}read(i){return this.certType=i.readU16BE(),this.keyTag=i.readU16BE(),this.algorithm=i.readU8(),this.certificate=i.readBytes(i.left()),this}getJSON(){const i=re[this.certType],ae=super.getJSON();return i&&(ae.typeName=i),ae.algName=bt(this.algorithm),ae}toString(){const i=re[this.certType],ae=bt(this.algorithm);let De=super.toString();return De+=" ",i&&(De+=` ; cert type = ${i}`),De+=` ; alg = ${ae}`,De}}class Lr extends Je{constructor(){super(),this.prefixLen=0,this.address="::",this.prefix="."}get type(){return o.A6}canonical(){return this.prefix=this.prefix.toLowerCase(),this}getSize(i){const ae=this.prefixLen;e(ae<=128);let De=0;return De+=1,De+=(128-ae+7)/8|0,ae>0&&(De+=a(this.prefix,i)),De}write(i,ae){const De=this.prefixLen;e(De<=128),i.writeU8(De);const Ze=(128-De+7)/8|0,ht=oe.toBuffer(this.address);return i.copy(ht,16-Ze,16),De>0&&s(i,this.prefix,ae),this}read(i){const ae=Math.min(128,i.readU8()),De=(128-ae+7)/8|0,Ze=i.readBytes(De,!0),ht=Tt;return ht.fill(0,0,16-De),ht.copy(Ze,16-De),this.prefixLen=ae,this.address=oe.toString(ht),ae>0&&(this.prefix=n(i)),this}}class Fr extends ne{constructor(){super()}get type(){return o.DNAME}}class mr extends Je{constructor(){super(),this.options=[]}get type(){return o.OPT}canonical(){for(const i of this.options)i.canonical();return this}getSize(i){let ae=0;for(const De of this.options)ae+=De.getSize(i);return ae}write(i,ae){for(const De of this.options)De.write(i,ae);return this}read(i){for(;i.left();)this.options.push(_r.read(i));return this}toString(){return""}fromString(i){return this}getJSON(){return{options:this.options.map(i=>i.toJSON())}}fromJSON(i){e(i&&typeof i=="object"),e(Array.isArray(i.options));for(const ae of i.options)this.options.push(_r.fromJSON(ae));return this}}class Kr extends Je{constructor(){super(),this.items=[]}get type(){return o.APL}getSize(){let i=0;for(const ae of this.items)i+=ae.getSize();return i}write(i){for(const ae of this.items)ae.write(i);return this}read(i){for(;i.left();)this.items.push($n.read(i));return this}}class wr extends Je{constructor(){super(),this.keyTag=0,this.algorithm=0,this.digestType=0,this.digest=it}get type(){return o.DS}getSize(){return 4+this.digest.length}write(i){return i.writeU16BE(this.keyTag),i.writeU8(this.algorithm),i.writeU8(this.digestType),i.writeBytes(this.digest),this}read(i){return this.keyTag=i.readU16BE(),this.algorithm=i.readU8(),this.digestType=i.readU8(),this.digest=i.readBytes(i.left()),this}getJSON(){const i=super.getJSON();return i.algName=bt(this.algorithm),i.hashName=mt(this.digestType),i}toString(){const i=bt(this.algorithm),ae=mt(this.digestType);let De=super.toString();return De+=" ",De+=` ; alg = ${i}`,De+=` ; hash = ${ae}`,De}}class Ar extends Je{constructor(){super(),this.algorithm=0,this.digestType=0,this.fingerprint=it}get type(){return o.SSHFP}getSize(){return 2+this.fingerprint.length}write(i){return i.writeU8(this.algorithm),i.writeU8(this.digestType),i.writeBytes(this.fingerprint),this}read(i){return this.algorithm=i.readU8(),this.digestType=i.readU8(),this.fingerprint=i.readBytes(i.left()),this}getJSON(){const i=x[this.algorithm],ae=t[this.digestType],De=super.getJSON();return i&&(De.algName=i),ae&&(De.hashName=ae),De}toString(){const i=x[this.algorithm],ae=t[this.digestType];let De=super.toString();return De+=" ",i&&(De+=` ; alg = ${i}`),ae&&(De+=` ; hash = ${ae}`),De}}class Hr extends Je{constructor(){super(),this.precedence=0,this.gatewayType=1,this.algorithm=0,this.target="0.0.0.0",this.publicKey=it}get type(){return o.IPSECKEY}canonical(){return this.gatewayType===3&&(this.target=this.target.toLowerCase()),this}getSize(i){let ae=3;switch(this.gatewayType){case 1:ae+=4;break;case 2:ae+=16;break;case 3:ae+=a(this.target,i);break}return ae+=this.publicKey.length,ae}write(i,ae){switch(i.writeU8(this.precedence),i.writeU8(this.gatewayType),i.writeU8(this.algorithm),this.gatewayType){case 1:{d(i,this.target,4);break}case 2:{d(i,this.target,16);break}case 3:s(i,this.target,ae);break}return i.writeBytes(this.publicKey),this}read(i){switch(this.precedence=i.readU8(),this.gatewayType=i.readU8(),this.algorithm=i.readU8(),this.gatewayType){case 1:this.target=E(i,4);break;case 2:this.target=E(i,16);break;case 3:this.target=n(i);break}return this.publicKey=i.readBytes(i.left()),this}}class Vr extends gr{constructor(){super()}get type(){return o.RRSIG}}class Gr extends Je{constructor(){super(),this.nextDomain=".",this.typeBitmap=it}get type(){return o.NSEC}canonical(){return this.nextDomain=this.nextDomain.toLowerCase(),this}setTypes(i){return this.typeBitmap=T(i),this}getTypes(){return N(this.typeBitmap)}hasType(i){return R(this.typeBitmap,i)}getSize(){let i=0;return i+=a(this.nextDomain,null,!1),i+=this.typeBitmap.length,i}write(i){return s(i,this.nextDomain,null,!1),i.writeBytes(this.typeBitmap),this}read(i){return this.nextDomain=n(i),this.typeBitmap=i.readBytes(i.left()),this}}class Xr extends hr{constructor(){super()}get type(){return o.DNSKEY}}class yr extends Je{constructor(){super(),this.digest=it}get type(){return o.DHCID}getSize(){return this.digest.length}write(i){return i.writeBytes(this.digest),this}read(i){return this.digest=i.readBytes(i.left()),this}}class Yr extends Je{constructor(){super(),this.hash=0,this.flags=0,this.iterations=0,this.salt=it,this.nextDomain=it,this.typeBitmap=it}get type(){return o.NSEC3}setTypes(i){return this.typeBitmap=T(i),this}getTypes(){return N(this.typeBitmap)}hasType(i){return R(this.typeBitmap,i)}getSize(){let i=0;return i+=6,i+=this.salt.length,i+=this.nextDomain.length,i+=this.typeBitmap.length,i}write(i){return i.writeU8(this.hash),i.writeU8(this.flags),i.writeU16BE(this.iterations),i.writeU8(this.salt.length),i.writeBytes(this.salt),i.writeU8(this.nextDomain.length),i.writeBytes(this.nextDomain),i.writeBytes(this.typeBitmap),this}read(i){return this.hash=i.readU8(),this.flags=i.readU8(),this.iterations=i.readU16BE(),this.salt=i.readBytes(i.readU8()),this.nextDomain=i.readBytes(i.readU8()),this.typeBitmap=i.readBytes(i.left()),this}getJSON(){const i=ve[this.hash],ae=super.getJSON();return i&&(ae.hashName=i),ae}toString(){const i=ve[this.hash];let ae=super.toString();return ae+=" ",i&&(ae+=` ; hash = ${i}`),ae}}class et extends Je{constructor(){super(),this.hash=0,this.flags=0,this.iterations=0,this.salt=it}get type(){return o.NSEC3PARAM}getSize(){return 5+this.salt.length}write(i){return i.writeU8(this.hash),i.writeU8(this.flags),i.writeU16BE(this.iterations),i.writeU8(this.salt.length),i.writeBytes(this.salt),this}read(i){return this.hash=i.readU8(),this.flags=i.readU8(),this.iterations=i.readU16BE(),this.salt=i.readBytes(i.readU8()),this}getJSON(){const i=ve[this.hash],ae=super.getJSON();return i&&(ae.hashName=i),ae}toString(){const i=ve[this.hash];let ae=super.toString();return ae+=" ",i&&(ae+=` ; hash = ${i}`),ae}}class rt extends Je{constructor(){super(),this.usage=0,this.selector=0,this.matchingType=0,this.certificate=it}get type(){return o.TLSA}getSize(){return 3+this.certificate.length}write(i){return i.writeU8(this.usage),i.writeU8(this.selector),i.writeU8(this.matchingType),i.writeBytes(this.certificate),this}read(i){return this.usage=i.readU8(),this.selector=i.readU8(),this.matchingType=i.readU8(),this.certificate=i.readBytes(i.left()),this}getJSON(){const i=r[this.usage],ae=b[this.selector],De=ie[this.matchingType],Ze=super.getJSON();return i&&(Ze.usageName=i),ae&&(Ze.selectorName=ae),De&&(Ze.matchingTypeName=De),Ze}toString(){const i=r[this.usage],ae=b[this.selector],De=ie[this.matchingType];let Ze=super.toString();return Ze+=" ",i&&(Ze+=` ; usage = ${i}`),ae&&(Ze+=` ; selector = ${ae}`),De&&(Ze+=` ; matching type = ${De}`),Ze}}class ft extends rt{constructor(){super()}get type(){return o.SMIMEA}}class Ae extends Je{constructor(){super(),this.algorithm=0,this.hit=it,this.publicKey=it,this.servers=[]}get type(){return o.HIP}canonical(){for(let i=0;i<this.servers.length;i++)this.servers[i]=this.servers[i].toLowerCase();return this}getSize(i){let ae=4;ae+=this.hit.length,ae+=this.publicKey.length;for(const De of this.servers)ae+=a(De,i);return ae}write(i,ae){i.writeU8(this.hit.length),i.writeU8(this.algorithm),i.writeU16BE(this.publicKey.length),i.writeBytes(this.hit),i.writeBytes(this.publicKey);for(const De of this.servers)s(i,De,ae);return this}read(i){const ae=i.readU8();this.algorithm=i.readU8();const De=i.readU16BE();for(this.hit=i.readBytes(ae),this.publicKey=i.readBytes(De);i.left();)this.servers.push(n(i));return this}}class st extends Je{constructor(){super(),this.zsData=[]}get type(){return o.NINFO}getSize(){let i=0;for(const ae of this.zsData)i+=w(ae);return i}write(i){for(const ae of this.zsData)m(i,ae);return this}read(i){for(;i.left();)this.zsData.push(_(i));return this}}class ut extends hr{constructor(){super()}get type(){return o.RKEY}}class Ot extends Je{constructor(){super(),this.prevName=".",this.nextName="."}get type(){return o.TALINK}canonical(){return this.prevName=this.prevName.toLowerCase(),this.nextName=this.nextName.toLowerCase(),this}getSize(i){let ae=0;return ae+=a(this.prevName,i),ae+=a(this.nextName,i),ae}write(i,ae){return s(i,this.prevName,ae),s(i,this.nextName,ae),this}read(i){return this.prevName=n(i),this.nextName=n(i),this}}class qt extends wr{constructor(){super()}get type(){return o.CDS}}class Ir extends hr{constructor(){super()}get type(){return o.CDNSKEY}}class jr extends Je{constructor(){super(),this.publicKey=it}get type(){return o.OPENPGPKEY}getSize(){return this.publicKey.length}write(i){return i.writeBytes(this.publicKey),this}read(i){return this.publicKey=i.readBytes(i.left()),this}}class $r extends Je{constructor(){super(),this.serial=0,this.flags=0,this.typeBitmap=it}get type(){return o.CSYNC}setTypes(i){return this.typeBitmap=T(i),this}getTypes(){return N(this.typeBitmap)}hasType(i){return R(this.typeBitmap,i)}getSize(){return 6+this.typeBitmap.length}write(i){return i.writeU32BE(this.serial),i.writeU16BE(this.flags),i.writeBytes(this.typeBitmap),this}read(i){return this.serial=i.readU32BE(),this.flags=i.readU16BE(),this.typeBitmap=i.readBytes(i.left()),this}}class Jr extends jt{constructor(){super()}get type(){return o.SPF}}class vr extends Je{constructor(){super(),this.uinfo=""}get type(){return o.UINFO}getSize(){return w(this.uinfo)}write(i){return m(i,this.uinfo),this}read(i){return this.uinfo=_(i),this}}class hn extends Je{constructor(){super(),this.uid=0}get type(){return o.UID}getSize(){return 4}write(i){return i.writeU32BE(this.uid),this}read(i){return this.uid=i.readU32BE(),this}}class un extends Je{constructor(){super(),this.gid=0}get type(){return o.GID}getSize(){return 4}write(i){return i.writeU32BE(this.gid),this}read(i){return this.gid=i.readU32BE(),this}}class ln extends at{constructor(){super()}get type(){return o.UNSPEC}}class dn extends Je{constructor(){super(),this.preference=0,this.nodeID=wt}get type(){return o.NID}getSize(){return 10}write(i){return i.writeU16BE(this.preference),i.writeBytes(this.nodeID),this}read(i){return this.preference=i.readU16BE(),this.nodeID=i.readBytes(8),this}}class bn extends Je{constructor(){super(),this.preference=0,this.locator32=vt}get type(){return o.L32}getSize(){return 6}write(i){return i.writeU16BE(this.preference),i.writeBytes(this.locator32),this}read(i){return this.preference=i.readU16BE(),this.locator32=i.readBytes(4),this}}class gn extends Je{constructor(){super(),this.preference=0,this.locator64=wt}get type(){return o.L64}getSize(){return 10}write(i){return i.writeU16BE(this.preference),i.writeBytes(this.locator64),this}read(i){return this.preference=i.readU16BE(),this.locator64=i.readBytes(8),this}}class pn extends Je{constructor(){super(),this.preference=0,this.fqdn="."}get type(){return o.LP}canonical(){return this.fqdn=this.fqdn.toLowerCase(),this}getSize(i){return 2+a(this.fqdn,i)}write(i,ae){return i.writeU16BE(this.preference),s(i,this.fqdn,ae),this}read(i){return this.preference=i.readU16BE(),this.fqdn=n(i),this}}class mn extends Je{constructor(){super(),this.address=br}get type(){return o.EUI48}getSize(){return 6}write(i){return i.writeBytes(this.address),this}read(i){return this.address=i.readBytes(6),this}}class wn extends Je{constructor(){super(),this.address=wt}get type(){return o.EUI64}getSize(){return 8}write(i){return i.writeBytes(this.address),this}read(i){return this.address=i.readBytes(8),this}}class yn extends Je{constructor(){super(),this.algorithm=".",this.inception=0,this.expiration=0,this.mode=0,this.error=0,this.key=it,this.other=it}get type(){return o.TKEY}canonical(){return this.algorithm=this.algorithm.toLowerCase(),this}getSize(i){let ae=0;return ae+=a(this.algorithm,i),ae+=16,ae+=this.key.length,ae+=this.other.length,ae}write(i,ae){return s(i,this.algorithm,ae),i.writeU32BE(this.inception),i.writeU32BE(this.expiration),i.writeU16BE(this.mode),i.writeU16BE(this.error),i.writeU16BE(this.key.length),i.writeBytes(this.key),i.writeU16BE(this.other.length),i.writeBytes(this.other),this}read(i){return this.algorithm=n(i),this.inception=i.readU32BE(),this.expiration=i.readU32BE(),this.mode=i.readU16BE(),this.error=i.readU16BE(),this.key=i.readBytes(i.readU16BE()),this.other=i.readBytes(i.readU16BE()),this}}class sn extends Je{constructor(){super(),this.algorithm=".",this.timeSigned=0,this.fudge=0,this.mac=it,this.origID=0,this.error=0,this.other=it}get type(){return o.TSIG}canonical(){return this.algorithm=this.algorithm.toLowerCase(),this}getSize(i){let ae=16;return ae+=a(this.algorithm,i),ae+=this.mac.length,ae+=this.other.length,ae}write(i,ae){return s(i,this.algorithm,ae),i.writeU16BE(this.timeSigned/4294967296>>>0),i.writeU32BE(this.timeSigned>>>0),i.writeU16BE(this.fudge),i.writeU16BE(this.mac.length),i.writeBytes(this.mac),i.writeU16BE(this.origID),i.writeU16BE(this.error),i.writeU16BE(this.other.length),i.writeBytes(this.other),this}read(i){return this.algorithm=n(i),this.timeSigned=i.readU16BE()*4294967296+i.readU32BE(),this.fudge=i.readU16BE(),this.mac=i.readBytes(i.readU16BE()),this.origID=i.readU16BE(),this.error=i.readU16BE(),this.other=i.readBytes(i.readU16BE()),this}getJSON(){const i=this.algorithm.toLowerCase(),ae=I[i],De=super.getJSON();return ae&&(De.algName=ae),De}toString(){const i=this.algorithm.toLowerCase(),ae=I[i];let De=super.toString();return De+=" ",ae&&(De+=` ; alg = ${ae}`),De}}class Sn extends Je{constructor(){super(),this.priority=0,this.weight=0,this.target=""}get type(){return o.URI}getSize(){return 4+p(this.target)}write(i){return i.writeU16BE(this.priority),i.writeU16BE(this.weight),v(i,this.target),this}read(i){return this.priority=i.readU16BE(),this.weight=i.readU16BE(),this.target=K(i,i.left(),!0),this}}class En extends Je{constructor(){super(),this.flag=0,this.tag="",this.value=""}get type(){return o.CAA}getSize(){let i=0;return i+=1,i+=w(this.tag),i+=p(this.value),i}write(i){return i.writeU8(this.flag),m(i,this.tag),v(i,this.value),this}read(i){return this.flag=i.readU8(),this.tag=_(i,!0),this.value=K(i,i.left()),this}}class An extends jt{constructor(){super()}get type(){return o.AVC}}class In extends Je{constructor(){super(),this.enterprise=0,this.doa=0,this.location=0,this.mediaType="",this.data=it}get type(){return o.DOA}getSize(){let i=0;return i+=9,i+=w(this.mediaType),i+=this.data.length,i}write(i){return i.writeU32BE(this.enterprise),i.writeU32BE(this.doa),i.writeU8(this.location),m(i,this.mediaType),i.writeBytes(this.data),this}read(i){return this.enterprise=i.readU32BE(),this.doa=i.readU32BE(),this.location=i.readU8(),this.mediaType=_(i),this.data=i.readBytes(i.left()),this}}class vn extends Je{constructor(){super(),this.keyTag=0,this.algorithm=0,this.digestType=0,this.digest=it}get type(){return o.TA}getSize(){return 4+this.digest.length}write(i){return i.writeU16BE(this.keyTag),i.writeU8(this.algorithm),i.writeU8(this.digestType),i.writeBytes(this.digest),this}read(i){return this.keyTag=i.readU16BE(),this.algorithm=i.readU8(),this.digestType=i.readU8(),this.digest=i.readBytes(i.left()),this}}class _n extends wr{constructor(){super()}get type(){return o.DLV}}class _r extends H{constructor(){super(),this.code=0,this.option=new Zr}canonical(){return this.option.canonical(),this}getSize(i){return 4+this.option.getSize(i)}write(i,ae){i.writeU16BE(this.code),i.writeU16BE(0);const De=i.offset;this.option.write(i,ae);const Ze=i.offset-De;return S.writeU16BE(i.data,Ze,De-2),this}read(i){this.code=i.readU16BE();const ae=i.readU16BE(),De=i.readChild(ae);return this.option=Fn(this.code,De),this}toString(){const i=lt(this.code),ae=G[this.code]==null;let De=this.option.toString();return ae&&(e(this.option.code===B.RESERVED),De=`\\# ${this.options.getSize().toString(10)} ${De}`),`${i}: ${De}`}fromString(i){const De=g("./internal/scan").parseOption(f,i);return this.inject(De)}getJSON(){return{code:lt(this.code),option:this.option.toJSON()}}fromJSON(i){e(i&&typeof i=="object"),e(i.option&&typeof i.option=="object");const ae=pt(i.code),De=Wt[ae];let Ze;if(B[i.code]==null){const ht=u.parseHex(i.option.data);De?Ze=De.decode(ht):Ze=Zr.decode(ht)}else{if(!De)throw new Error(`Unknown option code: ${i.code}.`);Ze=De.fromJSON(i.option)}return this.code=ae,this.option=Ze,this}}class Lt extends H{constructor(){super()}get code(){return B.RESERVED}_schema(){const i=g("./internal/schema"),ae=i.options[this.code];return ae||i.options[B.RESERVED]}canonical(){return this}toString(){return g("./internal/schema").toString(f,this,this._schema())}fromString(i){const De=g("./internal/scan").parseOptionData(f,this.code,i);return this.inject(De)}getJSON(){return g("./internal/schema").toJSON(f,this,this._schema())}fromJSON(i){return g("./internal/schema").fromJSON(f,this,this._schema(),i)}}class Zr extends Lt{constructor(){super(),this.data=it}get code(){return B.RESERVED}getSize(){return this.data.length}write(i){return i.writeBytes(this.data),this}read(i){return this.data=i.readBytes(i.left()),this}}class Nn extends Lt{constructor(){super(),this.version=0,this.opcode=0,this.error=0,this.id=wt,this.leaseLife=0}get code(){return B.LLQ}getSize(){return 18}write(i){return i.writeU16BE(this.version),i.writeU16BE(this.opcode),i.writeU16BE(this.error),i.writeBytes(this.id),i.writeU32BE(this.leaseLife),this}read(i){return this.version=i.readU16BE(),this.opcode=i.readU16BE(),this.error=i.readU16BE(),this.id=i.readBytes(8),this.leaseLife=i.readU32BE(),this}}class xn extends Lt{constructor(){super(),this.lease=0}get code(){return B.UL}getSize(){return 4}write(i){return i.writeU32BE(this.lease),this}read(i){return this.lease=i.readU32BE(),this}}class Rn extends Lt{constructor(){super(),this.nsid=it}get code(){return B.NSID}getSize(){return this.nsid.length}write(i){return i.writeBytes(this.nsid),this}read(i){return this.nsid=i.readBytes(i.left()),this}}class Wr extends Lt{constructor(){super(),this.algCode=it}get code(){return B.DAU}getSize(){return this.algCode.length}write(i){return i.writeBytes(this.algCode),this}read(i){return this.algCode=i.readBytes(i.left()),this}}class Bn extends Wr{constructor(){super()}get code(){return B.DHU}}class Tn extends Wr{constructor(){super()}get code(){return B.N3U}}class On extends Lt{constructor(){super(),this.family=1,this.sourceNetmask=0,this.sourceScope=0,this.address=it}get code(){return B.SUBNET}getAddressSize(){return Math.ceil(this.sourceNetmask/8)}getSize(){return 4+this.getAddressSize()}write(i){return e(this.address.length===this.getAddressSize()),i.writeU16BE(this.family),i.writeU8(this.sourceNetmask),i.writeU8(this.sourceScope),i.writeBytes(this.address),this}read(i){return this.family=i.readU16BE(),this.sourceNetmask=i.readU8(),this.sourceScope=i.readU8(),this.address=i.readBytes(this.getAddressSize()),this}}class Mn extends Lt{constructor(){super(),this.expire=0}get code(){return B.EXPIRE}getSize(){return 4}write(i){return i.writeU32BE(this.expire),this}read(i){return this.expire=i.readU32BE(),this}}class cn extends Lt{constructor(){super(),this.cookie=it}get code(){return B.COOKIE}getSize(){return this.cookie.length}write(i){return i.writeBytes(this.cookie),this}read(i){return this.cookie=i.readBytes(i.left()),this}}class Dn extends Lt{constructor(){super(),this.length=0,this.timeout=0}get code(){return B.TCPKEEPALIVE}getSize(){return 4}write(i){return i.writeU16BE(this.length),i.writeU16BE(this.timeout),this}read(i){return this.length=i.readU16BE(),this.timeout=i.readU16BE(),this}}class kn extends Lt{constructor(){super(),this.padding=it}get code(){return B.PADDING}getSize(){return this.padding.length}write(i){return i.writeBytes(this.padding),this}read(i){return this.padding=i.readBytes(i.left()),this}}class Pn extends Lt{constructor(){super(),this.trustPoint="."}get code(){return B.CHAIN}canonical(){return this.trustPoint=this.trustPoint.toLowerCase(),this}getSize(i){return a(this.trustPoint,i)}write(i,ae){return s(i,this.trustPoint,ae),this}read(i){return this.trustPoint=n(i),this}}class Un extends Lt{constructor(){super(),this.tags=[]}get code(){return B.KEYTAG}getSize(){return this.tags.length*2}write(i){for(const ae of this.tags)i.writeU16BE(ae);return this}read(i){for(;i.left();)this.tags.push(i.readU16BE());return this}}class Sr extends Lt{constructor(){super(),this.data=it}get code(){return B.LOCAL}getSize(){return this.data.length}write(i){return i.writeBytes(this.data),this}read(i){return this.data=i.readBytes(i.left()),this}}class $n extends H{constructor(){super(),this.family=1,this.prefix=0,this.n=0,this.afd=vt}getSize(){return 4+this.afd.length}write(i){return i.writeU16BE(this.family),i.writeU8(this.prefix),i.writeU8(this.n<<7|this.afd.length),i.writeBytes(this.afd),this}read(i){const ae=i.readU16BE(),De=i.readU8(),Ze=i.readU8(),ht=Ze>>>7,xt=Ze&127,Xt=i.readBytes(xt);return this.family=ae,this.prefix=De,this.n=ht,this.afd=Xt,this}getJSON(){return{family:this.family,prefix:this.prefix,n:this.n,afd:this.afd.toString("hex")}}fromJSON(i){return e(i&&typeof i=="object"),e((i.family&255)===i.family),e((i.prefix&255)===i.prefix),e((i.n&1)===i.n),this.family=i.family,this.prefix=i.prefix,this.n=i.n,this.afd=u.parseHex(i.afd),this}getAFD(){if(this.family===1){const i=u.padRight(this.afd,4);return oe.toString(i)}if(this.family===2){const i=u.padRight(this.afd,16);return oe.isIPv4(i)?`::ffff:${oe.toString(i)}`:oe.toString(i)}return this.afd.toString("hex")}setAFD(i){if(this.family===1){const ae=oe.toBuffer(i);if(!oe.isIPv4(ae))throw new Error("Invalid AFD.");return this.afd=ae,this}return this.family===2?(this.afd=oe.toBuffer(i),this):(this.afd=u.parseHex(i),this)}toString(){let i="";return this.n&&(i+="!"),i+=this.family.toString(10),i+=":",i+=this.getAFD(),i+="/",i+=this.prefix,i}fromString(i){e(typeof i=="string"),e(i.length<=265);let ae=0;i.length>0&&i[0]==="!"&&(i=i.substring(1),ae=1);const De=i.indexOf(":");e(De!==-1);const Ze=i.substring(0,De),ht=i.substring(De+1),xt=ht.indexOf("/");e(xt!==-1);const Xt=ht.substring(0,xt),Ft=ht.substring(xt+1);return this.family=u.parseU8(Ze),this.prefix=u.parseU8(Ft),this.n=ae,this.setAFD(Xt),this}}ar={UNKNOWN:at,A:Oe,NS:fe,MD:Be,MF:Dt,CNAME:ne,SOA:ee,MB:be,MG:We,MR:Et,NULL:kt,WKS:Pt,PTR:Zt,HINFO:Qt,MINFO:er,MX:tr,TXT:jt,RP:rr,AFSDB:nr,X25:ir,ISDN:sr,RT:$t,NSAP:cr,NSAPPTR:Rr,SIG:gr,KEY:hr,PX:Br,GPOS:Tr,AAAA:Or,LOC:Mr,NXT:Dr,EID:pr,NIMLOC:kr,SRV:Pr,ATMA:Ur,NAPTR:Cr,KX:zr,CERT:qr,A6:Lr,DNAME:Fr,SINK:null,OPT:mr,APL:Kr,DS:wr,SSHFP:Ar,IPSECKEY:Hr,RRSIG:Vr,NSEC:Gr,DNSKEY:Xr,DHCID:yr,NSEC3:Yr,NSEC3PARAM:et,TLSA:rt,SMIMEA:ft,HIP:Ae,NINFO:st,RKEY:ut,TALINK:Ot,CDS:qt,CDNSKEY:Ir,OPENPGPKEY:jr,CSYNC:$r,SPF:Jr,UINFO:vr,UID:hn,GID:un,UNSPEC:ln,NID:dn,L32:bn,L64:gn,LP:pn,EUI48:mn,EUI64:wn,TKEY:yn,TSIG:sn,URI:Sn,CAA:En,AVC:An,DOA:In,IXFR:null,AXFR:null,MAILB:null,MAILA:null,ANY:null,TA:vn,DLV:_n,RESERVED:null},St={[o.UNKNOWN]:at,[o.A]:Oe,[o.NS]:fe,[o.MD]:Be,[o.MF]:Dt,[o.CNAME]:ne,[o.SOA]:ee,[o.MB]:be,[o.MG]:We,[o.MR]:Et,[o.NULL]:kt,[o.WKS]:Pt,[o.PTR]:Zt,[o.HINFO]:Qt,[o.MINFO]:er,[o.MX]:tr,[o.TXT]:jt,[o.RP]:rr,[o.AFSDB]:nr,[o.X25]:ir,[o.ISDN]:sr,[o.RT]:$t,[o.NSAP]:cr,[o.NSAPPTR]:Rr,[o.SIG]:gr,[o.KEY]:hr,[o.PX]:Br,[o.GPOS]:Tr,[o.AAAA]:Or,[o.LOC]:Mr,[o.NXT]:Dr,[o.EID]:pr,[o.NIMLOC]:kr,[o.SRV]:Pr,[o.ATMA]:Ur,[o.NAPTR]:Cr,[o.KX]:zr,[o.CERT]:qr,[o.A6]:Lr,[o.DNAME]:Fr,[o.SINK]:null,[o.OPT]:mr,[o.APL]:Kr,[o.DS]:wr,[o.SSHFP]:Ar,[o.IPSECKEY]:Hr,[o.RRSIG]:Vr,[o.NSEC]:Gr,[o.DNSKEY]:Xr,[o.DHCID]:yr,[o.NSEC3]:Yr,[o.NSEC3PARAM]:et,[o.TLSA]:rt,[o.SMIMEA]:ft,[o.HIP]:Ae,[o.NINFO]:st,[o.RKEY]:ut,[o.TALINK]:Ot,[o.CDS]:qt,[o.CDNSKEY]:Ir,[o.OPENPGPKEY]:jr,[o.CSYNC]:$r,[o.SPF]:Jr,[o.UINFO]:vr,[o.UID]:hn,[o.GID]:un,[o.UNSPEC]:ln,[o.NID]:dn,[o.L32]:bn,[o.L64]:gn,[o.LP]:pn,[o.EUI48]:mn,[o.EUI64]:wn,[o.TKEY]:yn,[o.TSIG]:sn,[o.URI]:Sn,[o.CAA]:En,[o.AVC]:An,[o.DOA]:In,[o.IXFR]:null,[o.AXFR]:null,[o.MAILB]:null,[o.MAILA]:null,[o.ANY]:null,[o.TA]:vn,[o.DLV]:_n,[o.RESERVED]:null},_t={UNKNOWN:Zr,LLQ:Nn,UL:xn,NSID:Rn,DAU:Wr,DHU:Bn,N3U:Tn,SUBNET:On,EXPIRE:Mn,COOKIE:cn,TCPKEEPALIVE:Dn,PADDING:kn,CHAIN:Pn,KEYTAG:Un,LOCAL:Sr,LOCALSTART:Sr,LOCALEND:Sr},Wt={[B.RESERVED]:Zr,[B.LLQ]:Nn,[B.UL]:xn,[B.NSID]:Rn,[B.DAU]:Wr,[B.DHU]:Bn,[B.N3U]:Tn,[B.SUBNET]:On,[B.EXPIRE]:Mn,[B.COOKIE]:cn,[B.TCPKEEPALIVE]:Dn,[B.PADDING]:kn,[B.CHAIN]:Pn,[B.KEYTAG]:Un,[B.LOCAL]:Sr,[B.LOCALSTART]:Sr,[B.LOCALEND]:Sr};function oi(ze,i){return Ln(ze,S.read(i))}function Ln(ze,i){switch(e((ze&65535)===ze),ze){case o.A:return Oe.read(i);case o.NS:return fe.read(i);case o.MD:return Be.read(i);case o.MF:return Dt.read(i);case o.CNAME:return ne.read(i);case o.SOA:return ee.read(i);case o.MB:return be.read(i);case o.MG:return We.read(i);case o.MR:return Et.read(i);case o.NULL:return kt.read(i);case o.WKS:return Pt.read(i);case o.PTR:return Zt.read(i);case o.HINFO:return Qt.read(i);case o.MINFO:return er.read(i);case o.MX:return tr.read(i);case o.TXT:return jt.read(i);case o.RP:return rr.read(i);case o.AFSDB:return nr.read(i);case o.X25:return ir.read(i);case o.ISDN:return sr.read(i);case o.RT:return $t.read(i);case o.NSAP:return cr.read(i);case o.NSAPPTR:return Rr.read(i);case o.SIG:return gr.read(i);case o.KEY:return hr.read(i);case o.PX:return Br.read(i);case o.GPOS:return Tr.read(i);case o.AAAA:return Or.read(i);case o.LOC:return Mr.read(i);case o.NXT:return Dr.read(i);case o.EID:return pr.read(i);case o.NIMLOC:return kr.read(i);case o.SRV:return Pr.read(i);case o.ATMA:return Ur.read(i);case o.NAPTR:return Cr.read(i);case o.KX:return zr.read(i);case o.CERT:return qr.read(i);case o.A6:return Lr.read(i);case o.DNAME:return Fr.read(i);case o.OPT:return mr.read(i);case o.APL:return Kr.read(i);case o.DS:return wr.read(i);case o.SSHFP:return Ar.read(i);case o.IPSECKEY:return Hr.read(i);case o.RRSIG:return Vr.read(i);case o.NSEC:return Gr.read(i);case o.DNSKEY:return Xr.read(i);case o.DHCID:return yr.read(i);case o.NSEC3:return Yr.read(i);case o.NSEC3PARAM:return et.read(i);case o.TLSA:return rt.read(i);case o.SMIMEA:return ft.read(i);case o.HIP:return Ae.read(i);case o.NINFO:return st.read(i);case o.RKEY:return ut.read(i);case o.TALINK:return Ot.read(i);case o.CDS:return qt.read(i);case o.CDNSKEY:return Ir.read(i);case o.OPENPGPKEY:return jr.read(i);case o.CSYNC:return $r.read(i);case o.SPF:return Jr.read(i);case o.UINFO:return vr.read(i);case o.UID:return hn.read(i);case o.GID:return un.read(i);case o.UNSPEC:return ln.read(i);case o.NID:return dn.read(i);case o.L32:return bn.read(i);case o.L64:return gn.read(i);case o.LP:return pn.read(i);case o.EUI48:return mn.read(i);case o.EUI64:return wn.read(i);case o.TKEY:return yn.read(i);case o.TSIG:return sn.read(i);case o.URI:return Sn.read(i);case o.CAA:return En.read(i);case o.AVC:return An.read(i);case o.DOA:return In.read(i);case o.TA:return vn.read(i);case o.DLV:return _n.read(i);default:return at.read(i)}}function fi(ze,i){return Fn(ze,S.read(i))}function Fn(ze,i){switch(e((ze&65535)===ze),ze){case B.LLQ:return Nn.read(i);case B.UL:return xn.read(i);case B.NSID:return Rn.read(i);case B.DAU:return Wr.read(i);case B.DHU:return Bn.read(i);case B.N3U:return Tn.read(i);case B.SUBNET:return On.read(i);case B.EXPIRE:return Mn.read(i);case B.COOKIE:return cn.read(i);case B.TCPKEEPALIVE:return Dn.read(i);case B.PADDING:return kn.read(i);case B.CHAIN:return Pn.read(i);case B.KEYTAG:return Un.read(i);default:return ze>=B.LOCALSTART&&ze<=B.LOCALEND?Sr.read(i):Zr.read(i)}}function ai(ze,i,ae){return e(typeof ze=="string"),g("./internal/scan").parseZone(f,ze,i,ae)}function hi(ze){e(Array.isArray(ze));let i="";for(const ae of ze)e(ae instanceof dt),i+=ae.toString(),i+=`
`;return i}function Kn(ze,i){if(e(ze!=null&&ze._isBuffer===!0),e(ze.length>=12),e(i>>>0===i),e(i>=12),ze.length<=i)return ze;const ae=S.read(ze);ae.seek(2);const De=ae.readU16BE(),Ze=[ae.readU16BE(),ae.readU16BE(),ae.readU16BE(),ae.readU16BE()];let ht=ae.offset;for(let xt=0;xt<4;xt++){const Xt=Ze[xt];let Ft=0,Ut=0;for(;ae.offset<=i&&(ht=ae.offset,Ut=Ft,Ft!==Xt);){if(Ft+=1,n(ae),xt===0){ae.seek(4);continue}ae.seek(8),ae.seek(ae.readU16BE())}Ze[xt]=Ut}return S.writeU16BE(ze,De|y.TC,2),S.writeU16BE(ze,Ze[0],4),S.writeU16BE(ze,Ze[1],6),S.writeU16BE(ze,Ze[2],8),S.writeU16BE(ze,Ze[3],10),ze.slice(0,ht)}function Jn(ze){switch(e((ze&255)===ze),ze){case le.RSAMD5:case le.RSASHA1:case le.RSASHA1NSEC3SHA1:case le.RSASHA256:case le.RSASHA512:return!0;default:return!1}}function Zn(ze){if(e(ze!=null&&ze._isBuffer===!0),ze.length===0)return 0;let i=ze[0],ae=1;if(i===0){if(ze.length<3)return 0;i=ze[1]<<8|ze[2],ae=3}if(ze.length<ae+i)return 0;const De=ze.slice(ae,ae+i),Ze=ze.slice(ae+i);return[Wn(Ze),Wn(De)]}function Wn(ze){e(ze!=null&&ze._isBuffer===!0);let i=0;for(;i<ze.length&&ze[i]===0;i++);let ae=(ze.length-i)*8;if(ae===0)return 0;ae-=8;let De=ze[i];for(;De;)ae+=1,De>>>=1;return ae}f.opcodes=O,f.opcodesByVal=A,f.flags=y,f.flagsByVal=U,f.codes=q,f.codesByVal=k,f.types=o,f.typesByVal=h,f.classes=z,f.classesByVal=J,f.eflags=M,f.eflagsByVal=X,f.options=B,f.optionsByVal=G,f.keyFlags=$,f.algs=le,f.algsByVal=Ee,f.hashes=Ne,f.hashesByVal=ke,f.algHashes=se,f.nsecHashes=ge,f.nsecHashesByVal=ve,f.certTypes=Ue,f.certTypesByVal=re,f.usages=Re,f.usagesByVal=r,f.selectors=c,f.selectorsByVal=b,f.matchingTypes=V,f.matchingTypesByVal=ie,f.sshAlgs=L,f.sshAlgsByVal=x,f.sshHashes=j,f.sshHashesByVal=t,f.tsigAlgs=l,f.tsigAlgsByVal=I,f.tkeyModes=Y,f.tkeyModesByVal=Z,f.YEAR68=W,f.LOC_EQUATOR=ue,f.LOC_PRIMEMERIDIAN=pe,f.LOC_HOURS=Ie,f.LOC_DEGREES=te,f.LOC_ALTITUDEBASE=D,f.MAX_NAME_SIZE=F,f.MAX_LABEL_SIZE=he,f.MAX_UDP_SIZE=we,f.STD_EDNS_SIZE=Me,f.MAX_EDNS_SIZE=de,f.MAX_MSG_SIZE=Se,f.DNS_PORT=ye,f.DEFAULT_TTL=me,f.KSK_2010=Te,f.KSK_2017=xe,f.KSK_ARPA=Pe,f.opcodeToString=Ce,f.stringToOpcode=Ke,f.isOpcodeString=qe,f.codeToString=Ye,f.stringToCode=$e,f.isCodeString=Ge,f.typeToString=Qe,f.stringToType=tt,f.isTypeString=nt,f.classToString=Xe,f.stringToClass=ot,f.isClassString=yt,f.optionToString=lt,f.stringToOption=pt,f.isOptionString=or,f.algToString=bt,f.stringToAlg=Rt,f.isAlgString=dr,f.hashToString=mt,f.stringToHash=Bt,f.isHashString=fr,f.Message=At,f.EDNS=Nt,f.Question=Gt,f.Record=dt,f.RecordData=Je,f.UNKNOWNRecord=at,f.ARecord=Oe,f.NSRecord=fe,f.MDRecord=Be,f.MFRecord=Dt,f.CNAMERecord=ne,f.SOARecord=ee,f.MBRecord=be,f.MGRecord=We,f.MRRecord=Et,f.NULLRecord=kt,f.WKSRecord=Pt,f.PTRRecord=Zt,f.HINFORecord=Qt,f.MINFORecord=er,f.MXRecord=tr,f.TXTRecord=jt,f.RPRecord=rr,f.AFSDBRecord=nr,f.X25Record=ir,f.ISDNRecord=sr,f.RTRecord=$t,f.NSAPRecord=cr,f.NSAPPTRRecord=Rr,f.SIGRecord=gr,f.KEYRecord=hr,f.PXRecord=Br,f.GPOSRecord=Tr,f.AAAARecord=Or,f.LOCRecord=Mr,f.NXTRecord=Dr,f.EIDRecord=pr,f.NIMLOCRecord=kr,f.SRVRecord=Pr,f.ATMARecord=Ur,f.NAPTRRecord=Cr,f.KXRecord=zr,f.CERTRecord=qr,f.A6Record=Lr,f.DNAMERecord=Fr,f.OPTRecord=mr,f.APLRecord=Kr,f.DSRecord=wr,f.SSHFPRecord=Ar,f.IPSECKEYRecord=Hr,f.RRSIGRecord=Vr,f.NSECRecord=Gr,f.DNSKEYRecord=Xr,f.DHCIDRecord=yr,f.NSEC3Record=Yr,f.NSEC3PARAMRecord=et,f.TLSARecord=rt,f.SMIMEARecord=ft,f.HIPRecord=Ae,f.NINFORecord=st,f.RKEYRecord=ut,f.TALINKRecord=Ot,f.CDSRecord=qt,f.CDNSKEYRecord=Ir,f.OPENPGPKEYRecord=jr,f.CSYNCRecord=$r,f.SPFRecord=Jr,f.UINFORecord=vr,f.UIDRecord=hn,f.GIDRecord=un,f.UNSPECRecord=ln,f.NIDRecord=dn,f.L32Record=bn,f.L64Record=gn,f.LPRecord=pn,f.EUI48Record=mn,f.EUI64Record=wn,f.TKEYRecord=yn,f.TSIGRecord=sn,f.URIRecord=Sn,f.CAARecord=En,f.AVCRecord=An,f.DOARecord=In,f.TARecord=vn,f.DLVRecord=_n,f.Option=_r,f.OptionData=Lt,f.UNKNOWNOption=Zr,f.LLQOption=Nn,f.ULOption=xn,f.NSIDOption=Rn,f.DAUOption=Wr,f.DHUOption=Bn,f.N3UOption=Tn,f.SUBNETOption=On,f.EXPIREOption=Mn,f.COOKIEOption=cn,f.TCPKEEPALIVEOption=Dn,f.PADDINGOption=kn,f.CHAINOption=Pn,f.KEYTAGOption=Un,f.LOCALOption=Sr,f.AP=$n,f.records=ar,f.recordsByVal=St,f.opts=_t,f.optsByVal=Wt,f.decodeData=oi,f.readData=Ln,f.decodeOption=fi,f.readOption=Fn,f.fromZone=ai,f.toZone=hi,f.truncate=Kn}],["bns-plus","/lib/resolvconf.js",function(f,Le,C,Fe,He,Ve){/*!
 * resolvconf.js - resolv.conf for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(84,C),oe=ce(4,C),{DNS_PORT:Q}=ce(11,C),P=ce(79,C),g=["127.0.0.1","::1"],u=["8.8.8.8","8.8.4.4","2001:4860:4860::8888","2001:4860:4860::8844"],H=["208.67.222.222","208.67.220.220","208.67.222.220","208.67.220.222","2620:0:ccc::2","2620:0:ccd::2"];class a{constructor(){this.ns4=[],this.ns6=[],this.keys=new Map,this.domain=null,this.search=null,this.sortlist=[],this.debug=!1,this.dots=1,this.timeout=5e3,this.attempts=2,this.rotate=!1,this.checkNames=!0,this.inet6=!1,this.byteString=!1,this.dotInt=!1,this.edns=!1,this.singleRequest=!1,this.singleRequestReopen=!1,this.tldQuery=!0,this.forceTCP=!1}inject(n){e(n instanceof this.constructor),this.ns4=n.ns4.slice(),this.ns6=n.ns6.slice(),this.keys.clear();for(const[p,v]of n.keys)this.keys.set(p,v);return this.domain=n.domain,n.search?this.search=n.search.slice():this.search=null,this.sortlist=n.sortlist.slice(),this.debug=n.debug,this.dots=n.dots,this.timeout=n.timeout,this.attempts=n.attempts,this.rotate=n.rotate,this.checkNames=n.checkNames,this.inet6=n.inet6,this.byteString=n.byteString,this.dotInt=n.dotInt,this.edns=n.edns,this.singleRequest=n.singleRequest,this.singleRequestReopen=n.singleRequestReopen,this.tldQuery=n.tldQuery,this.forceTCP=n.forceTCP,this}clone(){return new this.constructor().inject(this)}clear(){return this.ns4.length=0,this.ns6.length=0,this.keys.clear(),this.domain=null,this.search=null,this.sortlist=[],this.debug=!1,this.dots=1,this.timeout=5e3,this.attempts=2,this.rotate=!1,this.checkNames=!0,this.inet6=!1,this.byteString=!1,this.dotInt=!1,this.edns=!1,this.singleRequest=!1,this.singleRequestReopen=!1,this.tldQuery=!0,this.forceTCP=!1,this}getSystem(){return Vt.platform==="win32"?null:"/etc/resolv.conf"}getRaw(n){e(typeof n=="boolean");const p=[];for(const v of this.ns4)p.push(v);if(n)for(const v of this.ns6)p.push(v);return p}getServers(){const n=[];for(const p of this.ns4)n.push(p.hostname);for(const p of this.ns6)n.push(p.hostname);return n}setServers(n){e(Array.isArray(n)),this.clearServers();for(const p of n)this.addServer(p);return this}clearServers(){return this.ns4.length=0,this.ns6.length=0,this.keys.clear(),this}setDefault(){return this.setGoogle()}setLocal(){return this.setServers(g)}setGoogle(){return this.setServers(u)}setOpenDNS(){return this.setServers(H)}addServer(n){e(typeof n=="string");const p=oe.fromHost(n,Q);switch(p.type){case 4:this.ns4.push(p);break;case 6:this.ns6.push(p);break;default:throw new Error("Invalid address.")}p.key&&this.keys.set(p.hostname,p.key)}setDomain(n){if(e(typeof n=="string"),!P.isName(n))throw new Error("Invalid domain.");return this.search=null,this.domain=P.fqdn(n),this}setSearch(n){if(e(typeof n=="string"),n.length>256)throw new Error("Search list too large.");const p=P.splitSP(n);this.domain=null,this.search=[];for(const v of p)if(!!P.isName(v)){if(this.search.length===6)throw new Error("Search list too large.");this.search.push(P.fqdn(v))}return this}setSort(n){e(typeof n=="string");const p=P.splitSP(n);for(const v of p){const K=v.split("/",3);let w=K[0],m=null;K.length>1&&(m=K[1]);try{w=oe.normalize(w),m&&(m=oe.normalize(m))}catch{continue}if(this.sortlist.length===10)throw new Error("Sort list too large.");this.sortlist.push({ip:w,mask:m})}return this}toString(n){n==null&&(n=!1),e(typeof n=="boolean");let p="";p+=`# Generated by bns
`;for(const v of this.getRaw(!0))p+="nameserver ",n?p+=oe.toHost(v.host,v.port,v.key):p+=v.host,p+=`
`;if(this.domain&&(p+=`domain ${P.trimFQDN(this.domain)}
`),this.search)for(const v of this.search)p+=`search ${P.trimFQDN(v)}
`;if(this.sortlist.length>0){p+="sortlist";for(const{ip:v,mask:K}of this.sortlist)K?p+=` ${v}/${K}`:p+=` ${v}`;p+=`
`}return p+="options",this.debug&&(p+=" debug"),this.dots!==1&&(p+=` ndots:${this.dots}`),Math.ceil(this.timeout/1e3)!==5&&(p+=` timeout:${Math.ceil(this.timeout/1e3)}`),this.attempts!==2&&(p+=` attempts:${this.attempts}`),this.rotate&&(p+=" rotate"),this.checkNames||(p+=" no-check-names"),this.inet6&&(p+=" inet6"),this.byteString&&(p+=" ip6-bytestring"),this.dotInt&&(p+=" ip6-dotint"),this.edns&&(p+=" edns0"),this.singleRequest&&(p+=" single-request"),this.singleRequestReopen&&(p+=" single-request-reopen"),this.tldQuery||(p+=" no-tld-query"),this.forceTCP&&(p+=" use-vc"),p+=`
`,p.slice(-8)===`options
`&&(p=p.slice(0,-8)),p}parseServer(n){e(typeof n=="string");const p=n.trim().toLowerCase();try{return this.addServer(p)}catch{return this}}parseDomain(n){e(typeof n=="string");const p=n.trim().toLowerCase();try{return this.setDomain(p)}catch{return this}}parseSearch(n){e(typeof n=="string");const p=n.trim().toLowerCase();try{return this.setSearch(p)}catch{return this}}parseSort(n){e(typeof n=="string");const p=n.trim().toLowerCase();try{return this.setSort(p)}catch{return this}}parseOptions(n){e(typeof n=="string");const p=P.splitSP(n);for(const v of p){const K=v.indexOf(":");let w=null,m="";switch(K!==-1?(w=v.substring(0,K),m=v.substring(K+1)):(m=v,w=m),w=w.toLowerCase(),w){case"debug":{this.debug=!0;break}case"ndots":{try{this.dots=Math.min(15,P.parseU8(m)),this.dots=Math.max(1,this.dots)}catch{continue}break}case"timeout":{try{this.timeout=Math.min(30,P.parseU8(m)),this.timeout=Math.max(1,this.timeout),this.timeout*=1e3}catch{continue}break}case"attempts":{try{this.attempts=Math.min(5,P.parseU8(m)),this.attempts=Math.max(1,this.attempts)}catch{continue}break}case"rotate":{this.rotate=!0;break}case"no-check-names":{this.checkNames=!1;break}case"inet6":{this.inet6=!0;break}case"ip6-bytestring":{this.byteString=!0;break}case"ip6-dotint":{this.dotInt=!0;break}case"no-ip6-dotint":{this.dotInt=!1;break}case"edns0":{this.edns=!0;break}case"single-request":{this.singleRequest=!0;break}case"single-request-reopen":{this.singleRequestReopen=!0;break}case"no-tld-query":{this.tldQuery=!1;break}case"use-vc":{this.forceTCP=!0;break}}}return this}fromString(n){e(typeof n=="string"),this.clearServers();const p=P.splitLines(n,!0);for(const v of p){if(v[0]==="#"||v[0]===";")continue;const K=v.indexOf(" ");if(K===-1)continue;const w=v.substring(0,K).toLowerCase(),m=v.substring(K+1);switch(w){case"nameserver":{this.parseServer(m);break}case"domain":{this.parseDomain(m);break}case"search":{this.parseSearch(m);break}case"sortlist":{this.parseSort(m);break}case"options":this.parseOptions(m);break}}return this}static fromString(n){return new this().fromString(n)}readEnv(){return Vt.env.LOCALDOMAIN&&this.parseDomain(Vt.env.LOCALDOMAIN),Vt.env.RES_OPTIONS&&this.parseOptions(Vt.env.RES_OPTIONS),this}fromFile(n){e(typeof n=="string");const p=S.readFileSync(n,"utf8");return this.fromString(p)}static fromFile(n){return new this().fromFile(n)}fromSystem(){const n=this.getSystem();if(n)try{this.fromFile(n)}catch{this.setDefault()}else this.setDefault();return this.readEnv(),this}static fromSystem(){return new this().fromSystem()}async fromFileAsync(n){e(typeof n=="string");const p=await S.readFile(n,"utf8");return this.fromString(p)}static fromFileAsync(n){return new this().fromFileAsync(n)}async fromSystemAsync(){const n=this.getSystem();if(n)try{await this.fromFileAsync(n)}catch{this.setDefault()}else this.setDefault();return this.readEnv(),this}static fromSystemAsync(){return new this().fromSystemAsync()}}C.exports=a}],["bns-plus","/lib/smimea.js",function(f,Le,C,Fe,He,Ve){/*!
 * smimea.js - SMIMEA for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns:
 *   https://github.com/miekg/dns/blob/master/smimea.go
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc6698
 */const e=ce(2,C),S=ce(12,C),oe=ce(90,C),{usages:Q,selectors:P,matchingTypes:g}=S,{types:u,classes:H,Record:a,SMIMEARecord:s}=oe,n=f;n.create=function(v,K,w={}){e(v!=null&&v._isBuffer===!0),e(w&&typeof w=="object");let{ttl:m,usage:_,selector:E,matchingType:d}=w;m==null&&(m=3600),_==null&&(_=Q.DIC),E==null&&(E=P.SPKI),d==null&&(d=g.SHA256),e(m>>>0===m),e((_&255)===_),e((E&255)===E),e((d&255)===d);const T=new a,N=new s;T.name=n.encodeEmail(K),T.type=u.SMIMEA,T.class=H.IN,T.ttl=m,T.data=N,N.usage=_,N.selector=E,N.matchingType=d;const R=S.sign(v,E,d);if(!R)throw new Error("Unknown selector or matching type.");return N.certificate=R,T},n.verify=function(v,K){e(v instanceof a),e(v.type===u.SMIMEA);const w=v.data;return S.verify(K,w.selector,w.matchingType,w.certificate)},n.encodeEmail=function(v,K){return S.encodeEmail(v,"smimecert",K)},n.encodeName=function(v,K,w){return S.encodeName(v,"smimecert",K,w)},n.decodeName=function(v){return S.decodeName(v,"smimecert")},n.isName=function(v){return S.isName(v,"smimecert")},n.usages=Q,n.selectors=P,n.matchingTypes=g}],["bns-plus","/lib/sshfp.js",function(f,Le,C,Fe,He,Ve){/*!
 * sshfp.js - SSHFP for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(11,C),oe=ce(13,C),Q=ce(79,C),P=ce(90,C),{types:g,classes:u,sshAlgs:H,sshAlgsByVal:a,sshHashes:s,sshHashesByVal:n}=S,{Record:p,SSHFPRecord:v}=P,K=f;K.hash=function(m,_){switch(e(m!=null&&m._isBuffer===!0),e((_&255)===_),_){case s.SHA1:return oe.sha1.digest(m);case s.SHA256:return oe.sha256.digest(m)}return null},K.validate=function(m,_,E){e(E!=null&&E._isBuffer===!0);const d=K.hash(m,_);return d?d.equals(E):!1},K.create=function(m,_,E,d){e(m!=null&&m._isBuffer===!0),e(typeof _=="string"),e((E&255)===E),e((d&255)===d);const T=new p,N=new v;return T.name=Q.fqdn(_),T.type=g.SSHFP,T.class=u.IN,T.ttl=172800,T.data=N,N.algorithm=E,N.digestType=d,K.sign(T,m)},K.sign=function(m,_){e(m instanceof p),e(m.type===g.SSHFP);const E=m.data,d=K.hash(_,E.digestType);if(!d)throw new Error("Unknown digest type.");return E.fingerprint=d,m},K.verify=function(m,_){e(m instanceof p),e(m.type===g.SSHFP);const E=m.data;return K.validate(_,E.digestType,E.fingerprint)},K.algs=H,K.algsByVal=a,K.hashes=s,K.hashesByVal=n}],["bns-plus","/lib/tlsa.js",function(f,Le,C,Fe,He,Ve){/*!
 * tlsa.js - TLSA for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns:
 *   https://github.com/miekg/dns/blob/master/tlsa.go
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc6698
 */const e=ce(2,C),S=ce(12,C),oe=ce(79,C),Q=ce(90,C),{usages:P,selectors:g,matchingTypes:u}=S,{types:H,classes:a,Record:s,TLSARecord:n}=Q,p=f;p.create=function(K,w,m,_,E={}){e(K!=null&&K._isBuffer===!0),e(E&&typeof E=="object");let{ttl:d,usage:T,selector:N,matchingType:R}=E;d==null&&(d=3600),T==null&&(T=P.DIC),N==null&&(N=g.SPKI),R==null&&(R=u.SHA256),e(d>>>0===d),e((T&255)===T),e((N&255)===N),e((R&255)===R);const O=new s,A=new n;O.name=p.encodeName(w,m,_),O.type=H.TLSA,O.class=a.IN,O.ttl=d,O.data=A,A.usage=T,A.selector=N,A.matchingType=R;const y=S.sign(K,N,R);if(!y)throw new Error("Unknown selector or matching type.");return A.certificate=y,O},p.verify=function(K,w){e(K instanceof s),e(K.type===H.TLSA);const m=K.data;return S.verify(w,m.selector,m.matchingType,m.certificate)},p.encodeName=function(K,w,m){e(oe.isName(K)),e(K.length===0||K[0]!=="_"),e(typeof w=="string"),e(w.length>=1&&w.length<=62),e(w[0]!=="_"),e(w.indexOf(".")===-1),e((m&65535)===m),K==="."&&(K="");const _=oe.fqdn(`_${m.toString(10)}._${w}.${K}`);return e(oe.isName(_)),_},p.decodeName=function(K){e(oe.isName(K));const w=oe.split(K);e(w.length>=3);const m=oe.label(K,w,0),_=oe.label(K,w,1);return e(m.length>=2),e(_.length>=2),e(m[0]==="_"),e(_[0]==="_"),{name:oe.fqdn(oe.from(K,w,2)),protocol:_.substring(1).toLowerCase(),port:oe.parseU16(m.substring(1))}},p.isName=function(K){e(oe.isName(K));try{return p.decodeName(K),!0}catch{return!1}},p.usages=P,p.selectors=g,p.matchingTypes=u}],["bpkg","/lib/builtins/empty.js",function(f,Le,C,Fe,He,Ve){}],["bns-plus","/lib/authority.js",function(f,Le,C,Fe,He,Ve){/*!
 * authority.js - authority object for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on solvere:
 *   https://github.com/rolandshoemaker/solvere
 */const e=ce(2,C);class S{constructor(Q,P){e(Q==null||typeof Q=="string"),e(P==null||typeof P=="string"),this.zone=Q||".",this.name=P||".",this.servers=[]}add(Q,P){return e(typeof Q=="string"),e((P&65535)===P),this.servers.push({host:Q,port:P}),this}inject(Q){return e(Q instanceof this.constructor),this.zone=Q.zone,this.name=Q.name,this.servers=Q.servers.slice(),this}clone(){return new this.constructor().inject(this)}}C.exports=S}],["bns-plus","/lib/server/auth.js",function(f,Le,C,Fe,He,Ve){/*!
 * auth.js - authoritative dns server for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(98,C),S=ce(107,C);class oe extends e{constructor(P){super(P),this.zone=new S,this.file=null,this.ra=!1,this.initOptions(P)}setZSKFromString(P){return this.zone.setZSKFromString(P),this}setOrigin(P){return this.zone.setOrigin(P),this}setFile(P){return this.zone.clearRecords(),this.zone.fromFile(P),this.file=P,this}async resolve(P,g){const[u]=P.question,{name:H,type:a}=u;return this.zone.resolve(H,a)}}C.exports=oe}],["bns-plus","/lib/server/dns.js",function(f,Le,C,Fe,He,Ve){/*!
 * dns.js - dns server for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(3,C),oe=ce(14,C),Q=ce(11,C),P=ce(99,C),g=ce(101,C),{Server:u}=ce(102,C),H=ce(90,C),{codes:a,options:s,types:n,MAX_EDNS_SIZE:p,MAX_UDP_SIZE:v,MAX_MSG_SIZE:K}=Q,{Message:w}=H;class m extends S{constructor(d){super(),this.server=new u(d),this.resolver=null,this.ra=!1,this.inet6=this.server.inet6,this.tcp=this.server.tcp,this.maxConnections=20,this.edns=!1,this.ednsSize=p,this.dnssec=!1,this.noAny=!1,this.init()}init(){this.on("error",()=>{}),this.server.on("close",()=>{this.emit("close")}),this.server.on("error",d=>{this.emit("error",d)}),this.server.on("listening",()=>{this.emit("listening")}),this.server.on("message",async(d,T)=>{try{await this.handle(d,T)}catch(N){this.emit("error",N)}})}parseOptions(d){return d==null?this:(e(d&&typeof d=="object"),d.maxConnections!=null&&(e(d.maxConnections>>>0===d.maxConnections),this.maxConnections=d.maxConnections),d.edns!=null&&(e(typeof d.edns=="boolean"),this.edns=d.edns),d.ednsSize!=null&&(e(d.ednsSize>>>0===d.ednsSize),e(d.ednsSize>=v),e(d.ednsSize<=p),this.ednsSize=d.ednsSize),d.dnssec!=null&&(e(typeof d.dnssec=="boolean"),this.dnssec=d.dnssec,this.dnssec&&(this.edns=!0)),d.noAny!=null&&(e(typeof d.noAny=="boolean"),this.noAny=d.noAny),this)}initOptions(d){return this.parseOptions(d)}log(...d){return this.emit("log",...d),this}address(){return this.server.address()}async open(...d){return this.resolver&&await this.resolver.open(),await this.server.bind(...d),this.server.maxConnections=this.maxConnections,this.edns?(this.server.setRecvBufferSize(this.ednsSize),this.server.setSendBufferSize(this.ednsSize)):(this.server.setRecvBufferSize(v),this.server.setSendBufferSize(v)),this}async close(){return await this.server.close(),this.resolver?this.resolver.close():je}async bind(...d){return this.open(...d)}signSize(){return 0}sign(d,T,N){return d}finalize(d,T){e(d instanceof w),e(T instanceof w);const N=this.dnssec&&d.isDNSSEC();if(T.setReply(d),T.ra=this.ra,this.edns&&d.isEDNS()){if(T.setEDNS(this.ednsSize,N),this.ra){for(const R of d.edns.options)if(R.code===s.COOKIE){T.edns.options.push(R);break}}}else T.unsetEDNS();if(this.ra&&(T.answer.length>0&&(T.authority=[],T.additional=[]),!N&&!d.ad&&(T.ad=!1)),!N&&d.question.length>0){const[R]=d.question;(!this.ra||R.type!==n.ANY)&&P.filterMessage(T,R.type)}return T.refresh(),this}async resolve(d,T){if(!this.resolver)return null;const[N]=d.question;return this.resolver.resolve(N)}async answer(d,T){if(d.qr)throw new g("unexpected qr bit",a.FORMERR);if(d.code!==a.NOERROR)throw new g("unexpected rcode",a.FORMERR);if(d.question.length!==1)throw new g("invalid question",a.FORMERR);if(d.answer.length>0)throw new g("unexpected answer",a.FORMERR);if(d.authority.length>0)throw new g("unexpected authority",a.FORMERR);const[N]=d.question;if(this.noAny&&N.type===n.ANY)throw new g("ANY not accepted",a.NOTIMP);const R=await this.resolve(d,T);return R?(this.finalize(d,R),R):null}send(d,T,N){const{port:R,address:O,tcp:A}=N;let y;if(this.tcp&&A){if(y=T.compress(),y=this.sign(y,O,R),y.length>K)throw new Error("Message exceeds size limits.")}else{const U=this.edns&&d?d.maxSize(this.ednsSize):v,q=U-this.signSize();if(q>>>0!==q||q<12)throw new Error("Invalid sign size.");if(y=T.compress(q),y=this.sign(y,O,R),y.length>U)throw new Error("Invalid sign size.")}return this.server.send(y,0,y.length,R,O,A),this}async handle(d,T){let N=null,R=null;try{N=w.decode(d)}catch(O){if(this.emit("error",O),d.length<2)return;R=new w,R.id=oe.readU16BE(d,0),R.ra=this.ra,R.qr=!0,R.code=a.FORMERR,this.send(null,R,T);return}try{R=await this.answer(N,T)}catch(O){this.emit("error",O),R=new w,R.code=a.SERVFAIL,O.type==="DNSError"&&(R.code=O.errno),this.finalize(N,R)}if(R){this.emit("query",N,R,T),this.send(N,R,T);return}R=new _(this,N,T),R.setReply(N),R.ra=this.ra,this.emit("query",N,R,T)}}class _ extends w{constructor(d,T,N){super(),this._server=d,this._req=T,this._rinfo=N,this._sent=!1}send(){if(this._sent)throw new Error("Response already sent.");this._sent=!0,this._server.finalize(this._req,this),this._server.send(this._req,this,this._rinfo)}}C.exports=m}],["bns-plus","/lib/dnssec.js",function(f,Le,C,Fe,He,Ve){/*!
 * dnssec.js - DNSSEC for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns and golang/go:
 *   https://github.com/miekg/dns/blob/master/dnssec.go
 *
 * Parts of this software are based on solvere:
 *   https://github.com/rolandshoemaker/solvere
 */const e=ce(2,C),S=ce(14,C),oe=ce(11,C),Q=ce(13,C),P=ce(80,C),g=ce(100,C),u=ce(79,C),H=ce(90,C),{readName:a,packName:s}=P,{isRRSet:n,countLabels:p,splitName:v,extractSet:K}=u,{classes:w,types:m,keyFlags:_,algs:E,algsByVal:d,hashes:T,hashesByVal:N,algHashes:R}=oe,{Message:O,Record:A,DSRecord:y,DNSKEYRecord:U,RRSIGRecord:q}=H,k={[E.RSAMD5]:Q.md5,[E.DSA]:Q.sha1,[E.RSASHA1]:Q.sha1,[E.DSANSEC3SHA1]:Q.sha1,[E.RSASHA1NSEC3SHA1]:Q.sha1,[E.RSASHA256]:Q.sha256,[E.ECDSAP256SHA256]:Q.sha256,[E.ECDSAP384SHA384]:Q.sha384,[E.RSASHA512]:Q.sha512,[E.ED25519]:{},[E.ED448]:{}},o={[T.SHA1]:Q.sha1,[T.SHA256]:Q.sha256,[T.GOST94]:Q.gost94,[T.SHA384]:Q.sha384,[T.SHA512]:Q.sha512},h=f;h.filename=g.filename,h.privFile=g.privFile,h.pubFile=g.pubFile,h.createPrivate=g.createPrivate,h.createPrivateAsync=g.createPrivateAsync,h.createPublic=g.createPublic,h.encodePrivate=g.encodePrivate,h.decodePrivate=g.decodePrivate,h.readPrivate=g.readPrivate,h.readPrivateAsync=g.readPrivateAsync,h.readPublic=g.readPublic,h.readPublicAsync=g.readPublicAsync,h.writeKeys=g.writeKeys,h.writeKeysAsync=g.writeKeysAsync,h.writePrivate=g.writePrivate,h.writePrivateAsync=g.writePrivateAsync,h.writePublic=g.writePublic,h.writePublicAsync=g.writePublicAsync,h.makeKey=function(M,X,B,G){const $=h.createPublic(X,B);return h.createKey(M,X,$,G)},h.createKey=function(M,X,B,G){G==null&&(G=_.ZONE),e(typeof M=="string"),e(u.isFQDN(M)),e((X&255)===X),e(B!=null&&B._isBuffer===!0),e((G&65535)===G);const $=new A,le=new U;return $.name=M,$.class=w.IN,$.type=m.DNSKEY,$.ttl=172800,$.data=le,le.flags=G,le.protocol=3,le.algorithm=X,le.publicKey=B,$},h.createDS=function(M,X){X==null&&(X=T.SHA256),e(M instanceof A),e(M.type===m.DNSKEY),e((X&255)===X);const B=M.data,G=o[X];if(!G)return null;const $=B.encode(),le=B.keyTag($),Ee=s(M.name),Ne=new A,ke=new y;return Ne.name=M.name,Ne.class=M.class,Ne.type=m.DS,Ne.ttl=M.ttl,Ne.data=ke,ke.algorithm=B.algorithm,ke.digestType=X,ke.keyTag=le,ke.digest=G.multi(Ee,$),Ne},h.signType=function(M,X,B,G,$){e(Array.isArray(M)),e((X&65535)===X);const le=K(M,"",X);if(le.length===0)return M;const Ee=h.sign(B,G,le,$);return M.push(Ee),M},h.sign=function(M,X,B,G){G==null&&(G=365*24*60*60),e(M instanceof A),e(M.type===m.DNSKEY),e(Array.isArray(B)),e(G>>>0===G);const $=new A,le=new q;return $.name=M.name,$.ttl=M.ttl,$.class=M.class,$.type=m.RRSIG,$.data=le,le.keyTag=M.data.keyTag(),le.signerName=M.name,le.algorithm=M.data.algorithm,le.inception=u.now()-24*60*60,le.expiration=u.now()+G,h.signRRSIG($,X,B)},h.signRRSIG=function(M,X,B){e(M instanceof A),e(M.type===m.RRSIG),e(X!=null&&X._isBuffer===!0),e(Array.isArray(B));const G=M.data;if(!n(B))throw new Error("Invalid RR set.");if(G.keyTag===0||G.signerName.length===0||G.algorithm===0)throw new Error("Invalid signature record.");M.type=m.RRSIG,M.name=B[0].name,M.class=B[0].class,M.data=G,G.origTTL===0&&(G.origTTL=B[0].ttl),G.typeCovered=B[0].type,G.labels=p(B[0].name),B[0].name[0]==="*"&&(G.labels-=1);const $=h.signatureHash(M,B);if(!$)throw new Error("Bad number of labels.");return G.signature=h.signData(X,$,G.algorithm),M},h.signData=function(M,X,B){e(M!=null&&M._isBuffer===!0),e(X!=null&&X._isBuffer===!0),e((B&255)===B);const G=M,$=k[B];if(!$)throw new Error("Unknown hash algorithm.");switch(B){case E.DSA:case E.DSANSEC3SHA1:return Q.signDSA($,X,G);case E.RSAMD5:case E.RSASHA1:case E.RSASHA1NSEC3SHA1:case E.RSASHA256:case E.RSASHA512:return Q.signRSA($,X,G);case E.ECDSAP256SHA256:return Q.signP256($,X,G);case E.ECDSAP384SHA384:return Q.signP384($,X,G);case E.ED25519:return Q.signED25519(X,G);case E.ED448:return Q.signED448(X,G)}throw new Error("Unknown public key algorithm.")},h.verify=function(M,X,B){e(M instanceof A),e(M.type===m.RRSIG),e(X instanceof A),e(X.type===m.DNSKEY),e(Array.isArray(B));const G=M.data,$=X.data;if(!n(B)||G.keyTag!==$.keyTag()||M.class!==X.class||G.algorithm!==$.algorithm||!u.equal(G.signerName,X.name)||$.protocol!==3||B[0].class!==M.class||B[0].type!==G.typeCovered)return!1;const le=h.signatureHash(M,B);return le?h.verifyData(M,X,le,G.algorithm):!1},h.verifyData=function(M,X,B,G){e(M instanceof A),e(M.type===m.RRSIG||M.type===m.SIG),e(X instanceof A),e(X.type===m.DNSKEY||X.type===m.KEY),e(B!=null&&B._isBuffer===!0),e((G&255)===G);const $=X.data.publicKey,le=M.data.signature,Ee=k[G];if(!Ee)return!1;switch(G){case E.DSA:case E.DSANSEC3SHA1:return Q.verifyDSA(Ee,B,le,$);case E.RSAMD5:case E.RSASHA1:case E.RSASHA1NSEC3SHA1:case E.RSASHA256:case E.RSASHA512:return Q.verifyRSA(Ee,B,le,$);case E.ECDSAP256SHA256:return Q.verifyP256(Ee,B,le,$);case E.ECDSAP384SHA384:return Q.verifyP384(Ee,B,le,$);case E.ED25519:return Q.verifyED25519(B,le,$);case E.ED448:return Q.verifyED448(B,le,$)}return!1},h.signatureHash=function(M,X){e(M instanceof A),e(M.type===m.RRSIG),e(Array.isArray(X));const B=M.data,G=[];for(const Ne of X){e(Ne instanceof A);const ke=Ne.deepClone(),se=v(ke.name);if(se.length>B.labels){const ge=se.length-B.labels,ve=se.slice(ge).join(".");ke.name=`*.${ve}.`}if(se.length<B.labels)return null;ke.ttl=B.origTTL,ke.canonical(),G.push(ke.encode())}G.sort(z);const $=B.toTBS();let le=0;le+=$.length;for(let Ne=0;Ne<G.length;Ne++){const ke=G[Ne];Ne>0&&ke.equals(G[Ne-1])||(le+=ke.length)}const Ee=S.write(le);Ee.writeBytes($);for(let Ne=0;Ne<G.length;Ne++){const ke=G[Ne];Ne>0&&ke.equals(G[Ne-1])||Ee.writeBytes(ke)}return Ee.render()},h.verifyDS=function(M,X,B){if(e(M instanceof O),e(Array.isArray(X)),e(typeof B=="string"),X.length===0)return!1;const G=new Map;for(const le of M.answer){if(le.type!==m.DNSKEY)continue;const Ee=le.data;!(Ee.flags&_.ZONE)||!u.equal(le.name,B)||Ee.flags&_.REVOKE||G.set(Ee.keyTag(),le)}const $=new Map;for(const le of X){e(le instanceof A),e(le.type===m.DS);const Ee=le.data,Ne=G.get(Ee.keyTag);if(!Ne)continue;const ke=h.createDS(Ne,Ee.digestType);if(!!ke){if(!ke.data.digest.equals(Ee.digest)||ke.data.algorithm!==Ee.algorithm)return null;$.set(Ee.keyTag,Ne)}}return $.size===0?null:$},h.verifyZSK=function(M,X,B){if(e(M instanceof O),e(X instanceof Map),e(typeof B=="string"),M.answer.length===0||X.size===0)return!1;const G=[],$=[];for(const le of M.answer){const Ee=le.data;if(le.type===m.DNSKEY){if(!u.equal(le.name,B))continue;G.push(le);continue}if(le.type===m.RRSIG){if(Ee.typeCovered!==m.DNSKEY||!u.equal(le.name,B)||!X.has(Ee.keyTag)||!Ee.validityPeriod())continue;$.push(le);continue}}if(G.length===0||$.length===0)return!1;for(const le of $){const Ee=le.data,Ne=X.get(Ee.keyTag);if(e(Ne),!h.verify(le,Ne,G))return!1}return!0},h.verifyMessage=function(M,X,B){B==null&&(B=new Set),e(M instanceof O),e(X instanceof Map),e(B instanceof Set);const G=M.isAnswer(),$=M.isReferral();if(!G&&!$)return!0;const le=new Set;let Ee=M.answer;if($&&(Ee=M.authority,u.hasType(Ee,m.DS)&&le.add(m.DS),u.hasType(Ee,m.NSEC)&&le.add(m.NSEC),u.hasType(Ee,m.NSEC3)&&le.add(m.NSEC3)),le.size===0)for(const Ne of Ee)Ne.type===m.RRSIG||Ne.type===m.SIG||Ne.type===m.OPT||Ne.type===m.TSIG||le.add(Ne.type);if(le.size===0)return!0;for(const Ne of Ee){if(Ne.type!==m.RRSIG)continue;const ke=Ne.data;if(!ke.validityPeriod()||!le.has(ke.typeCovered)||B.has(ke.keyTag))continue;const se=X.get(ke.keyTag);if(!se)continue;const ge=K(Ee,Ne.name,ke.typeCovered);ge.length!==0&&(!h.verify(Ne,se,ge)||le.delete(ke.typeCovered))}return le.size===0},h.filterMessage=function(M,X){return e(M instanceof O),e((X&65535)===X),M.answer=h.filterSection(M.answer,X),M.authority=h.filterSection(M.authority,X),M.additional=h.filterSection(M.additional,X),M},h.filterSection=function(M,X){e(Array.isArray(M)),e((X&65535)===X);const B=[];for(const G of M)switch(e(G instanceof A),G.type){case m.DS:case m.DLV:case m.DNSKEY:case m.RRSIG:case m.NXT:case m.NSEC:case m.NSEC3:case m.NSEC3PARAM:if(X!==G.type)break;default:B.push(G);break}return B},h.stripSignatures=function(M){return e(M instanceof O),M.answer=u.filterSet(M.answer,m.RRSIG),M.authority=u.filterSet(M.authority,m.RRSIG),M.additional=u.filterSet(M.additional,m.RRSIG),M};function z(J,M){const[X]=a(J,0,!0),[B]=a(M,0,!0),G=J.slice(X+10),$=M.slice(B+10);return G.compare($)}h.keyFlags=_,h.algs=E,h.algsByVal=d,h.hashes=T,h.hashesByVal=N,h.algHashes=R,h.algToHash=k,h.hashToHash=o}],["bns-plus","/lib/internal/keys.js",function(f,Le,C,Fe,He,Ve){/*!
 * keys.js - DNSSEC keys for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(87,C),oe=ce(84,C),Q=ce(40,C),P=ce(54,C),g=ce(58,C),u=ce(66,C),H=ce(68,C),a=ce(13,C),s=ce(11,C),n=ce(79,C),p=ce(90,C),{types:v,Record:K}=p,{algs:w,algToString:m}=s,{pad:_}=n,E="v1.3",d=f;d.filename=function(y,U,q){return e(typeof y=="string"),e(n.isName(y)),e((U&255)===U),e((q&65535)===q),`K${n.fqdn(y.toLowerCase())}+${_(U,3)}+${_(q,5)}`},d.privFile=function(y,U,q){return`${d.filename(y,U,q)}.private`},d.pubFile=function(y,U,q){return`${d.filename(y,U,q)}.key`},d.createPrivate=function(y,U,q){switch(e((y&255)===y),y){case w.DSA:case w.DSANSEC3SHA1:return a.generateDSA(U);case w.RSAMD5:case w.RSASHA1:case w.RSASHA1NSEC3SHA1:case w.RSASHA256:case w.RSASHA512:return a.generateRSA(U,q);case w.ECDSAP256SHA256:return a.generateP256();case w.ECDSAP384SHA384:return a.generateP384();case w.ED25519:return a.generateED25519();case w.ED448:return a.generateED448();default:throw new Error(`Unsupported algorithm: ${m(y)}.`)}},d.createPrivateAsync=async function(y,U,q){switch(e((y&255)===y),y){case w.DSA:case w.DSANSEC3SHA1:return a.generateDSAAsync(U);case w.RSAMD5:case w.RSASHA1:case w.RSASHA1NSEC3SHA1:case w.RSASHA256:case w.RSASHA512:return a.generateRSAAsync(U,q);case w.ECDSAP256SHA256:return a.generateP256();case w.ECDSAP384SHA384:return a.generateP384();case w.ED25519:return a.generateED25519();case w.ED448:return a.generateED448();default:throw new Error(`Unsupported algorithm: ${m(y)}.`)}},d.createPublic=function(y,U){switch(e((y&255)===y),e(U!=null&&U._isBuffer===!0),y){case w.DSA:case w.DSANSEC3SHA1:return a.createDSA(U);case w.RSAMD5:case w.RSASHA1:case w.RSASHA1NSEC3SHA1:case w.RSASHA256:case w.RSASHA512:return a.createRSA(U);case w.ECDSAP256SHA256:return a.createP256(U);case w.ECDSAP384SHA384:return a.createP384(U);case w.ED25519:return a.createED25519(U);case w.ED448:return a.createED448(U);default:throw new Error(`Unsupported algorithm: ${m(y)}.`)}},d.encodePrivate=function(y,U,q){switch(q==null&&(q=n.now()),e((y&255)===y),e(U!=null&&U._isBuffer===!0),e(Number.isSafeInteger(q)&&q>=0),y){case w.DSA:case w.DSANSEC3SHA1:return d.encodeDSA(y,U,q);case w.RSAMD5:case w.RSASHA1:case w.RSASHA1NSEC3SHA1:case w.RSASHA256:case w.RSASHA512:return d.encodeRSA(y,U,q);case w.ECDSAP256SHA256:case w.ECDSAP384SHA384:case w.ED25519:case w.ED448:return d.encodeEC(y,U,q);default:throw new Error(`Unsupported algorithm: ${m(y)}.`)}},d.encodeDSA=function(y,U,q){e((y&255)===y);const{p:k,q:o,g:h,y:z,x:J}=Q.privateKeyExport(U),M=n.serializeTime(q);return[`Private-key-format: ${E}`,`Algorithm: ${y} (${m(y)})`,`Prime(p): ${k.toString("base64")}`,`Subprime(q): ${o.toString("base64")}`,`Base(g): ${h.toString("base64")}`,`Private_value(x): ${J.toString("base64")}`,`Public_value(y): ${z.toString("base64")}`,`Created: ${M}`,`Publish: ${M}`,`Activate: ${M}`].join(`
`)},d.encodeRSA=function(y,U,q){e((y&255)===y);const{n:k,e:o,d:h,p:z,q:J,dp:M,dq:X,qi:B}=P.privateKeyExport(U),G=n.serializeTime(q);return[`Private-key-format: ${E}`,`Algorithm: ${y} (${m(y)})`,`Modulus: ${k.toString("base64")}`,`PublicExponent: ${o.toString("base64")}`,`PrivateExponent: ${h.toString("base64")}`,`Prime1: ${z.toString("base64")}`,`Prime2: ${J.toString("base64")}`,`Exponent1: ${M.toString("base64")}`,`Exponent2: ${X.toString("base64")}`,`Coefficient: ${B.toString("base64")}`,`Created: ${G}`,`Publish: ${G}`,`Activate: ${G}`].join(`
`)},d.encodeEC=function(y,U,q){e((y&255)===y),e(U!=null&&U._isBuffer===!0);const k=n.serializeTime(q);return[`Private-key-format: ${E}`,`Algorithm: ${y} (${m(y)})`,`PrivateKey: ${U.toString("base64")}`,`Created: ${k}`,`Publish: ${k}`,`Activate: ${k}`].join(`
`)},d.decodePrivate=function(y){const{algorithm:U}=d.decodeMeta(y);switch(U){case w.DSA:case w.DSANSEC3SHA1:return d.decodeDSA(y);case w.RSAMD5:case w.RSASHA1:case w.RSASHA1NSEC3SHA1:case w.RSASHA256:case w.RSASHA512:return d.decodeRSA(y);case w.ECDSAP256SHA256:case w.ECDSAP384SHA384:case w.ED25519:case w.ED448:return d.decodeEC(y);default:throw new Error(`Unsupported algorithm: ${m(U)}.`)}},d.decodeMeta=function(y){e(typeof y=="string");const U=n.splitLines(y);let q=E,k=-1,o=0,h=0,z=0;for(const J of U){const[M,X]=n.splitColon(J);switch(M.toLowerCase()){case"private-key-format":{q=X.toLowerCase();break}case"algorithm":{const[B]=X.split(/[ \t]/);k=n.parseU8(B);break}case"created":{o=n.parseTime(X);break}case"publish":{h=n.parseTime(X);break}case"activate":{z=n.parseTime(X);break}}}if(k===-1)throw new Error("Could not determine key algorithm.");return{format:q,algorithm:k,created:o,publish:h,activate:z}},d.decodeDSA=function(y){e(typeof y=="string");const U=n.splitLines(y);let q,k,o,h,z,J=-1;for(const X of U){const[B,G]=n.splitColon(X);switch(B.toLowerCase()){case"algorithm":{const[$]=G.split(/[ \t]/),le=n.parseU8($);switch(le){case w.DSA:case w.DSANSEC3SHA1:break;default:throw new Error(`Not a DSA algorithm: ${m(le)}.`)}J=le;break}case"prime(p)":{q=n.parseB64(G);break}case"subprime(q)":{k=n.parseB64(G);break}case"base(g)":{o=n.parseB64(G);break}case"private_value(x)":{z=n.parseB64(G);break}case"public_value(y)":{h=n.parseB64(G);break}}}if(J===-1)throw new Error("Could not determine key algorithm.");const M=Q.privateKeyImport({p:q,q:k,g:o,y:h,x:z});return[J,M]},d.decodeRSA=function(y){e(typeof y=="string");const U=n.splitLines(y);let q,k,o,h,z,J,M,X,B=-1;for(const $ of U){const[le,Ee]=n.splitColon($);switch(le.toLowerCase()){case"algorithm":{const[Ne]=Ee.split(/[ \t]/),ke=n.parseU8(Ne);switch(ke){case w.RSAMD5:case w.RSASHA1:case w.RSASHA1NSEC3SHA1:case w.RSASHA256:case w.RSASHA512:break;default:throw new Error(`Not an RSA algorithm: ${m(ke)}.`)}B=ke;break}case"modulus":{q=n.parseB64(Ee);break}case"publicexponent":{k=n.parseB64(Ee);break}case"privateexponent":{o=n.parseB64(Ee);break}case"prime1":{h=n.parseB64(Ee);break}case"prime2":{z=n.parseB64(Ee);break}case"exponent1":{J=n.parseB64(Ee);break}case"exponent2":{M=n.parseB64(Ee);break}case"coefficient":{X=n.parseB64(Ee);break}}}if(B===-1)throw new Error("Could not determine key algorithm.");const G=P.privateKeyImport({n:q,e:k,d:o,p:h,q:z,dp:J,dq:M,qi:X});return[B,G]},d.decodeEC=function(y){e(typeof y=="string");const U=n.splitLines(y);let q=null,k=-1;for(const h of U){const[z,J]=n.splitColon(h);switch(z.toLowerCase()){case"algorithm":{const[M]=J.split(/[ \t]/),X=n.parseU8(M);switch(X){case w.ECC:case w.ECCGOST:case w.ECDSAP256SHA256:case w.ECDSAP384SHA384:case w.ED25519:case w.ED448:break;default:throw new Error(`Not an EC algorithm: ${m(X)}.`)}k=X;break}case"privatekey":{q=n.parseB64(J);break}}}if(k===-1)throw new Error("Could not determine key algorithm.");if(!q)throw new Error("No private key found.");let o=!1;switch(k){case w.ECDSAP256SHA256:o=g.privateKeyVerify(q);break;case w.ECDSAP384SHA384:o=u.privateKeyVerify(q);break;case w.ED25519:o=H.privateKeyVerify(q);break;case w.ED448:o=!1;break;default:throw new Error(`Unsupported key algorithm: ${m(k)}.`)}if(!o)throw new Error(`Invalid key for algorithm: ${m(k)}.`);return[k,q]},d.readPrivate=function(y,U,q,k){if(e(typeof y=="string"),typeof U!="string"){const M=U;e(M instanceof K);const X=M.data;if(M.type===v.DNSKEY)U=M.name,q=X.algorithm,k=X.keyTag();else if(M.type===v.DS)U=M.name,q=X.algorithm,k=X.keyTag;else throw new TypeError("Not a DNSKEY or DS record.")}const o=d.privFile(U,q,k),h=T(y,o,"utf8");if(!h)return null;const[z,J]=d.decodePrivate(h);if(z!==q)throw new Error("Algorithm mismatch for private key.");return J},d.readPrivateAsync=async function(y,U,q,k){if(e(typeof y=="string"),typeof U!="string"){const M=U;e(M instanceof K);const X=M.data;if(M.type===v.DNSKEY)U=M.name,q=X.algorithm,k=X.keyTag();else if(M.type===v.DS)U=M.name,q=X.algorithm,k=X.keyTag;else throw new TypeError("Not a DNSKEY or DS record.")}const o=d.privFile(U,q,k),h=await N(y,o,"utf8");if(!h)return null;const[z,J]=d.decodePrivate(h);if(z!==q)throw new Error("Algorithm mismatch for private key.");return J},d.readPublic=function(y,U,q,k){if(e(typeof y=="string"),typeof U!="string"){const J=U;e(J instanceof K);const M=J.data;if(J.type===v.DNSKEY)U=J.name,q=M.algorithm,k=M.keyTag();else if(J.type===v.DS)U=J.name,q=M.algorithm,k=M.keyTag;else throw new TypeError("Not a DNSKEY or DS record.")}const o=d.pubFile(U,q,k),h=T(y,o,"utf8");if(!h)return null;const z=K.fromString(h);if(z.type!==v.DNSKEY)throw new Error("Type mismatch for public key.");if(z.data.keyTag()!==k)throw new Error("DS mismatch for public key.");return z},d.readPublicAsync=async function(y,U,q,k){if(e(typeof y=="string"),typeof U!="string"){const J=U;e(J instanceof K);const M=J.data;if(J.type===v.DNSKEY)U=J.name,q=M.algorithm,k=M.keyTag();else if(J.type===v.DS)U=J.name,q=M.algorithm,k=M.keyTag;else throw new TypeError("Not a DNSKEY or DS record.")}const o=d.pubFile(U,q,k),h=await N(y,o,"utf8");if(!h)return null;const z=K.fromString(h);if(z.type!==v.DNSKEY)throw new Error("Type mismatch for public key.");if(z.data.keyTag()!==k)throw new Error("DS mismatch for public key.");return z},d.writeKeys=function(y,U,q,k){d.writePrivate(y,U,q,k),d.writePublic(y,U)},d.writeKeysAsync=async function(y,U,q,k){await d.writePrivateAsync(y,U,q,k),await d.writePublicAsync(y,U)},d.writePrivate=function(y,U,q,k){e(typeof y=="string"),e(U instanceof K),e(U.type===v.DNSKEY),e(q!=null&&q._isBuffer===!0);const o=U.data,h=d.privFile(U.name,o.algorithm,o.keyTag()),z=d.encodePrivate(o.algorithm,q,k);R(y,h,z+`
`,"utf8")},d.writePrivateAsync=async function(y,U,q,k){e(typeof y=="string"),e(U instanceof K),e(U.type===v.DNSKEY),e(q!=null&&q._isBuffer===!0);const o=U.data,h=d.privFile(U.name,o.algorithm,o.keyTag()),z=d.encodePrivate(o.algorithm,q,k);return O(y,h,z+`
`,"utf8")},d.writePublic=function(y,U){e(typeof y=="string"),e(U instanceof K),e(U.type===v.DNSKEY);const q=U.data,k=d.pubFile(U.name,q.algorithm,q.keyTag()),o=U.toString();R(y,k,o+`
`,"utf8")},d.writePublicAsync=async function(y,U){e(typeof y=="string"),e(U instanceof K),e(U.type===v.DNSKEY);const q=U.data,k=d.pubFile(U.name,q.algorithm,q.keyTag()),o=U.toString();return O(y,k,o+`
`,"utf8")};function T(A,y,U){e(typeof A=="string"),e(typeof y=="string"),e(U==null||typeof U=="string");const q=S.resolve(A,y);try{return oe.readFileSync(q,U)}catch(k){if(k.code==="ENOENT")return null;throw k}}async function N(A,y,U){e(typeof A=="string"),e(typeof y=="string"),e(U==null||typeof U=="string");const q=S.resolve(A,y);try{return await oe.readFile(q,U)}catch(k){if(k.code==="ENOENT")return null;throw k}}function R(A,y,U,q){e(typeof A=="string"),e(typeof y=="string"),e(typeof U=="string"),e(q==null||typeof q=="string");const k=S.resolve(A,y);oe.writeFileSync(k,U,q)}async function O(A,y,U,q){e(typeof A=="string"),e(typeof y=="string"),e(typeof U=="string"),e(q==null||typeof q=="string");const k=S.resolve(A,y);return oe.writeFile(k,U,q)}}],["bns-plus","/lib/error.js",function(f,Le,C,Fe,He,Ve){/*!
 * error.js - dns error for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(11,C),{codes:S,codeToString:oe}=e;class Q extends Error{constructor(g,u){super(),typeof g=="number"&&(u=g,g=""),u==null&&(u=S.SERVFAIL),g?g=`: ${g}.`:g="",this.type="DNSError",this.name="DNSError",this.code=`E${oe(u)}`,this.errno=u,this.message=`${this.code}${g}`,Error.captureStackTrace&&Error.captureStackTrace(this,Q)}}C.exports=Q}],["bns-plus","/lib/internal/net.js",function(f,Le,C,Fe,He,Ve){/*!
 * net.js - dns server for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(3,C),oe=ce(4,C),Q=ce(103,C),P=ce(105,C),g=ce(14,C),u=ce(79,C),H=oe.getPublic("ipv6").length>0;class a extends S{constructor(E){super();const d=m(E);this.inet6=d.type==="udp6",this.tcp=!0,this.socket=P.createSocket(d),this.sockets=new Map,E&&typeof E=="object"&&(E.tcp!=null&&(e(typeof E.tcp=="boolean"),this.tcp=E.tcp),E.forceTCP!=null&&(e(typeof E.forceTCP=="boolean"),E.forceTCP&&(this.tcp=!0))),this.init()}init(){this.socket.on("close",()=>{this.emit("close")}),this.socket.on("error",E=>{this.emit("error",E)}),this.socket.on("listening",()=>{this.emit("listening")}),this.socket.on("message",(E,d)=>{const{address:T,port:N}=d,R=oe.toBuffer(T),O=oe.isIPv4(R);this.emit("message",E,{tcp:!1,family:O?"IPv4":"IPv6",address:oe.toString(R),port:N})})}addMembership(E,d){return this.socket.addMembership(E,d),this}address(){const{address:E,port:d}=this.socket.address(),T=this.inet6?w(E):K(E),N=oe.toBuffer(T);return{family:oe.isIPv4(N)?"IPv4":"IPv6",address:oe.toString(N),port:d}}async bind(...E){if(E.length>1){const[,d]=E;typeof d=="string"&&(e(u.isIP(d),"Must bind to an IP address."),E[1]=this.inet6?w(d):K(d))}return this.socket.bind(...E)}async close(){for(const E of this.sockets.values())E.destroy();return this.socket.close()}dropMembership(E,d){return this.socket.dropMembership(E,d),this}getRecvBufferSize(){return this.socket.getRecvBufferSize()}getSendBufferSize(){return this.socket.getSendBufferSize()}ref(){return this.socket.ref(),this}async write(E,d,T){throw new Error("Abstract.")}async send(E,d,T,N,R,O){return this.tcp&&O?(d!==0&&T!==E.length&&(E=E.slice(d,d+T)),this.write(E,N,R)):(R=this.inet6?w(R):K(R),this.socket.send(E,d,T,N,R))}setBroadcast(E){return this.socket.setBroadcast(E),this}setMulticastInterface(E){return this.socket.setMulticastInterface(E),this}setMulticastLoopback(E){return this.socket.setMulticastLoopback(E),this}setMulticastTTL(E){return this.socket.setMulticastTTL(E),this}setRecvBufferSize(E){return this.socket.setRecvBufferSize(E),this}setSendBufferSize(E){return this.socket.setSendBufferSize(E),this}setTTL(E){return this.socket.setTTL(E),this}unref(){return this.socket.unref(),this}}class s extends a{constructor(E){super(E),this.socket.unref()}async write(E,d,T){const N=oe.toHost(T,d),R=this.sockets.get(N);if(R){R.write(E);return}let O=null;try{O=await p.connect(this,d,T)}catch{return}this.sockets.has(N)?(O.destroy(),O=this.sockets.get(N)):(O.parent=this,this.sockets.set(N,O)),O.write(E)}drop(E,d){const T=oe.toHost(d,E),N=this.sockets.get(T);N&&N.pending===0&&N.destroy()}kill(E,d){const T=oe.toHost(d,E),N=this.sockets.get(T);N&&N.destroy()}}class n extends a{constructor(E){super(E),this.server=Q.createServer(),this.server.on("error",d=>{this.emit("error",d)}),this.server.on("connection",d=>{try{this._handleSocket(d)}catch(T){this.emit("error",T)}})}_handleSocket(E){if(!E.remoteAddress){E.destroy();return}const d=p.accept(this,E),T=oe.toHost(d.host,d.port);this.sockets.set(T,d)}async bind(...E){return this.tcp&&await this.server.listen(...E),super.bind(...E)}async close(){return this.tcp&&await this.server.close(),super.close()}async write(E,d,T){const N=oe.toHost(T,d),R=this.sockets.get(N);R&&R.write(E)}get maxConnections(){return this.server.maxConnections}set maxConnections(E){this.server.maxConnections=E}}class p extends S{constructor(E){super(),e(E),this.parent=E,this.socket=new Q.Socket,this.ctimer=null,this.btimer=null,this.connected=!1,this.destroyed=!1,this.parser=new v,this.buffered=0,this.family="IPv4",this.host="0.0.0.0",this.port=0,this.pending=0,this.init()}fire(...E){this.parent.emit(...E)}init(){this.parser.on("message",E=>{const d={tcp:!0,family:this.family,address:this.host,port:this.port};this.pending>0&&(this.pending-=1),this.fire("message",E,d)})}bind(){this.socket.once("error",E=>{!this.connected||(this.fire("error",E),this.destroy())}),this.socket.once("close",()=>{!this.connected||this.destroy()}),this.socket.on("drain",()=>{!this.connected||(this.buffered=0)}),this.socket.on("data",E=>{!this.connected||this.parser.feed(E)}),this.socket.setNoDelay(!0),this.btimer=an(()=>this.timeout(),5e3)}timeout(){this.buffered>2<<20&&this.destroy()}accept(E){return this.socket=E,this.connected=!0,this.family=E.remoteFamily,this.host=oe.normalize(E.remoteAddress),this.port=E.remotePort,this.bind(),this}async connect(...E){return this.connected?this:(this.socket.connect(...E),this.socket.unref(),new Promise((d,T)=>{const N=()=>{this.ctimer!=null&&(jn(this.ctimer),this.ctimer=null),this.socket.removeListener("error",R)},R=O=>{N(),T(O)};this.socket.once("connect",()=>{this.connected=!0,this.family=this.socket.remoteFamily,this.host=oe.normalize(this.socket.remoteAddress),this.port=this.socket.remotePort,this.bind(),N(),d(this)}),this.socket.once("error",R),this.ctimer=zn(()=>{this.ctimer=null,N(),T(new Error("Connection timed out."))},1e4)}))}cleanup(){if(!this.connected)return;this.ctimer!=null&&(tn(this.ctimer),this.ctimer=null),this.btimer!=null&&(tn(this.btimer),this.btimer=null);const E=oe.toHost(this.host,this.port);this.parent.sockets.get(E)===this&&this.parent.sockets.delete(E),this.connected=!1}close(){return this.connected?(this.cleanup(),this.socket.end(),this):this}destroy(){return this.destroyed?this:(this.destroyed=!0,this.cleanup(),this.socket.destroy(),this)}write(E){if(this.buffered>5<<20)return this.destroy(),!1;const d=_e.allocUnsafe(2);return g.writeU16BE(d,E.length,0),this.socket.write(d),this.pending+=1,this.socket.write(E)}static accept(E,d){return new this(E).accept(d)}static connect(E,...d){return new this(E).connect(...d)}}class v extends S{constructor(){super(),this.pending=[],this.total=0,this.waiting=2,this.hasSize=!1}feed(E){for(this.total+=E.length,this.pending.push(E);this.total>=this.waiting;){const d=_e.allocUnsafe(this.waiting);let T=0;for(;T<d.length;){const N=this.pending[0].copy(d,T);N===this.pending[0].length?this.pending.shift():this.pending[0]=this.pending[0].slice(N),T+=N}if(e.strictEqual(T,d.length),this.total-=d.length,!this.hasSize){this.waiting=g.readU16BE(d,0),this.hasSize=!0;continue}this.waiting=2,this.hasSize=!1,this.emit("message",d)}}}function K(_){const E=oe.toBuffer(_);return oe.isIPv4(E)?_:oe.isNull(E)?"0.0.0.0":oe.isLocal(E)?"127.0.0.1":_}function w(_){const E=oe.toBuffer(_);return oe.isIPv4(E)?`::ffff:${oe.toString(E)}`:_}function m(_){let E=H?"udp6":"udp4";if(_==null)return{type:E};if(typeof _=="string")return e(_==="udp4"||_==="udp6"),{type:_};if(typeof _!="object")throw new Error("Invalid options object.");_.type!=null?(e(_.type==="udp4"||_.type==="udp6"),E=_.type):_.inet6!=null&&(e(typeof _.inet6=="boolean"),E=_.inet6?"udp6":"udp4");const d={type:E};return _.reuseAddr!=null&&(d.reuseAddr=_.reuseAddr),_.recvBufferSize!=null&&(d.recvBufferSize=_.recvBufferSize),_.sendBufferSize!=null&&(d.sendBufferSize=_.sendBufferSize),d}f.Client=s,f.Server=n}],["btcp","/lib/btcp.js",function(f,Le,C,Fe,He,Ve){C.exports=ce(104,C)}],["btcp","/lib/tcp-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * tcp.js - tcp backend for bcoin
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(3,C);class S extends e{constructor(){super(),this.readable=!0,this.writable=!0,this.encrypted=!1,this.bufferSize=0,this.bytesRead=0,this.bytesWritten=0,this.connecting=!1,this.destroyed=!1,this.localAddress="127.0.0.1",this.localPort=0,this.remoteAddress="127.0.0.1",this.remoteFamily="IPv4",this.remotePort=0}address(){return{address:"127.0.0.1",family:"IPv4",port:0}}connect(P,g){throw new Error("Unsupported.")}destroy(P){return this}end(P,g){throw new Error("Unsupported.")}pause(){return this}ref(){return this}resume(){return this}setEncoding(P){return this}setKeepAlive(P,g){return this}setNoDelay(P){return this}setTimeout(P,g){return this}unref(){return this}write(P,g){throw new Error("Unsupported.")}}class oe extends e{constructor(P){super()}address(){return{address:"127.0.0.1",family:"IPv4",port:0}}async close(){}async getConnections(){return 0}async listen(...P){const g=this.address();return this.emit("listening",g),g}get listening(){return!1}set listening(P){}get maxConnections(){return je}set maxConnections(P){}ref(){return this}unref(){return this}}f.unsupported=!0,f.Socket=S,f.Server=oe,f.connect=function(Q,P){throw new Error("Unsupported.")},f.createSocket=f.connect,f.createConnection=f.connect,f.createServer=function(P){return new oe(P)}}],["budp","/lib/budp.js",function(f,Le,C,Fe,He,Ve){C.exports=ce(106,C)}],["budp","/lib/udp-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * udp.js - udp backend for bcoin
 * Copyright (c) 2014-2017, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(3,C);class S extends e{constructor(Q){super(),this.type=Q}addMembership(Q,P){return this}address(){return{family:this.type==="udp6"?"IPv6":"IPv4",address:this.type==="udp6"?"::":"0.0.0.0",port:0}}async bind(){const Q=this.address();return this.emit("listening",Q),Q}async close(){this.emit("close")}dropMembership(Q,P){return this}getRecvBufferSize(){return 512}getSendBufferSize(){return 512}hasBufferSize(){return!0}ref(){return this}async send(){}setBroadcast(Q){return this}setMulticastInterface(Q){return this}setMulticastLoopback(Q){return this}setMulticastTTL(Q){return this}setRecvBufferSize(Q){return this}setSendBufferSize(Q){return this}setTTL(Q){return this}unref(){return this}}f.unsupported=!0,f.createSocket=function(Q,P){let g="udp4";return typeof Q=="object"&&Q&&Q.type?g=Q.type:typeof Q=="string"&&(g=Q),new S(g)}}],["bns-plus","/lib/zone.js",function(f,Le,C,Fe,He,Ve){/*!
 * hints.js - root hints object for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on solvere:
 *   https://github.com/rolandshoemaker/solvere
 */const e=ce(2,C),S=ce(84,C),oe=ce(11,C),Q=ce(79,C),P=ce(90,C),g=ce(99,C),{keyFlags:u}=g,{ZONE:H}=u,{types:a,codes:s}=oe,{Message:n,Record:p}=P,v=ce(108,C);let K=null;class w{constructor(y){this.origin=".",this.count=0,this.names=new Map,this.wild=new m(this),this.nsec=new _,this.zskpriv=null,this.zskkey=null,this.setOrigin(y)}clear(){return this.origin=".",this.count=0,this.clearRecords(),this}clearRecords(){return this.names.clear(),this.wild.clear(),this.nsec.clear(),this}setZSKFromString(y){const[U,q]=g.decodePrivate(y);this.zskpriv=q,this.zskkey=g.makeKey(this.origin,U,q,H)}setOrigin(y){return y==null&&(y="."),e(Q.isFQDN(y)),this.origin=y.toLowerCase(),this.count=Q.countLabels(this.origin),this}insert(y){e(y instanceof p);const U=y.deepClone();if(U.canonical(),U.type!==a.A&&U.type!==a.AAAA&&!Q.isSubdomain(this.origin,U.name))throw new Error("Not a child of this zone.");switch(R(U.name)?this.wild.insert(U):(this.names.has(U.name)||this.names.set(U.name,new m(this)),this.names.get(U.name).insert(U)),U.type){case a.NSEC:{this.nsec.insert(U.name);break}}return this}push(y,U,q){e(Q.isFQDN(y)),e((U&65535)===U),e(Array.isArray(q));const k=this.names.get(y);return k?k.push(y,U,q):this.wild.push(y,U,q),this}get(y,U){const q=[];return this.push(y,U,q),q}has(y,U){e(Q.isFQDN(y)),e((U&65535)===U);const q=this.names.get(y);return q?q.rrs.has(U):!1}glue(y,U,q,k){e(Q.isFQDN(y)),e(Array.isArray(U));const o=U.length;q?this.push(y,q,U):(this.push(y,a.A,U),this.push(y,a.AAAA,U));const h=U.length;return o===h&&this.push(y,a.SOA,k),this}find(y,U){const q=this.get(y,U),k=[],o=[];for(const h of q)switch(h.type){case a.CNAME:this.glue(h.data.target,q,U,o);break;case a.DNAME:this.glue(h.data.target,q,U,o);break;case a.NS:this.glue(h.data.ns,k);break;case a.SOA:this.glue(h.data.ns,k);break;case a.MX:this.glue(h.data.mx,k);break;case a.SRV:this.glue(h.data.target,k);break}return[q,k,o]}getHints(){if(!K){K=P.fromZone(v,".");for(const q of K)q.canonical()}const y=[],U=[];for(const q of K)switch(q.type){case a.NS:y.push(q);break;case a.A:case a.AAAA:U.push(q);break}return[y,U]}proveNoData(y){return this.push(this.origin,a.NSEC,y),this}proveNameError(y,U){const q=this.nsec.lower(y);return q&&this.push(q,a.NSEC,U),this.proveNoData(U),this}query(y,U){e(Q.isFQDN(y)),e((U&65535)===U);const q=Q.split(y),k=Q.from(y,q,-this.count),o=Q.equal(k,this.origin);let[h,z,J]=this.find(y,U),M;if(h.length>0)return o?[h,J,z,!0,!0]:U===a.NS?(this.push(y,a.DS,h),[[],h,z,!1,!0]):[h,[],z,!1,!0];if(o){const G=this.get(this.origin,a.SOA);return this.proveNoData(G),[[],G,[],!0,!1]}const X=this.count+1,B=Q.from(y,q,-X);if([J,M]=this.find(B,a.NS),J.length===0){let G=[];return this.origin==="."&&(G=this.get(this.origin,a.SOA),this.proveNameError(B,G)),[[],G,[],!1,!1]}return this.push(B,a.DS,J),[[],J,M,!1,!0]}resolve(y,U){e(Q.isFQDN(y)),e((U&65535)===U);const q=y.toLowerCase(),k=U===a.ANY?a.NS:U,[o,h,z,J,M]=this.query(q,k),X=new n;return!J&&!M&&(X.code=s.NXDOMAIN),X.aa=J,X.answer=o,X.authority=h,X.additional=z,X}fromString(y,U){const q=P.fromZone(y,this.origin,U);for(const k of q)this.insert(k);return this}static fromString(y,U,q){return new this(y).fromString(U,q)}fromFile(y){const U=S.readFileSync(y,"utf8");return this.fromString(U,y)}static fromFile(y,U){return new this(y).fromFile(U)}}class m{constructor(y){this.rrs=new Map,this.sigs=new Map,this.zone=y}clear(){return this.rrs.clear(),this.sigs.clear(),this}insert(y){switch(e(y instanceof p),this.rrs.has(y.type)||this.rrs.set(y.type,[]),this.rrs.get(y.type).push(y),y.type){case a.RRSIG:{const{typeCovered:q}=y.data;this.sigs.has(q)||this.sigs.set(q,[]),this.sigs.get(q).push(y);break}}return this}filterMatches(y,U){const q=[];for(const k of U){if(!R(k.name)){q.push(k);continue}const o=Q.splitName(y),h=Q.splitName(k.name);if(o.length<h.length)continue;h.shift();let z=!0;for(let J=1;J<=h.length;J++)if(h[h.length-J]!==o[o.length-J]){z=!1;break}!z||q.push(k)}return q}push(y,U,q){if(e(Q.isFQDN(y)),e((U&65535)===U),e(Array.isArray(q)),U!==a.CNAME){let o=this.rrs.get(a.CNAME);if(o&&o.length>0){o=this.filterMatches(y,o);for(const z of o)q.push(O(y,z));let h=this.sigs.get(a.CNAME);if(h){h=this.filterMatches(y,h);for(const z of h)q.push(O(y,z))}if(!h&&this.zone.zskkey&&this.zone.zskpriv){const z=g.sign(this.zone.zskkey,this.zone.zskpriv,q);q.push(z)}return this}}let k=this.rrs.get(U);if(k&&k.length>0){k=this.filterMatches(y,k);for(const h of k)q.push(O(y,h));let o=this.sigs.get(U);if(o){o=this.filterMatches(y,o);for(const h of o)q.push(O(y,h))}if(!o&&this.zone.zskkey&&this.zone.zskpriv){const h=g.sign(this.zone.zskkey,this.zone.zskpriv,q);q.push(h)}}return this}get(y,U){const q=[];return this.push(y,U,q),q}}class _{constructor(){this.names=[]}clear(){return this.names.length=0,this}insert(y){return T(this.names,y)}lower(y){return N(this.names,y)}}function E(A,y,U,q){let k=0,o=A.length-1;for(;k<=o;){const h=k+o>>>1,z=U(A[h],y);if(z===0)return h;z<0?k=h+1:o=h-1}return q?k:-1}function d(A,y,U,q){const k=E(A,y,U,!0);return q&&k<A.length&&U(A[k],y)===0?-1:(k===0?A.unshift(y):k===A.length?A.push(y):A.splice(k,0,y),k)}function T(A,y){return e(Array.isArray(A)),e(typeof y=="string"),d(A,y,Q.compare,!0)!==-1}function N(A,y){if(e(Array.isArray(A)),e(typeof y=="string"),A.length===0)return null;const U=E(A,y,Q.compare,!0),q=A[U],k=Q.compare(q,y);if(k===0)throw new Error("Not an NXDOMAIN.");return k<0?q:U===0?null:A[U-1]}function R(A){return e(typeof A=="string"),A.length<2?!1:A[0]==="*"&&A[1]==="."}function O(A,y){return R(y.name)&&(y=y.clone(),y.name=A),y}C.exports=w}],["bns-plus","/lib/roothints.js",function(f,Le,C,Fe,He,Ve){C.exports=`
;
; Root Zone
;

. 3600000 IN NS A.ROOT-SERVERS.NET.
A.ROOT-SERVERS.NET. 3600000 IN A 198.41.0.4
A.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:503:ba3e::2:30

. 3600000 IN NS B.ROOT-SERVERS.NET.
B.ROOT-SERVERS.NET. 3600000 IN A 199.9.14.201
B.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:500:200::b

. 3600000 IN NS C.ROOT-SERVERS.NET.
C.ROOT-SERVERS.NET. 3600000 IN A 192.33.4.12
C.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:500:2::c

. 3600000 IN NS D.ROOT-SERVERS.NET.
D.ROOT-SERVERS.NET. 3600000 IN A 199.7.91.13
D.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:500:2d::d

. 3600000 IN NS E.ROOT-SERVERS.NET.
E.ROOT-SERVERS.NET. 3600000 IN A 192.203.230.10
E.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:500:a8::e

. 3600000 IN NS F.ROOT-SERVERS.NET.
F.ROOT-SERVERS.NET. 3600000 IN A 192.5.5.241
F.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:500:2f::f

. 3600000 IN NS G.ROOT-SERVERS.NET.
G.ROOT-SERVERS.NET. 3600000 IN A 192.112.36.4
G.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:500:12::d0d

. 3600000 IN NS H.ROOT-SERVERS.NET.
H.ROOT-SERVERS.NET. 3600000 IN A 198.97.190.53
H.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:500:1::53

. 3600000 IN NS I.ROOT-SERVERS.NET.
I.ROOT-SERVERS.NET. 3600000 IN A 192.36.148.17
I.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:7fe::53

. 3600000 IN NS J.ROOT-SERVERS.NET.
J.ROOT-SERVERS.NET. 3600000 IN A 192.58.128.30
J.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:503:c27::2:30

. 3600000 IN NS K.ROOT-SERVERS.NET.
K.ROOT-SERVERS.NET. 3600000 IN A 193.0.14.129
K.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:7fd::1

. 3600000 IN NS L.ROOT-SERVERS.NET.
L.ROOT-SERVERS.NET. 3600000 IN A 199.7.83.42
L.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:500:9f::42

. 3600000 IN NS M.ROOT-SERVERS.NET.
M.ROOT-SERVERS.NET. 3600000 IN A 202.12.27.33
M.ROOT-SERVERS.NET. 3600000 IN AAAA 2001:dc3::35

;
; Trust Anchors
;

. 172800 IN DS 19036 8 2 49AAC11D7B6F6446702E54A1607371607A1A41855200FD2CE1CDDE32F24E8FB5
. 172800 IN DS 20326 8 2 E06D44B80B8F1D39A95C0B0D7C65D08458E880409BBC683457104237C7F8EC8D
`}],["bns-plus","/lib/cache.js",function(f,Le,C,Fe,He,Ve){/*!
 * cache.js - resolver cache for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on solvere:
 *   https://github.com/rolandshoemaker/solvere
 */const e=ce(2,C),S=ce(110,C),oe=ce(14,C),Q=ce(90,C),P=ce(79,C),{Message:g,Question:u}=Q;class H{constructor(){this.map=new Map,this.queue=new S((p,v)=>p[1]-v[1]),this.size=0,this.maxSize=5<<20}get(p){return this.map.get(p)||null}has(p){return this.map.has(p)}set(p,v){return this.map.set(p,v),this}remove(p){return this.map.delete(p),this}hash(p,v){const K=p.name.toLowerCase(),w=p.type.toString(10),m=v.toLowerCase();return`${K};${w};${m}`}prune(){for(;this.size>this.maxSize;){const[p,v]=this.queue.shift(),K=this.get(p);K&&K.deadline()===v&&(this.size-=K.usage(p),this.remove(p)),this.size-=s(p)}return this}insert(p,v,K,w,m=!1){e(p instanceof u),e(typeof v=="string"),e(K instanceof g),e(typeof w=="boolean"),e(typeof m=="boolean");const _=this.hash(p,v),E=K.minTTL();if(E===0)return this;const d=this.get(_);if(d){if(d.eternal)return this;const R=K.encode();return this.size-=d.usage(_),d.msg=R,d.setAD(w),d.time=P.now(),d.ttl=E,this.size+=d.usage(_),this.size+=s(_),this.queue.insert([_,d.deadline()]),this.prune(),this}const T=K.encode(),N=new a(T);return N.setAD(w),N.time=P.now(),N.ttl=E,N.eternal=m,this.set(_,N),this.size+=N.usage(_),m||(this.size+=s(_),this.queue.insert([_,N.deadline()]),this.prune()),this}hit(p,v){e(p instanceof u),e(typeof v=="string");const K=this.hash(p,v),w=this.get(K);if(!w)return null;const m=P.now();if(w.expired(m))return this.size-=w.usage(K),this.remove(K),null;const _=g.decode(w.msg),E=m-w.time;e(E>=0);for(const d of _.records())if(!d.isOPT()&&d.ttl!==0){if(d.ttl<=E){d.ttl=1;continue}d.ttl-=E}return _}}class a{constructor(p){e(p!=null&&p._isBuffer===!0),this.msg=p,this.time=0,this.ttl=0,this.eternal=!1}deadline(){return this.eternal?4294967295:this.time+this.ttl}usage(p){let v=0;return v+=p.length*2,v+=80+this.msg.length,v+=8*3,v}setAD(p){let v=oe.readU16BE(this.msg,2);p?v|=Q.flags.AD:v&=~Q.flags.AD,oe.writeU16BE(this.msg,v,2)}expired(p){return p<this.time?!0:this.eternal?!1:p>=this.deadline()}}function s(n){return n.length*2+20}C.exports=H}],["bheep","/lib/bheep.js",function(f,Le,C,Fe,He,Ve){C.exports=ce(111,C)}],["bheep","/lib/heap.js",function(f,Le,C,Fe,He,Ve){/*!
 * heap.js - heap object for bcoin
 * Copyright (c) 2017-2018, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcoin
 */const e=ce(2,C);class S{constructor(P){this.compare=oe,this.items=[],P&&this.set(P)}init(){const P=this.items.length;if(!(P<=1))for(let g=(P/2|0)-1;g>=0;g--)this.down(g,P)}size(){return this.items.length}set(P){e(typeof P=="function","Comparator must be a function."),this.compare=P}insert(P){return this.items.push(P),this.up(this.items.length-1),this.items.length}shift(){if(this.items.length===0)return null;const P=this.items.length-1;return this.swap(0,P),this.down(0,P),this.items.pop()}remove(P){if(this.items.length===0)return null;const g=this.items.length-1;return P<0||P>g?null:(g!==P&&(this.swap(P,g),this.down(P,g),this.up(P)),this.items.pop())}swap(P,g){const u=this.items[P],H=this.items[g];this.items[P]=H,this.items[g]=u}less(P,g){return this.compare(this.items[P],this.items[g])<0}down(P,g){for(;;){const u=2*P+1;if(e(u>=0),u<0||u>=g)break;let H=u;const a=u+1;if(a<g&&!this.less(u,a)&&(H=a),!this.less(H,P))break;this.swap(P,H),P=H}}up(P){for(;;){const g=(P-1)/2|0;if(e(g>=0),g<0||g===P||!this.less(P,g))break;this.swap(g,P),P=g}}toArray(){const P=new S,g=[];for(P.compare=this.compare,P.items=this.items.slice();P.size()>0;)g.push(P.shift());return g}static fromArray(P,g){const u=new S;return u.set(P),u.items=g,u.init(),u}}function oe(Q,P){throw new Error("No heap comparator set.")}C.exports=S}],["bns-plus","/lib/dns.js",function(f,Le,C,Fe,He,Ve){/*!
 * dns.js - replacement dns node.js module
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(1,C),S=ce(113,C),oe=ce(91,C),Q=ce(114,C);let P=null,g=null;function u(H,a){P||(P=oe.fromSystem()),g||(g=S.fromSystem());const s=new Q(H);return H.conf||(s.conf=P.clone()),H.hosts||(s.hosts=g.clone()),a&&s.setServers(a),s}C.exports=e.make(u,{tcp:!0,edns:!1,dnssec:!1})}],["bns-plus","/lib/hosts.js",function(f,Le,C,Fe,He,Ve){/*!
 * hosts.js - hosts file for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(87,C),oe=ce(84,C),Q=ce(4,C),P=ce(80,C),g=ce(90,C),u=ce(79,C),{Record:H,ARecord:a,AAAARecord:s,PTRRecord:n,types:p,classes:v}=g;class K{constructor(){this.map=new Map,this.rev=new Map}inject(E){e(E instanceof this.constructor),this.map.clear();for(const[d,T]of E.map)this.map.set(d,T.clone());this.rev.clear();for(const[d,T]of E.rev)this.rev.set(d,T);return this}clone(){return new this.constructor().inject(this)}clear(){return this.clearHosts(),this}getSystem(){if(Vt.platform==="win32"){const E=Vt.env.SystemRoot||"C:\\Windows";return S.join(E,"\\System32\\Drivers\\etc\\hosts")}return"/etc/hosts"}getHosts(){const E=[];for(const[d,T]of this.map)T.inet4&&E.push([d,T.inet4]),T.inet6&&E.push([d,T.inet6]);return E}setHosts(E){e(Array.isArray(E)),this.clearHosts();for(const d of E){e(Array.isArray(d)&&d.length===2);const[T,N]=d;this.addHost(T,N)}return this}clearHosts(){return this.map.clear(),this.rev.clear(),this}setDefault(){return this.setLocal()}setLocal(){return this.clearHosts(),this.addHost("localhost","127.0.0.1"),this.addHost("localhost","::1"),this}addHost(E,d,T=null){if(e(typeof E=="string"),e(typeof d=="string"),e(T===null||typeof T=="string"),E=E.toLowerCase(),E=u.fqdn(E),!u.isName(E))throw new Error("Invalid name.");let N=!1;if(u.endsWith(E,".localdomain.")&&(E=E.slice(0,-12),N=!0),T&&(T=T.toLowerCase(),T=u.fqdn(T),!u.isName(T)))throw new Error("Invalid hostname.");let R=this.map.get(E);R||(R=new w);const O=Q.toBuffer(d),A=Q.toString(O),y=P.reverse(A);return R.name=E,Q.isIPv4(O)?R.inet4=A:R.inet6=A,R.hostname=T,R.local=N,this.map.set(E,R),this.rev.set(y,E),this}lookup(E){const d=E.toLowerCase(),T=this.rev.get(d);return T?[this.map.get(T),!0]:[this.map.get(d),!1]}query(E,d){e(typeof E=="string"),e((d&65535)===d);const[T,N]=this.lookup(E);if(!T)return null;const R=[];if(N){if(d===p.PTR||d===p.ANY){const O=new H,A=new n;O.name=E,O.class=v.IN,O.ttl=10800,O.type=p.PTR,O.data=A,A.ptr=T.name,R.push(O)}return R}if((d===p.A||d===p.ANY)&&T.inet4){const O=new H,A=new a;O.name=E,O.class=v.IN,O.ttl=10800,O.type=p.A,O.data=A,A.address=T.inet4,R.push(O)}if((d===p.AAAA||d===p.ANY)&&T.inet6){const O=new H,A=new s;O.name=E,O.class=v.IN,O.ttl=10800,O.type=p.AAAA,O.data=A,A.address=T.inet6,R.push(O)}return R}toString(){let E="";E+=`#
`,E+=`# /etc/hosts: static lookup table for host names
`,E+=`# (generated by bns)
`,E+=`#
`,E+=`
`,E+=`# <ip-address> <hostname.domain.org> <hostname>
`;for(const d of this.map.values())E+=d.toString();return E+=`
`,E+=`# End of file
`,E}fromString(E){e(typeof E=="string"),E=E.toLowerCase();const d=u.splitLines(E,!0);for(const T of d){const N=m(T);if(N.length===0)continue;const R=u.splitSP(N),O=R[0];let A=null;R.length>2&&(A=R.pop());for(let y=1;y<R.length;y++){const U=R[y];try{this.addHost(U,O,A)}catch{continue}}}return this}static fromString(E){return new this().fromString(E)}fromFile(E){e(typeof E=="string");const d=oe.readFileSync(E,"utf8");return this.fromString(d)}static fromFile(E){return new this().fromFile(E)}fromSystem(){const E=this.getSystem();try{return this.fromFile(E)}catch{return this.setLocal()}}static fromSystem(){return new this().fromSystem()}async fromFileAsync(E){e(typeof E=="string");const d=await oe.readFile(E,"utf8");return this.fromString(d)}static fromFileAsync(E){return new this().fromFileAsync(E)}async fromSystemAsync(){const E=this.getSystem();try{return await this.fromFileAsync(E)}catch{return this.setLocal()}}static fromSystemAsync(){return new this().fromSystemAsync()}}class w{constructor(){this.name="localhost",this.inet4=null,this.inet6=null,this.hostname=null,this.local=!0}inject(E){return e(E instanceof this.constructor),this.name=E.name,this.inet4=E.inet4,this.inet6=E.inet6,this.hostname=E.hostname,this.local=E.local,this}clone(){return new this.constructor().inject(this)}toString(){let E="",d=u.trimFQDN(this.name),T="";return this.local&&(d+=".localdomain"),this.hostname&&(T=` ${u.trimFQDN(this.hostname)}`),this.inet4&&(E+=`${this.inet4} ${d}${T}
`),this.inet6&&(E+=`${this.inet6} ${d}${T}
`),E}}function m(_){return e(typeof _=="string"),_.replace(/[ \t\v]*#.*$/g,"")}C.exports=K}],["bns-plus","/lib/resolver/stub.js",function(f,Le,C,Fe,He,Ve){/*!
 * stub.js - stub dns resolver for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(11,C),oe=ce(115,C),Q=ce(80,C),P=ce(113,C),g=ce(91,C),u=ce(79,C),H=ce(90,C),{MAX_EDNS_SIZE:a}=S,{Message:s,Question:n,opcodes:p,types:v,codes:K}=H;class w extends oe{constructor(_){super(_),this.rd=!0,this.cd=!1,this.conf=new g,this.hosts=new P,this.initOptions(_)}initOptions(_){return _==null?this:(this.parseOptions(_),_.conf!=null&&(e(_.conf instanceof g),this.conf=_.conf),_.hosts!=null&&(Array.isArray(_.hosts)?this.hosts.setHosts(_.hosts):(e(_.hosts instanceof P),this.hosts=_.hosts)),_.rd!=null&&(e(typeof _.rd=="boolean"),this.rd=_.rd),_.cd!=null&&(e(typeof _.cd=="boolean"),this.cd=_.cd),_.servers!=null&&(e(Array.isArray(_.servers)),this.conf.setServers(_.servers)),this)}getRaw(){return this.conf.getRaw(this.inet6)}getServers(){return this.conf.getServers()}setServers(_){return this.conf.setServers(_),this}getHosts(){return this.hosts.getHosts()}setHosts(_){return this.hosts.setHosts(_),this}async resolve(_){e(_ instanceof n);const{name:E,type:d}=_,T=this.hosts.query(E,d);if(T){const N=new s;return N.id=u.id(),N.opcode=p.QUERY,N.code=K.NOERROR,N.qr=!0,N.rd=!0,N.ra=!0,N.ad=!0,N.question=[_],N.answer=T,this.edns&&N.setEDNS(a,this.dnssec),N}return this.query(_,this.getRaw())}async lookup(_,E){const d=new n(_,E);return this.resolve(d)}async reverse(_){const E=Q.reverse(_);return this.lookup(E,v.PTR)}}C.exports=w}],["bns-plus","/lib/resolver/dns.js",function(f,Le,C,Fe,He,Ve){/*!
 * resolver.js - dns resolver for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(3,C),oe=ce(4,C),Q=ce(14,C),P=ce(11,C),g=ce(80,C),{Client:u}=ce(102,C),H=ce(79,C),a=ce(90,C),{DNS_PORT:s,MAX_UDP_SIZE:n,MAX_EDNS_SIZE:p,STD_EDNS_SIZE:v}=P,{Message:K,Question:w,opcodes:m,types:_,codes:E}=a;class d extends S{constructor(A){super(),this.socket=new u(A),this.pending=new Map,this.timer=null,this.inet6=this.socket.inet6,this.tcp=this.socket.tcp,this.forceTCP=!1,this.maxAttempts=3,this.maxTimeout=2e3,this.rd=!1,this.cd=!1,this.edns=!1,this.ednsSize=p,this.dnssec=!1,this.init()}init(){this.on("error",()=>{}),this.socket.on("close",()=>{this.emit("close")}),this.socket.on("error",A=>{this.emit("error",A)}),this.socket.on("listening",()=>{this.emit("listening")}),this.socket.on("message",(A,y)=>{try{this.handle(A,y)}catch(U){this.emit("error",U)}})}parseOptions(A){return A==null?this:(e(A&&typeof A=="object"),A.forceTCP!=null&&(e(typeof A.forceTCP=="boolean"),this.forceTCP=A.forceTCP),A.maxAttempts!=null&&(e(A.maxAttempts>>>0===A.maxAttempts),this.maxAttempts=A.maxAttempts),A.maxTimeout!=null&&(e(A.maxTimeout>>>0===A.maxTimeout),this.maxTimeout=A.maxTimeout),A.edns!=null&&(e(typeof A.edns=="boolean"),this.edns=A.edns),A.ednsSize!=null&&(e(A.ednsSize>>>0===A.ednsSize),e(A.ednsSize>=n),e(A.ednsSize<=p),this.ednsSize=A.ednsSize),A.dnssec!=null&&(e(typeof A.dnssec=="boolean"),this.dnssec=A.dnssec,this.dnssec&&(this.edns=!0)),this)}initOptions(A){return this.parseOptions(A)}log(...A){this.emit("log",...A)}async open(...A){return await this.socket.bind(...A),this.edns?(this.socket.setRecvBufferSize(this.ednsSize),this.socket.setSendBufferSize(this.ednsSize)):(this.socket.setRecvBufferSize(n),this.socket.setSendBufferSize(n)),this.timer=an(()=>this.maybeRetry(),1e3),this.timer.unref&&this.timer.unref(),this}async close(){return await this.socket.close(),this.timer!=null&&(tn(this.timer),this.timer=null),this.cancel(),this}cancel(){const A=this.pending;this.pending=new Map;for(const y of A.values()){y.unref();try{y.reject(new Error("Request cancelled."))}catch(U){this.emit("error",U)}}return this}async bind(...A){return this.open(...A)}maybeRetry(){const A=Date.now();for(const y of this.pending.values())A>y.time+this.maxTimeout&&this.retry(y,!0,!1,!0)}verify(A,y,U){return!0}useTCP(A,y){return this.forceTCP?(e(this.tcp),!0):this.tcp?this.rd&&A===_.ANY?!0:this.edns?y>this.ednsSize:y>n:!1}retry(A,y,U,q){let k=A.server;if(A.unref(),k.tcp){const{port:X,host:B}=k;this.socket.kill(X,B)}if(A.attempts>=this.maxAttempts){this.pending.delete(A.id),A.res?A.resolve(A.res):A.reject(new Error("Request timed out."));return}y&&(k=A.nextServer(k.tcp),this.log("Switched servers to: %s (%d).",k.host,A.id)),this.tcp&&U&&(k.tcp=!0);let o=A.req;q&&A.attempts===this.maxAttempts-1&&(this.tcp?(k.tcp=!0,this.log("Last attempt over TCP (%s): %d.",k.host,A.id)):o.edns.enabled&&o.edns.size>v&&(o=o.clone(),o.edns.size=v,this.log("Last attempt w/ small EDNS (%s): %d.",k.host,A.id)));const{port:h,host:z,tcp:J}=k,M=o.encode();this.socket.send(M,0,M.length,h,z,J),this.log("Retrying (%s): %d (tcp=%s)...",z,A.id,J),A.ref(),A.time=Date.now(),A.attempts+=1}handle(A,y){if(y.tcp){const{port:J,address:M}=y;this.socket.drop(J,M)}if(A.length<2){this.log("Malformed message (%s).",y.address);return}const U=Q.readU16BE(A,0),q=this.pending.get(U);if(!q){this.log("Unsolicited message (%s): %d.",y.address,U);return}const{host:k,port:o}=q.server;if(y.address!==k||o!==y.port){this.log("Possible reflection attack (%s != %s): %d.",y.address,k,U);return}q.unref();let{req:h}=q,z=null;try{z=K.decode(A)}catch(J){this.log("Message %d failed deserialization (%s):",U,y.address),this.log(J.stack),this.pending.delete(U),q.reject(new Error("Encoding error."));return}if(!z.qr){this.pending.delete(U),q.reject(new Error("Not a response."));return}if(!N(h,z)){this.pending.delete(U),q.reject(new Error("Invalid question."));return}if(this.tcp&&z.tc){if(y.tcp){this.pending.delete(U),q.reject(new Error("Truncated TCP msg."));return}this.log("Retrying over TCP (%s): %d.",k,U),this.retry(q,!1,!0,!1);return}if(z.opcode!==m.QUERY){this.pending.delete(U),q.reject(new Error("Unexpected opcode."));return}if((z.code===E.FORMERR||z.code===E.NOTIMP||z.code===E.SERVFAIL)&&!z.isEDNS()&&h.isEDNS()){h=h.clone(),h.unsetEDNS(),q.req=h,q.res=z,this.log("Retrying without EDNS (%s): %d.",k,U),this.retry(q,!1,!1,!1);return}if(z.code===E.FORMERR){this.pending.delete(U),q.reject(new Error("Format error."));return}if(z.code===E.SERVFAIL){q.res=z,this.log("Retrying due to failure (%s): %d.",k,U),this.retry(q,!0,!1,!1);return}if(!this.verify(A,k,o)){this.pending.delete(U),q.reject(new Error("Could not verify response."));return}this.pending.delete(U),q.resolve(z)}async exchange(A,y){e(A instanceof K),e(Array.isArray(y)),e(A.question.length>0);const[U]=A.question;if(!H.isName(U.name))throw new Error("Invalid qname.");if(y.length===0)throw new Error("No servers available.");A.id=H.id(),A.qr=!1;const q=A.encode(),k=this.useTCP(U.type,q.length),o=new T(A,y,k),{port:h,host:z}=o.server;return this.log("Querying server: %s (%d) (tcp=%s)",z,A.id,k),this.socket.send(q,0,q.length,h,z,k),this.pending.set(o.id,o),o.ref(),new Promise((J,M)=>{o.resolve=J,o.reject=M})}async query(A,y){e(A instanceof w),e(Array.isArray(y));const U=new K;return U.opcode=m.QUERY,U.rd=this.rd,U.cd=this.cd,U.question.push(A),this.edns&&(U.setEDNS(this.ednsSize,this.dnssec),this.rd&&U.edns.setCookie(H.cookie())),this.rd&&(U.ad=!0),this.exchange(U,y)}async lookup(A,y,U){const q=new w(A,y);return this.query(q,U)}async reverse(A,y){const U=g.reverse(A);return this.lookup(U,_.PTR,y)}}class T{constructor(A,y,U){e(A instanceof K),e(Array.isArray(y)),e(y.length>0),e(typeof U=="boolean"),this.id=A.id,this.req=A,this.index=0,this.servers=H.sortRandom(y),this.resolve=null,this.reject=null,this.attempts=1,this.res=null,this.server=null,this.time=Date.now(),this.timer=null,this.nextServer(U)}ref(){this.timer==null&&(this.timer=an(R,2147483647))}unref(){this.timer!=null&&tn(this.timer),this.timer=null}getServer(A,y){e(A>>>0<this.servers.length),e(typeof y=="boolean");const U=this.servers[A];let q;if(typeof U=="string")q=oe.fromHost(U,s);else{if(!U||typeof U!="object")throw new Error("Bad address passed to query.");q=U}const k=q.address||q.host,o=q.port||s;if(!H.isIP(k))throw new Error("Bad address passed to query.");if((o&65535)!==o)throw new Error("Bad address passed to query.");return{host:oe.normalize(k),port:o,tcp:y}}nextServer(A){return e(this.index<this.servers.length),this.index+=1,this.index===this.servers.length&&(this.index=0),this.server=this.getServer(this.index,A),this.server}}function N(O,A){switch(A.code){case E.NOTIMP:case E.FORMERR:case E.NXRRSET:if(A.question.length===0)break;case E.BADCOOKIE:case E.NOERROR:case E.NXDOMAIN:case E.YXDOMAIN:case E.REFUSED:case E.SERVFAIL:default:if(A.question.length===0)return!!A.tc;if(A.question.length>1||!A.question[0].equals(O.question[0]))return!1;break}return!0}function R(){}C.exports=d}],["bns-plus","/lib/hints.js",function(f,Le,C,Fe,He,Ve){/*!
 * hints.js - root hints object for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on solvere:
 *   https://github.com/rolandshoemaker/solvere
 */const e=ce(2,C),S=ce(84,C),oe=ce(4,C),Q=ce(96,C),P=ce(11,C),g=ce(99,C),u=ce(79,C),H=ce(90,C),{DNS_PORT:a}=P,{types:s,classes:n,Record:p,NSRecord:v,ARecord:K,AAAARecord:w}=H,m=ce(108,C);class _{constructor(){this.ns=[],this.inet4=new Map,this.inet6=new Map,this.anchors=[],this.port=a}inject(d){e(d instanceof this.constructor),this.ns=d.ns.slice(),this.inet4.clear();for(const[T,N]of d.inet4)this.inet4.set(T,N);this.inet6.clear();for(const[T,N]of d.inet6)this.inet6.set(T,N);return this.anchors=d.anchors.slice(),this.port=d.port,this}clone(){return new this.constructor().inject(this)}clear(){return this.ns.length=0,this.inet4.clear(),this.inet6.clear(),this.anchors.length=0,this.port=a,this}getSystem(){return Vt.platform==="win32"?null:"/var/named/root.hint"}setDefault(){return this.setRoot()}setLocal(){return this.clear(),this.ns.push("hints.local."),this.inet4.set("hints.local.","127.0.0.1"),this.inet6.set("hints.local.","::1"),this}setRoot(){return this.clear(),this.fromRoot()}addServer(d,T){if(!u.isName(d))throw new Error("Invalid name.");if(!u.isIP(T))throw new Error("Invalid IP.");d=d.toLowerCase(),d=u.fqdn(d),this.ns.indexOf(d)===-1&&this.ns.push(d);const N=oe.toBuffer(T);return oe.isIPv4(N)?this.inet4.set(d,oe.toString(N)):this.inet6.set(d,oe.toString(N)),this}removeServer(d){if(!u.isName(d))throw new Error("Invalid name.");d=d.toLowerCase(),d=u.fqdn(d);const T=this.ns.indexOf(d);return T===-1?this:(this.ns.splice(T,1),this.inet4.delete(d),this.inet6.delete(d),this)}addAnchor(d){if(typeof d=="string"&&(d=p.fromString(d)),e(d instanceof p),d.type===s.DNSKEY&&(d=g.createDS(d,g.hashes.SHA256)),e(d.type===s.DS),d.name!==".")throw new Error("Invalid anchor name.");if(d.class!==n.IN)throw new Error("Invalid anchor class.");return d=d.clone(),d.ttl===0&&(d.ttl=36e5),this.anchors.push(d),this}removeAnchor(d){typeof d=="string"&&(d=p.fromString(d)),e(d instanceof p),d.type===s.DNSKEY&&(d=g.createDS(d,g.hashes.SHA256)),e(d.type===s.DS);const T=d.data.encode();let N;for(N=0;N<this.anchors.length&&!this.anchors[N].data.encode().equals(T);N++);return N===this.anchors.length?this:(this.anchors.splice(N,1),this)}getAuthority(d){if(this.ns.length===0)throw new Error("No nameservers available.");const T=new Q(".","hints.local.");for(const N of this.ns){if(d){const O=this.inet6.get(N);O&&T.add(O,this.port)}const R=this.inet4.get(N);R&&T.add(R,this.port)}return e(T.servers.length>0),T}_toRecord(d){const T=[],N=this.inet4.get(d),R=this.inet6.get(d),O=new p,A=new v;if(O.name=".",O.ttl=36e5,O.type=s.NS,O.data=A,A.ns=d.toUpperCase(),T.push(O),N){const y=new p,U=new K;y.name=d.toUpperCase(),y.ttl=36e5,y.type=s.A,y.data=U,U.address=N,T.push(y)}if(R){const y=new p,U=new w;y.name=d.toUpperCase(),y.ttl=36e5,y.type=s.AAAA,y.data=U,U.address=R,T.push(y)}return T}toRecords(){const d=[];for(const T of this.ns)for(const N of this._toRecord(T))d.push(N);for(const T of this.anchors)d.push(T);return d}toString(){let d="";return d+=this.toHintString(),this.anchors.length>0&&(d+=this.toAnchorString()),d}toHintString(){let d="";d+=`;
`,d+=`; Root Zone
`,d+=`; (generated by bns)
`,d+=`;
`,d+=`
`;for(const T of this.ns){for(const N of this._toRecord(T))d+=`${N.toString()}
`;d+=`
`}return d}toAnchorString(){let d="";d+=`;
`,d+=`; Trust Anchors
`,d+=`;
`,d+=`
`;for(const T of this.anchors)d+=`${T.toString()}
`;return d}fromRecords(d){for(const T of d){const N=T.name.toLowerCase();switch(T.type){case s.A:{this.inet4.set(N,T.data.address);break}case s.AAAA:{this.inet6.set(N,T.data.address);break}}}for(const T of d)if(T.name.toLowerCase()===".")switch(T.type){case s.NS:{const R=T.data.ns.toLowerCase();(this.inet4.has(R)||this.inet6.has(R))&&this.ns.push(R);break}case s.DS:{this.anchors.push(T.clone());break}case s.DNSKEY:{const R=g.createDS(T,g.hashes.SHA256);this.anchors.push(R);break}}return this}static fromRecords(d){return new this().fromRecords(d)}fromString(d){const T=H.fromZone(d);return this.fromRecords(T)}static fromString(d){return new this().fromString(d)}fromJSON(d){e(Array.isArray(d));const T=[];for(const N of d)T.push(p.fromJSON(N));return this.fromRecords(T)}static fromJSON(d){return new this().fromJSON(d)}fromRoot(){return this.fromString(m)}static fromRoot(){return new this().fromRoot()}fromFile(d){e(typeof d=="string");const T=S.readFileSync(d,"utf8");return this.fromString(T)}static fromFile(d){return new this().fromFile(d)}fromSystem(){const d=this.getSystem();if(d)try{this.fromFile(d)}catch{this.setDefault()}else this.setDefault();return this}static fromSystem(){return new this().fromSystem()}async fromFileAsync(d){e(typeof d=="string");const T=await S.readFile(d,"utf8");return this.fromString(T)}static fromFileAsync(d){return new this().fromFileAsync(d)}async fromSystemAsync(){const d=this.getSystem();if(d)try{await this.fromFileAsync(d)}catch{this.setDefault()}else this.setDefault();return this}static fromSystemAsync(){return new this().fromSystemAsync()}}C.exports=_}],["bns-plus","/lib/hsig.js",function(f,Le,C,Fe,He,Ve){/*!
 * hsig.js - HSIG for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(118,C),oe=ce(121,C),Q=ce(123,C),P="blake2bsecp256k1.",g=21600,u=f;u.createPrivate=function(){return S.privateKeyGenerate()},u.createPrivateAsync=u.createPrivate,u.createPublic=function(a){return S.publicKeyCreate(a)},u.makeKey=function(a){const s=S.publicKeyCreate(a);return u.createKey(s)},u.createKey=function(a){return Q.createKey(Q.algs.PRIVATEDNS,a,P)},u.sign=function(a,s){e(a!=null&&a._isBuffer===!0),e(s!=null&&s._isBuffer===!0&&s.length===32);const n=S.publicKeyCreate(s,!0),p=u.createKey(n),v=g;return Q.sign(a,p,s,v,(K,w)=>{const m=oe.digest(w);return S.sign(m,K)})},u.verify=function(a,s){e(a!=null&&a._isBuffer===!0),e(s!=null&&s._isBuffer===!0&&s.length===33);const n=u.createKey(s);return Q.verify(a,n,(p,v,K)=>{const w=oe.digest(K),m=p.data.signature,E=v.data.publicKey.slice(P.length+1);return S.verify(w,m,E)})},u.SIG0_ALGO_NAME=P}],["bcrypto","/lib/secp256k1-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * secp256k1.js - secp256k1 for bcrypto
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(119,C)}],["bcrypto","/lib/js/secp256k1.js",function(f,Le,C,Fe,He,Ve){/*!
 * secp256k1.js - secp256k1 for bcrypto
 * Copyright (c) 2014-2015, Fedor Indutny (MIT License)
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */const e=ce(60,C),S=ce(33,C),oe=ce(120,C);C.exports=new e("SECP256K1",S,S,oe)}],["bcrypto","/lib/js/precomputed/secp256k1.json",function(f,Le,C,Fe,He,Ve){C.exports={naf:{width:9,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","0ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","02de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","02972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","0d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["049370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","091b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","0673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","0a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","09414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["078c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","04f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","073867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["0336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","060660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","0b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["04e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["0c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","021ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","0c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","09731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","0cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","0712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]},doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","04e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["06f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["0948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","0e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","067c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["0928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","0d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["08ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]}}}],["bcrypto","/lib/blake2b-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * blake2b.js - blake2b for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */C.exports=ce(122,C)}],["bcrypto","/lib/js/blake2b.js",function(f,Le,C,Fe,He,Ve){/*!
 * blake2b.js - BLAKE2b implementation for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on dcposch/blakejs:
 *   Daniel Clemens Posch (CC0)
 *   https://github.com/dcposch/blakejs/blob/master/blake2b.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/BLAKE_(hash_function)
 *   https://tools.ietf.org/html/rfc7693
 */const e=ce(24,C),S=ce(27,C),oe=2147483648,Q=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),P=new Uint8Array([0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6,22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8,14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16,18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26,4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18,24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22,26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20,12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10,20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]);class g{constructor(){this.state=new Uint32Array(16),this.V=new Uint32Array(32),this.M=new Uint32Array(32),this.block=_e.alloc(128),this.size=32,this.count=0,this.pos=oe}init(p,v){if(p==null&&(p=32),e(p>>>0===p),e(v==null||v!=null&&v._isBuffer===!0),p===0||p>64)throw new Error("Bad output length.");if(v&&v.length>64)throw new Error("Bad key length.");const K=v?v.length:0;for(let w=0;w<16;w++)this.state[w]=Q[w];if(this.size=p,this.count=0,this.pos=0,this.state[0]^=16842752^K<<8^this.size,K>0){const w=_e.alloc(128,0);v.copy(w,0),this.update(w)}return this}update(p){e(p!=null&&p._isBuffer===!0),e(!(this.pos&oe),"Context is not initialized.");let v=0,K=p.length;if(K>0){const w=this.pos,m=128-w;if(K>m)for(this.pos=0,p.copy(this.block,w,v,v+m),this.count+=128,this._compress(this.block,0,!1),v+=m,K-=m;K>128;)this.count+=128,this._compress(p,v,!1),v+=128,K-=128;p.copy(this.block,this.pos,v,v+K),this.pos+=K}return this}final(){e(!(this.pos&oe),"Context is not initialized."),this.count+=this.pos,this.block.fill(0,this.pos,128),this._compress(this.block,0,!0),this.pos=oe;const p=_e.alloc(this.size);for(let v=0;v<this.size;v++)p[v]=this.state[v>>>2]>>>8*(v&3);for(let v=0;v<16;v++)this.state[v]=0;for(let v=0;v<32;v++)this.V[v]=0,this.M[v]=0;for(let v=0;v<128;v++)this.block[v]=0;return p}_compress(p,v,K){const{V:w,M:m}=this;for(let _=0;_<16;_++)w[_]=this.state[_],w[_+16]=Q[_];w[24]^=this.count,w[25]^=this.count*(1/4294967296),w[26]^=0,w[27]^=0,K&&(w[28]^=-1,w[29]^=-1,w[29]^=0,w[30]^=0);for(let _=0;_<32;_++)m[_]=s(p,v),v+=4;for(let _=0;_<12;_++)a(w,m,0,8,16,24,P[_*16+0],P[_*16+1]),a(w,m,2,10,18,26,P[_*16+2],P[_*16+3]),a(w,m,4,12,20,28,P[_*16+4],P[_*16+5]),a(w,m,6,14,22,30,P[_*16+6],P[_*16+7]),a(w,m,0,10,20,30,P[_*16+8],P[_*16+9]),a(w,m,2,12,22,24,P[_*16+10],P[_*16+11]),a(w,m,4,14,16,26,P[_*16+12],P[_*16+13]),a(w,m,6,8,18,28,P[_*16+14],P[_*16+15]);for(let _=0;_<16;_++)this.state[_]^=w[_]^w[_+16]}static hash(){return new g}static hmac(p){return new S(g,128,[p])}static digest(p,v,K){const{ctx:w}=g;return w.init(v,K),w.update(p),w.final()}static root(p,v,K,w){K==null&&(K=32),e(p!=null&&p._isBuffer===!0&&p.length===K),e(v!=null&&v._isBuffer===!0&&v.length===K);const{ctx:m}=g;return m.init(K,w),m.update(p),m.update(v),m.final()}static multi(p,v,K,w,m){const{ctx:_}=g;return _.init(w,m),_.update(p),_.update(v),K&&_.update(K),_.final()}static mac(p,v,K){return g.hmac(K).init(v).update(p).final()}}g.native=0,g.id="BLAKE2B256",g.size=32,g.bits=256,g.blockSize=128,g.zero=_e.alloc(32,0),g.ctx=new g;function u(n,p,v){const K=n[p+0]+n[v+0],w=n[p+1]+n[v+1],m=K>=4294967296|0;n[p+0]=K,n[p+1]=w+m}function H(n,p,v,K){const w=n[p+0]+v,m=n[p+1]+K,_=w>=4294967296|0;n[p+0]=w,n[p+1]=m+_}function a(n,p,v,K,w,m,_,E){const d=p[_+0],T=p[_+1],N=p[E+0],R=p[E+1];u(n,v,K),H(n,v,d,T);const O=n[m+0]^n[v+0],A=n[m+1]^n[v+1];n[m+0]=A,n[m+1]=O,u(n,w,m);const y=n[K+0]^n[w+0],U=n[K+1]^n[w+1];n[K+0]=y>>>24^U<<8,n[K+1]=U>>>24^y<<8,u(n,v,K),H(n,v,N,R);const q=n[m+0]^n[v+0],k=n[m+1]^n[v+1];n[m+0]=q>>>16^k<<16,n[m+1]=k>>>16^q<<16,u(n,w,m);const o=n[K+0]^n[w+0],h=n[K+1]^n[w+1];n[K+0]=h>>>31^o<<1,n[K+1]=o>>>31^h<<1}function s(n,p){return n[p++]+n[p++]*256+n[p++]*65536+n[p]*16777216}C.exports=g}],["bns-plus","/lib/sig0.js",function(f,Le,C,Fe,He,Ve){/*!
 * sig0.js - SIG(0) for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns:
 *   https://github.com/miekg/dns/blob/master/sig0.go
 */const e=ce(2,C),S=ce(14,C),oe=ce(11,C),Q=ce(99,C),P=ce(80,C),g=ce(79,C),u=ce(90,C),{types:H,classes:a,algs:s,algsByVal:n,hashes:p,hashesByVal:v,algHashes:K}=oe,{algToHash:w,hashToHash:m}=Q,{readNameBR:_,writeNameBW:E,sizeName:d,toName:T}=P,{Record:N,KEYRecord:R,SIGRecord:O}=u,A=_e.alloc(0),y=300,U=f;U.filename=Q.filename,U.privFile=Q.privFile,U.pubFile=Q.pubFile,U.createPrivate=Q.createPrivate,U.createPrivateAsync=Q.createPrivateAsync,U.createPublic=Q.createPublic,U.encodePrivate=Q.encodePrivate,U.decodePrivate=Q.decodePrivate,U.readPrivate=Q.readPrivate,U.readPrivateAsync=Q.readPrivateAsync,U.readPublic=Q.readPublic,U.readPublicAsync=Q.readPublicAsync,U.writeKeys=Q.writeKeys,U.writeKeysAsync=Q.writeKeysAsync,U.writePrivate=Q.writePrivate,U.writePrivateAsync=Q.writePrivateAsync,U.writePublic=Q.writePublic,U.writePublicAsync=Q.writePublicAsync,U.makeKey=function(J,M){const X=U.createPublic(J,M);return U.createKey(J,X)},U.createKey=function(J,M,X){e((J&255)===J),e(M!=null&&M._isBuffer===!0);const B=new N,G=new R;if(B.name=".",B.class=a.IN,B.type=H.KEY,B.ttl=0,B.data=G,G.flags=0,G.protocol=0,G.algorithm=J,J===U.algs.PRIVATEDNS){X=T(X);const $=S.write(d(X)+M.length);E($,X),$.writeBytes(M),M=$.render()}return G.publicKey=M,B},U.sign=function(J,M,X,B,G){B==null&&(B=y),e(J!=null&&J._isBuffer===!0),e(J.length>=12),e(M instanceof N),e(M.type===H.KEY),e(X!=null&&X._isBuffer===!0),e(B>>>0===B),e(G==null||typeof G=="function");const $=g.now(),le=new N,Ee=new O;le.name=".",le.type=H.SIG,le.class=a.ANY,le.ttl=0,le.data=Ee,Ee.typeCovered=0,Ee.algorithm=M.data.algorithm,Ee.labels=0,Ee.origTTL=0,Ee.expiration=$+B,Ee.inception=$-B,Ee.keyTag=M.data.keyTag(),Ee.signerName=".",Ee.signature=A;const Ne=o(J),ke=h(Ne,Ee,0);if(Ee.algorithm===s.PRIVATEDNS){if(!G)throw new Error("Signer not available.");Ee.signature=G(X,ke)}else Ee.signature=Q.signData(X,ke,Ee.algorithm);const se=S.readU16BE(Ne,10),ge=le.getSize(),ve=S.write(Ne.length+ge);return ve.copy(Ne,0,10),ve.writeU16BE(se+1),ve.copy(Ne,12,Ne.length),le.write(ve),ve.render()},U.verify=function(J,M,X){e(J!=null&&J._isBuffer===!0),e(M instanceof N),e(M.type===H.KEY),e(X==null||typeof X=="function");const[B,G]=q(J);if(B===-1)return!1;const $=G.data;if($.algorithm!==M.data.algorithm||$.labels!==0||$.origTTL!==0)return!1;const le=g.now();if(le<$.inception||le>$.expiration||$.algorithm!==s.PRIVATEDNS&&$.keyTag!==M.data.keyTag()||$.signerName!==".")return!1;const Ee=J.slice(0,B),Ne=h(Ee,$,-1);if($.algorithm===s.PRIVATEDNS){if(!X)throw new Error("Verifier not available.");return X(G,M,Ne)}return Q.verifyData(G,M,Ne,$.algorithm)};function q(z){e(z!=null&&z._isBuffer===!0);try{return k(z)}catch{return[-1,null]}}function k(z){const J=S.read(z);J.readU16BE(),J.readU16BE();const M=J.readU16BE(),X=J.readU16BE(),B=J.readU16BE(),G=J.readU16BE();if(G===0)return[-1,null];for(let Ne=0;Ne<M;Ne++){if(J.left()===0)return[-1,null];_(J),J.seek(4)}for(let Ne=0;Ne<X;Ne++){if(J.left()===0)return[-1,null];_(J),J.seek(8),J.seek(J.readU16BE())}for(let Ne=0;Ne<B;Ne++){if(J.left()===0)return[-1,null];_(J),J.seek(8),J.seek(J.readU16BE())}for(let Ne=0;Ne<G-1;Ne++){if(J.left()===0)return[-1,null];_(J),J.seek(8),J.seek(J.readU16BE())}const $=J.offset,le=N.read(J),Ee=le.data;return le.name!=="."?[-1,null]:le.type!==H.SIG?[-1,null]:le.class!==a.ANY?[-1,null]:le.ttl!==0?[-1,null]:Ee.typeCovered!==0?[-1,null]:[$,le]}function o(z){e(z!=null&&z._isBuffer===!0),e(z.length>=12);const[J]=q(z);if(J===-1)return z;const M=S.readU16BE(z,10),X=_e.allocUnsafe(J);return z.copy(X,0,0,J),S.writeU16BE(X,M-1,10),X}function h(z,J,M){e(z!=null&&z._isBuffer===!0),e(z.length>=12),e(J instanceof O),e(Number.isSafeInteger(M));const X=J.signature,B=S.readU16BE(z,10);if(B+M<0)throw new Error("Invalid offset.");J.signature=A;let G=0;G+=J.getSize(),G+=z.length;const $=S.write(G);return J.write($),$.copy(z,0,10),$.writeU16BE(B+M),$.copy(z,12,z.length),J.signature=X,$.render()}U.algs=s,U.algsByVal=n,U.hashes=p,U.hashesByVal=v,U.algHashes=K,U.algToHash=w,U.hashToHash=m}],["bns-plus","/lib/nsec3.js",function(f,Le,C,Fe,He,Ve){/*!
 * nsec3.js - NSEC3 for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns and golang/go:
 *   https://github.com/miekg/dns/blob/master/nsecx.go
 *
 * Parts of this software are based on solvere:
 *   https://github.com/rolandshoemaker/solvere
 */const e=ce(2,C),S=ce(7,C),oe=ce(11,C),Q=ce(13,C),P=ce(80,C),g=ce(90,C),u=ce(79,C),{types:H,nsecHashes:a,nsecHashesByVal:s}=oe,{hasType:n,packName:p}=P,{Question:v,Record:K}=g,w=512,m=f;m.hashName=function(d,T,N,R){if(e(typeof d=="string"),e((T&255)===T),e((N&65535)===N),e(R!=null&&R._isBuffer===!0),N>w)return null;const O=p(d.toLowerCase()),A=R;let y=null;switch(T){case a.SHA1:y=Q.sha1;break}if(!y)return null;let U=y.multi(O,A);for(let q=0;q<N;q++)U=y.multi(U,A);return U},m.cover=function(d,T){e(d instanceof K),e(d.type===H.NSEC3);const N=d.data,R=m.hashName(T,N.hash,N.iterations,N.salt);if(!R)return!1;const O=d.name,A=u.split(O);if(A.length<2)return!1;const y=O.substring(0,A[1]-1),U=O.substring(A[1]),q=_(y);if(!q||q.length!==R.length||!u.isSubdomain(U,T))return!1;const k=N.nextDomain;return k.length!==R.length||q.equals(k)?!1:q.compare(k)>0?R.compare(q)>0?!0:R.compare(k)<0:R.compare(q)<0?!1:R.compare(k)<0},m.match=function(d,T){e(d instanceof K),e(d.type===H.NSEC3);const N=d.data,R=m.hashName(T,N.hash,N.iterations,N.salt);if(!R)return!1;const O=d.name,A=u.split(O);if(A.length<2)return!1;const y=O.substring(0,A[1]-1),U=O.substring(A[1]),q=_(y);return!q||q.length!==R.length||!u.isSubdomain(U,T)?!1:!!q.equals(R)},m.findClosestEncloser=function(d,T){e(typeof d=="string"),e(Array.isArray(T));const N=u.split(d);let R=d;for(let O=0;O<N.length;O++){const A=d.substring(N[O]);if(!!m.findMatching(A,T))return O!==0&&(R=d.substring(N[O-1])),[A,R]}return["",""]},m.findMatching=function(d,T){e(typeof d=="string"),e(Array.isArray(T));for(const N of T)if(m.match(N,d))return N.data.typeBitmap;return null},m.findCoverer=function(d,T){e(typeof d=="string"),e(Array.isArray(T));for(const N of T)if(m.cover(N,d)){const R=N.data;return[R.typeBitmap,(R.flags&1)===1]}return[null,!1]},m.verifyNameError=function(d,T){const[N,R]=m.findClosestEncloser(d.name,T);if(N==="")return!1;const[O]=m.findCoverer(R,T);return!!O},m.verifyNoData=function(d,T){e(d instanceof v),e(Array.isArray(T));const N=m.findMatching(d.name,T);if(!N){if(d.type!==H.DS)return!1;const[R,O]=m.findClosestEncloser(d.name,T);if(R==="")return!1;const[A,y]=m.findCoverer(O,T);return!(!A||!y)}return!(n(N,d.type)||n(N,H.CNAME))},m.verifyDelegation=function(d,T){const N=m.findMatching(d,T);if(!N){const[R,O]=m.findClosestEncloser(d,T);if(R==="")return!1;const[A,y]=m.findCoverer(O,T);return!(!A||!y)}return!(!n(N,H.NS)||n(N,H.DS)||n(N,H.SOA))};function _(E){try{return S.decodeHex(E)}catch{return null}}m.hashes=a,m.hashesByVal=s}],["bns-plus","/lib/ownership.js",function(f,Le,C,Fe,He,Ve){/*!
 * ownership.js - DNSSEC ownership proofs for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(14,C),oe=ce(11,C),Q=ce(13,C),P=ce(99,C),g=ce(80,C),u=ce(79,C),H=ce(90,C),{types:a,typeToString:s,algs:n,hashes:p,keyFlags:v,KSK_2017:K}=oe,{readNameBR:w}=g,{Record:m,TXTRecord:_}=H,E=[m.fromString(K)];class d{constructor(){this.Resolver=null,this.servers=["8.8.8.8","8.8.4.4"],this.secure=!0,this.anchors=E.slice(),this.minBits=1017,this.strongBits=2041,this.maxBits=4096,this.ignore=!1,this.rootAnchors=E,this.Proof=T,this.OwnershipProof=T,this.Zone=N}hasPrefix(B,G,$){return!1}isData(B,G,$,le){return!0}parseData(B,G,$,le){return{target:G,items:$}}addData(B,G){if(e(B instanceof this.Proof),e(Array.isArray(G)),G.length===0)throw new Error("No items provided.");if(B.zones.length<2)throw new Error("Incomplete proof.");const $=B.zones[B.zones.length-1];if($.claim.length===0)throw new Error("Zone has no claim records.");const le=new m,Ee=new _;le.name=$.claim[0].name.toLowerCase(),le.type=a.TXT,le.class=$.claim[0].class,le.ttl=$.claim[0].ttl,le.data=Ee;for(const ke of G)e(typeof ke=="string"),Ee.txt.push(ke);const Ne=$.claim.pop();return $.claim.push(le),$.claim.push(Ne),le}removeData(B){if(e(B instanceof this.Proof),B.zones.length<2)return!1;const G=B.zones[B.zones.length-1];return G.claim.length===0?!1:(G.claim=this.filterSet(B,G.claim),!0)}filterSet(B,G){e(B instanceof this.Proof),e(Array.isArray(G));const $=[];if(G.length===0)return $;const le=G[0].name.toLowerCase();for(const Ee of G){e(Ee instanceof m);const Ne=Ee.data;Ee.type===a.TXT&&Ne.txt.length>0&&this.hasPrefix(B,le,Ne.txt)||$.push(Ee)}return $}filterClaim(B,G){return this.ignore?this.filterSet(B,G):G}getData(B,G){e(B instanceof this.Proof);try{return this._getData(B,G)}catch($){if($.code==="ERR_ASSERTION")throw $;return null}}_getData(B,G){if(e(B instanceof this.Proof),B.zones.length<2)return null;const $=B.zones[B.zones.length-1];if($.claim.length===0)return null;const le=$.claim[0].name.toLowerCase();for(const Ee of $.claim){if(Ee.type!==a.TXT)continue;const Ne=Ee.data;if(Ne.txt.length===0||!this.isData(B,le,Ne.txt,G))continue;let ke=null;try{ke=this.parseData(B,le,Ne.txt,G)}catch(se){if(se.code==="ERR_ASSERTION")throw se}return ke}return null}isSane(B){if(e(B instanceof this.Proof),B.zones.length<2)return!1;let G="";for(let $=0;$<B.zones.length;$++){const le=B.zones[$],Ee=$===B.zones.length-1;if(!this.checkSanity(le,G,Ee))return!1;G=le.keys[0].name}return!0}verifyTimes(B,G){if(e(B instanceof this.Proof),e(Number.isSafeInteger(G)&&G>=0),B.zones.length<2)return!1;const[$,le]=this.getWindow(B);return G>=$&&G<=le}verifySignatures(B){if(e(B instanceof this.Proof),B.zones.length<2)return!1;let G=this.anchors,$=0;for(;$<B.zones.length-1;$++){const Ne=B.zones[$];if(!this.verifyKeys(Ne,G)||!this.verifyRecords(Ne.referral,Ne.keys))return!1;G=u.extractSet(Ne.referral,"",a.DS)}const le=B.zones[$];if(!this.verifyKeys(le,G))return!1;const Ee=this.filterClaim(B,le.claim);return!!this.verifyRecords(Ee,le.keys)}isWeak(B){if(e(B instanceof this.Proof),B.zones.length<2)return!1;for(const G of B.zones){const $=h(G.keys,G.keys);if($&&this.isRSA($.data.algorithm)&&Q.rsaBits($.data.publicKey)<this.strongBits)return!0;const le=h(G.body,G.keys);if(le&&this.isRSA(le.data.algorithm)&&Q.rsaBits(le.data.publicKey)<this.strongBits)return!0}return!1}getWindow(B){e(B instanceof this.Proof);let G=-1,$=-1;for(const le of B.records()){if(e(le instanceof m),le.type!==a.RRSIG)continue;const Ee=le.data;(G===-1||Ee.inception>G)&&(G=Ee.inception),($===-1||Ee.expiration<$)&&($=Ee.expiration)}return G===-1||$===-1?[0,0]:G>$?[0,0]:[G,$]}checkSanity(B,G,$){if(e(B instanceof N),e(typeof G=="string"),e(typeof $=="boolean"),B.keys.length===0)return!1;if($){if(B.referral.length!==0||B.claim.length===0)return!1}else if(B.referral.length===0||B.claim.length!==0)return!1;const le=B.keys[0].name,Ee=u.countLabels(le);if(!this.isChild(G,le))return!1;let Ne=!1;for(const ke of B.keys){if(e(ke instanceof m),!u.equal(ke.name,le))return!1;const se=ke.data;switch(ke.type){case a.RRSIG:if(se.typeCovered!==a.DNSKEY||!this.isValidAlg(se.algorithm)||se.labels!==Ee||!u.equal(se.signerName,le)||Ne)return!1;Ne=!0;break;case a.DNSKEY:break;default:return!1}}if(!Ne)return!1;if(B.claim.length>0){let ke=!1;for(const se of B.claim){if(e(se instanceof m),!u.equal(se.name,le))return!1;const ge=se.data;switch(se.type){case a.RRSIG:if(ge.typeCovered!==a.TXT||!this.isValidAlg(ge.algorithm)||ge.labels!==Ee||!u.equal(ge.signerName,le)||ke)return!1;ke=!0;break;case a.TXT:break;default:return!1}}if(!ke)return!1}if(B.referral.length>0){const ke=B.referral[0].name,se=u.countLabels(ke);if(!this.isChild(le,ke))return!1;let ge=!1;for(const ve of B.referral){if(e(ve instanceof m),!u.equal(ve.name,ke))return!1;const Ue=ve.data;switch(ve.type){case a.RRSIG:if(Ue.typeCovered!==a.DS||!this.isValidAlg(Ue.algorithm)||Ue.labels!==se||!u.equal(Ue.signerName,le)||ge)return!1;ge=!0;break;case a.DS:break;default:return!1}}if(!ge)return!1}return!0}verifyChain(B,G){e(Array.isArray(B)),e(Array.isArray(G));const[$,le]=k(B);if(!$)return null;const Ee=new Map;if(Ee.set(le,$),this.secure)for(const Ne of o($,B)){const ke=Ne.data.keyTag();Ee.has(ke)||Ee.set(ke,Ne)}for(const Ne of G){e(Ne instanceof m),e(Ne.type===a.DS);const ke=Ne.data;if(this.secure&&ke.digestType===p.SHA1)continue;const se=Ee.get(ke.keyTag);if(!se)continue;const ge=P.createDS(se,ke.digestType);if(!!ge&&!!ge.data.digest.equals(ke.digest)&&ge.data.algorithm===ke.algorithm)return $}return null}verifyRecords(B,G){e(Array.isArray(B)),e(Array.isArray(G));const[$,le]=y(B);if(!$)return!1;const Ee=q(G,$.data.keyTag);return Ee?this.verifySignature($,Ee,le):!1}verifyKey(B,G=!1){e(B instanceof m),e(B.type===a.DNSKEY),e(typeof G=="boolean");const $=B.data;if(!this.isValidAlg($.algorithm)||this.secure&&this.isSHA1($.algorithm))return!1;if(this.isRSA($.algorithm)){const le=Q.rsaBits($.publicKey);if(le<this.minBits||le>this.maxBits||G&&le<this.strongBits)return!1}return!0}verifySignature(B,G,$){return e(B instanceof m),e(B.type===a.RRSIG),e(G instanceof m),e(G.type===a.DNSKEY),e(Array.isArray($)),$.length===0||!this.verifyKey(G)?!1:P.verify(B,G,$)}verifyKeys(B,G){e(B instanceof N);const $=this.verifyChain(B.keys,G);if(!$)return!1;const[le,Ee]=y(B.keys);return le?this.verifySignature(le,$,Ee):!1}isValidAlg(B){switch(e((B&255)===B),B){case n.RSASHA1:case n.RSASHA1NSEC3SHA1:case n.RSASHA256:case n.RSASHA512:case n.ECDSAP256SHA256:case n.ECDSAP384SHA384:case n.ED25519:case n.ED448:return!0;default:return!1}}isRSA(B){switch(e((B&255)===B),B){case n.RSASHA1:case n.RSASHA1NSEC3SHA1:case n.RSASHA256:case n.RSASHA512:return!0;default:return!1}}isSHA1(B){switch(e((B&255)===B),B){case n.RSASHA1:case n.RSASHA1NSEC3SHA1:return!0;default:return!1}}isChild(B,G){if(e(typeof B=="string"),e(typeof G=="string"),B==="")return G===".";const $=u.countLabels(B);return!(u.countLabels(G)!==$+1||!u.isSubdomain(B,G))}async prove(B,G=!1){if(e(typeof B=="string"),e(typeof G=="boolean"),B=u.fqdn(B),!g.isName(B))throw new Error(`Invalid name for proof: ${JSON.stringify(B)}.`);const{Resolver:$}=this;if(!$)throw new Error("No resolver available.");const le=new $({rd:!0,cd:!0,edns:!0,dnssec:!0,hosts:[["localhost.","127.0.0.1"],["localhost.","::1"]],servers:this.servers});await le.open();try{return await this._prove(le,B,G)}finally{await le.close()}}async _prove(B,G,$){e(B instanceof this.Resolver),e(typeof G=="string"),e(typeof $=="boolean");const le=u.split(G);e(le.length>0);const Ee=[],Ne=new N;let ke=await this._lookup(B,G,a.DS,[]);try{Ne.claim=await this._lookup(B,G,a.TXT,[])}catch(ge){if(!$)throw ge}Ne.keys=await this._lookup(B,G,a.DNSKEY,ke),Ee.push(Ne);for(let ge=1;ge<=le.length;ge++){let ve=".";ge<le.length&&(ve=u.from(G,le,ge));const Ue=new N;Ue.referral=ke,ve==="."?ke=this.anchors:ke=await this._lookup(B,ve,a.DS,[]),Ue.keys=await this._lookup(B,ve,a.DNSKEY,ke),Ee.push(Ue)}Ee.reverse();const se=new this.Proof;if(se.zones=Ee,se.canonical(),$)return se;if(!this.isSane(se))throw new Error("Proof failed sanity check.");if(!this.verifyTimes(se,u.now()))throw new Error("Proof contains expired signature.");if(!this.verifySignatures(se))throw new Error("Proof failed signature check.");return se}async _lookup(B,G,$,le){e(B instanceof this.Resolver),e(typeof G=="string"),e(($&65535)===$),e(Array.isArray(le));const Ee=await B.lookup(G,$),Ne=[];for(const se of Ee.answer)if(!!u.equal(se.name,G))switch(se.type){case $:case a.RRSIG:Ne.push(se);break}const ke=this.filterSignatures(Ne,$,le);if(!u.hasType(ke,$)){const se=s($);throw new Error(`No ${se} records for ${G}`)}if(!u.hasType(ke,a.RRSIG)){const se=s($);throw new Error(`No RRSIG(${se}) records for ${G}`)}return ke}filterSignatures(B,G,$){e(Array.isArray(B)),e((G&65535)===G),e(Array.isArray($));const le=M($),Ee=z(B),Ne=J(B),ke=u.now(),se=[];let ge=null;for(const ve of B){if(e(ve instanceof m),ve.type===a.RRSIG){const Ue=ve.data;if(Ue.typeCovered!==G||!this.isValidAlg(Ue.algorithm)||!Ue.validityPeriod(ke)||this.secure&&this.isSHA1(Ue.algorithm))continue;if(G===a.DNSKEY){const re=Ee.get(Ue.keyTag);if(re&&re.data.flags&v.REVOKE||Ne.has(Ue.keyTag))continue}if(ge){const re=ge.data;if(G===a.DNSKEY){if(!le.has(re.keyTag)&&le.has(Ue.keyTag)){ge=ve;continue}if(le.has(re.keyTag)&&!le.has(Ue.keyTag))continue}if(Ue.algorithm<re.algorithm||this.isRSA(Ue.algorithm)&&this.isRSA(re.algorithm)&&Ue.signature.length<re.signature.length)continue}ge=ve;continue}se.push(ve)}if(!ge)return se;se.push(ge);for(const ve of se)ve.ttl=ge.data.origTTL;return se}}class T extends S.Struct{constructor(){super(),this.zones=[]}getTarget(){if(this.zones.length<2)return".";const B=this.zones[this.zones.length-1];return B.claim.length===0?".":B.claim[0].name.toLowerCase()}*records(){for(const B of this.zones)for(const G of B.records())yield G}inject(B){return e(B instanceof this.constructor),this.zones=B.zones.slice(),this}deepClone(){return new this.constructor().decode(this.encode())}canonical(){for(const B of this.zones)B.canonical();return this}getSize(B){let G=1;for(const $ of this.zones)G+=$.getSize(B);return G}write(B,G){B.writeU8(this.zones.length);for(const $ of this.zones)$.write(B,G);return this}read(B){const G=B.readU8();for(let $=0;$<G;$++){const le=N.read(B);this.zones.push(le)}return this}toString(){let B="";B+=`;; DNSSEC OWNERSHIP PROOF: ${this.getTarget().toUpperCase()}
`,B+=`;; SIZE: ${this.getSize()}
`,B+=`
`;for(let G=0;G<this.zones.length;G++){const $=this.zones[G];B+=$.toString()+`
`}return B}fromString(B){e(typeof B=="string");const G=H.fromZone(B);if(G.length===0)throw new Error("No records found.");let $=new N,le=G[0].name,Ee=a.DNSKEY;for(const Ne of G){let ke=Ne.type;switch(ke===a.RRSIG&&(ke=Ne.data.typeCovered),Ee){case a.DNSKEY:ke===a.TXT?Ee=a.TXT:u.equal(Ne.name,le)||(le=Ne.name,Ee=a.DS);break;case a.DS:if(ke===a.DNSKEY){if($.keys.length===0)throw new Error("Switching zones without any keys.");if($.referral.length===0)throw new Error("Switching zones without a referral.");this.zones.push($),$=new N,Ee=a.DNSKEY}break;case a.TXT:break;default:e(!1);break}if(!u.equal(Ne.name,le))throw new Error(`Invalid record name (${Ne.name} != ${le}).`);if(ke!==Ee){const se=s(ke),ge=s(Ee);throw new Error(`Invalid record type (${se} != ${ge}).`)}switch(Ee){case a.DNSKEY:$.keys.push(Ne);break;case a.DS:$.referral.push(Ne);break;case a.TXT:$.claim.push(Ne);break;default:e(!1);break}}if($.keys.length===0)throw new Error("Final zone has no keys.");if($.referral.length>0)throw new Error("Final zone has unexpected referrals.");return this.zones.push($),this}getJSON(){return{zones:this.zones.map(B=>B.toJSON())}}fromJSON(B){e(B&&typeof B=="object"),e(Array.isArray(B.zones));for(const G of B.zones)this.zones.push(N.fromJSON(G));return this}}class N extends S.Struct{constructor(){super(),this.keys=[],this.referral=[],this.claim=[]}get body(){return this.referral.length>0?this.referral:this.claim}getTarget(){return this.keys.length===0?".":this.keys[0].name.toLowerCase()}*records(){for(const B of this.keys)yield B;for(const B of this.referral)yield B;for(const B of this.claim)yield B}inject(B){return e(B instanceof this.constructor),this.keys=B.keys.slice(),this.referral=B.referral.slice(),this.claim=B.claim.slice(),this}deepClone(){return new this.constructor().decode(this.encode())}canonical(){for(const B of this.keys)B.canonical();for(const B of this.referral)B.canonical();for(const B of this.claim)B.canonical();return this}getSize(B){let G=1;for(const $ of this.keys)G+=$.getSize(B);G+=1;for(const $ of this.referral)G+=$.getSize(B);G+=1;for(const $ of this.claim)G+=$.getSize(B);return G}write(B,G){B.writeU8(this.keys.length);for(const $ of this.keys)$.write(B,G);B.writeU8(this.referral.length);for(const $ of this.referral)$.write(B,G);B.writeU8(this.claim.length);for(const $ of this.claim)$.write(B,G);return this}read(B){const G=B.readU8();for(let Ee=0;Ee<G;Ee++){const Ne=A(B,a.DNSKEY);this.keys.push(Ne)}const $=B.readU8();for(let Ee=0;Ee<$;Ee++){const Ne=A(B,a.DS);this.referral.push(Ne)}const le=B.readU8();for(let Ee=0;Ee<le;Ee++){const Ne=A(B,a.TXT);this.claim.push(Ne)}return this}toString(){let B="";B+=`;;
`,B+=`;; ZONE: ${this.getTarget().toUpperCase()}
`,B+=`;;
`,B+=`; KEYS:
`;for(const G of this.keys)B+=G.toString()+`
`;B+=`
`,B+=this.claim.length>0?`; CLAIM:
`:`; REFERRAL:
`;for(const G of this.body)B+=G.toString()+`
`;return B}getJSON(){return{keys:this.keys.map(B=>B.toJSON()),referral:this.referral.map(B=>B.toJSON()),claim:this.claim.map(B=>B.toJSON())}}fromJSON(B){e(B&&typeof B=="object"),e(Array.isArray(B.keys)),e(Array.isArray(B.referral));for(const G of B.keys)this.keys.push(m.fromJSON(G));for(const G of B.referral)this.referral.push(m.fromJSON(G));for(const G of B.claim)this.claim.push(m.fromJSON(G));return this}}d.rootAnchors=E,d.Proof=T,d.OwnershipProof=T,d.Zone=N;function R(X,B){const G=X.offset;let $=!1;try{$=O(X,B)}catch{}return X.offset=G,$}function O(X,B){w(X,!1);const G=X.readU16BE();return G===a.RRSIG?(X.seek(8+18),w(X,!1),!0):G===B}function A(X,B){if(e(X),e((B&65535)===B),!R(X,B))throw new Error("Record unsafe to read.");return m.read(X)}function y(X){e(Array.isArray(X));const B=[];let G=null;for(const $ of X){if(e($ instanceof m),$.type===a.RRSIG){G=$;continue}B.push($)}return!G||B.length===0?[null,null]:[G,B]}function U(X){e(Array.isArray(X));for(const B of X)if(e(B instanceof m),B.type===a.RRSIG)return B;return null}function q(X,B){e(Array.isArray(X)),e((B&65535)===B);for(const G of X){if(e(G instanceof m),G.type!==a.DNSKEY)continue;const $=G.data;if($.keyTag()===B&&!($.flags&v.REVOKE))return G}return null}function k(X){e(Array.isArray(X));const B=U(X);if(!B)return[null,null];const G=B.data.keyTag;return[q(X,G),G]}function o(X,B){e(X instanceof m),e(X.type===a.DNSKEY),e(Array.isArray(B));const G=X.data,$=[];if(G.algorithm!==n.RSASHA256&&G.algorithm!==n.RSASHA512)return $;for(const le of B){if(e(le instanceof m),le.type===a.RRSIG||le.type!==a.DNSKEY)continue;const Ee=le.data;Ee.algorithm!==n.RSASHA1&&Ee.algorithm!==n.RSASHA1NSEC3SHA1||Ee.flags&v.REVOKE||!Ee.publicKey.equals(G.publicKey)||$.push(le)}return $}function h(X,B){e(Array.isArray(X)),e(Array.isArray(B));const G=U(X);if(!G)return null;const $=q(B,G.data.keyTag);return $||null}function z(X){e(Array.isArray(X));const B=new Map;for(const G of X){if(e(G instanceof m),G.type!==a.DNSKEY)continue;const $=G.data.keyTag();B.has($)||B.set($,G)}return B}function J(X){e(Array.isArray(X));const B=new Set;for(const G of X)e(G instanceof m),G.type===a.DNSKEY&&(!(G.data.flags&v.REVOKE)||B.add(G.data.revTag()));return B}function M(X){e(Array.isArray(X));const B=new Set;for(const G of X)e(G instanceof m),G.type===a.DS&&B.add(G.data.keyTag);return B}C.exports=d}],["bns-plus","/lib/punycode.js",function(f,Le,C,Fe,He,Ve){/*!
 * punycode.js - punycode for bns
 * Copyright (c) 2019, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on bestiejs/punycode.js:
 *   Copyright (c) 2011-2019, Mathias Bynens (MIT License)
 *   https://github.com/bestiejs/punycode.js
 *   https://mths.be/punycode
 *
 * Resources:
 *   https://www.ietf.org/rfc/rfc3492.txt
 *   https://en.wikipedia.org/wiki/Punycode
 *   https://github.com/bestiejs/punycode.js/blob/master/punycode.js
 */const e=ce(2,C),S=2147483647,oe=36,Q=1,P=26,g=38,u=700,H=72,a=128,s=oe-Q,n="-",p=/^xn--/,v=/[^\0-\x7e]/,K=/[\x2e\u3002\uff0e\uff61]/g,w={OVERFLOW:"Overflow: input needs wider integers to process.",NOT_BASIC:"Illegal input >= 0x80 (not a basic code point).",INVALID_INPUT:"Invalid input."};function m(U){e(typeof U=="string");const q=N(U);let k=a,o=0,h=H,z=0,J="";for(let X=0;X<q.length;X++){const B=q[X];B>=128||(J+=String.fromCharCode(B),z+=1)}let M=z;for(z>0&&(J+=n);M<q.length;){let X=S;for(let G=0;G<q.length;G++){const $=q[G];$>=k&&$<X&&(X=$)}const B=M+1;if(X-k>Math.floor((S-o)/B))throw new RangeError(w.OVERFLOW);o+=(X-k)*B,k=X;for(let G=0;G<q.length;G++){const $=q[G];if($<k&&(o+=1,o>S))throw new RangeError(w.OVERFLOW);if($!==k)continue;let le=o,Ee=oe;for(;;){let Ne=Q;if(Ee>h&&(Ee>=h+P?Ne=P:Ne=Ee-h),le<Ne)break;const ke=le-Ne,se=oe-Ne;J+=O(Ne+ke%se,0),le=Math.floor(ke/se),Ee+=oe}J+=O(le,0),h=A(o,B,M===z),o=0,M+=1}o+=1,k+=1}return J}function _(U){e(typeof U=="string");let q=U.lastIndexOf(n);q<0&&(q=0);const k=[];for(let M=0;M<q;M++){const X=U.charCodeAt(M);if(X>=128)throw new RangeError(w.NOT_BASIC);k.push(X)}let o=0,h=a,z=H,J=q>0?q+1:0;for(;J<U.length;){const M=o;let X=1,B=oe;for(;;){if(J>=U.length)throw new RangeError(w.INVALID_INPUT);const $=R(U,J);if(J+=1,$>=oe||$>Math.floor((S-o)/X))throw new RangeError(w.OVERFLOW);o+=$*X;let le=Q;if(B>z&&(B>=z+P?le=P:le=B-z),$<le)break;const Ee=oe-le;if(X>Math.floor(S/Ee))throw new RangeError(w.OVERFLOW);X*=Ee,B+=oe}const G=k.length+1;if(z=A(o-M,G,M===0),Math.floor(o/G)>S-h)throw new RangeError(w.OVERFLOW);h+=Math.floor(o/G),o%=G,k.splice(o,0,h),o+=1}return String.fromCodePoint(...k)}function E(U){return e(typeof U=="string"),y(U,q=>v.test(q)?"xn--"+m(q):q)}function d(U){return e(typeof U=="string"),y(U,q=>p.test(q)?_(q.substring(4).toLowerCase()):q)}function T(U){e(Array.isArray(U));for(const q of U)e(q>>>0===q);return String.fromCodePoint(...U)}function N(U){e(typeof U=="string");const q=[];for(let k=0;k<U.length;k++){const o=U.charCodeAt(k);if(o>=55296&&o<=56319&&k+1<U.length){const h=U.charCodeAt(k+1);if((h&64512)===56320){q.push(((o&1023)<<10)+(h&1023)+65536),k+=1;continue}}q.push(o)}return q}function R(U,q){e(typeof U=="string"),e(q>>>0===q),e(q<U.length);const k=U.charCodeAt(q);return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:oe}function O(U,q){return e(U>>>0===U),e(q>>>0===q),U+=22+75*(U<26),U-=(q!==0)<<5,String.fromCharCode(U)}function A(U,q,k){e(U>>>0===U),e(q>>>0===q),e(typeof k=="boolean");let o=0;for(U=k?Math.floor(U/u):U>>1,U+=Math.floor(U/q);U>s*P>>1;o+=oe)U=Math.floor(U/s);return Math.floor(o+(s+1)*U/(U+g))}function y(U,q){e(typeof U=="string"),e(typeof q=="function");const k=U.indexOf("@");let o="";k!==-1&&(o=U.substring(0,k+1),U=U.substring(k+1)),U=U.replace(K,".");const h=U.split("."),z=[];for(const J of h)z.push(q(J));return o+z.join(".")}f._ucs2encode=T,f._ucs2decode=N,f.encodeRaw=m,f.decodeRaw=_,f.encode=E,f.decode=d}],["bns-plus","/lib/rdns.js",function(f,Le,C,Fe,He,Ve){/*!
 * rdns.js - replacement dns node.js module (recursive)
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(1,C),S=ce(109,C),oe=ce(116,C),Q=ce(128,C);let P=null;const g=new S;function u(H){P||(P=oe.fromRoot());const a=new Q(H);return H.hints||(a.hints=P.clone()),H.cache||(a.cache=g),a}C.exports=e.make(u,{tcp:!0,edns:!0,dnssec:!0})}],["bns-plus","/lib/resolver/recursive.js",function(f,Le,C,Fe,He,Ve){/*!
 * recursive.js - recursive dns resolver for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on solvere:
 *   https://github.com/rolandshoemaker/solvere
 */const e=ce(2,C),S=ce(4,C),oe=ce(96,C),Q=ce(109,C),P=ce(11,C),g=ce(115,C),u=ce(99,C),H=ce(80,C),a=ce(116,C),s=ce(124,C),n=ce(79,C),p=ce(90,C),{DNS_PORT:v}=P,{Message:K,Question:w,Record:m,types:_,typeToString:E,codes:d}=p,{extractSet:T,filterSet:N,hasAll:R,hasType:O,random:A,randomItem:y,equal:U,isSubdomain:q}=n;class k extends g{constructor(M){super(M),this.rd=!1,this.cache=new Q,this.hints=new a,this.maxReferrals=30,this.minimize=!1,this.ub=null,this.initOptions(M)}initOptions(M){return M==null?this:(this.parseOptions(M),M.cache!=null&&(e(M.cache instanceof Q),this.cache=M.cache),M.hints!=null&&(e(M.hints instanceof a),this.hints=M.hints),M.maxReferrals!=null&&(e(M.maxReferrals>>>0===M.maxReferrals),this.maxReferrals=M.maxReferrals),M.cacheSize!=null&&(e(M.cacheSize>>>0===M.cacheSize),this.cache.maxSize=M.cacheSize),M.minimize!=null&&(e(typeof M.minimize=="boolean"),this.minimize=M.minimize),this)}setStub(M,X,B){e(typeof M=="string"),e((X&65535)===X),e(X!==0),e(B instanceof m),e(B.type===_.DS);const G=S.normalize(M);return this.hints.clear(),this.hints.ns.push("hints.local."),S.isIPv4String(G)?this.hints.inet4.set("hints.local.",G):this.hints.inet6.set("hints.local.",G),this.hints.anchors.push(B.clone()),this.hints.port=X,this}getAuthority(){return this.hints.getAuthority(this.inet6)}async ask(M,X){const B=this.cache.hit(M,X.zone);return B?(this.log("Cache hit for %s (%s).",M.name,E(M.type)),[B,!0]):[await this.query(M,X.servers),!1]}async findNS(M,X,B,G){const $=new w(X,B),le=await this.follow($,M.hops),Ee=le.toAnswer();if(M.hops=le.hops,Ee.code!==d.NOERROR)throw new Error("Authority lookup failed.");const Ne=T(Ee.answer,X,B);if(Ne.length===0)throw new Error("No authority address.");const ke=new oe(G,X);for(const se of Ne)ke.add(se.data.address,v);return this.log("Picked nameserver for: %s",X),ke}async lookupNS(M,X,B){if(M.hop(),this.inet6){this.log("Looking up IPv6 nameserver for %s...",X);try{return await this.findNS(M,X,_.AAAA,B)}catch(G){this.log("IPv6 nameserver lookup failed: %s",G.message)}}return this.log("Looking up IPv4 nameserver for %s...",X),this.findNS(M,X,_.A,B)}async lookupDNSKEY(M,X,B){const[G,$]=await this.ask(M,X);if(G.answer.length===0||G.code!==d.NOERROR)return[new Map,new Set];if(X.zone==="."&&(e(B.length===0),B=this.hints.anchors),B.length===0)return this.log("Invalid DNSKEY (DS absent)."),[null,null];const le=u.verifyDS(G,B,M.name);if(!le)return this.log("Invalid KSKs (DS mismatch)."),[null,null];if(!$){if(!u.verifyZSK(G,le,M.name))return this.log("Invalid KSKs (verification failure)."),[null,null];const ke=X.zone===".";this.cache.insert(M,X.zone,G,!0,ke)}const Ee=new Map,Ne=new Set;for(const ke of G.answer){if(ke.type!==_.DNSKEY)continue;const se=ke.data;if(!!U(ke.name,M.name)&&!!(se.flags&u.keyFlags.ZONE)){if(se.flags&u.keyFlags.REVOKE){Ne.add(se.revTag());continue}Ee.set(se.keyTag(),ke)}}return[Ee,Ne]}async checkSignatures(M,X,B){if(!this.dnssec)return!0;const G=new w(X.zone,_.DNSKEY),[$,le]=await this.lookupDNSKEY(G,X,B);return $?$.size===0?(this.log("No ZSKs found."),!1):u.verifyMessage(M,$,le)?(this.log("Validated DNSSEC signatures."),!0):(this.log("Invalid RRSIGs."),!1):!1}splitAuths(M,X){const B=new Map,G=new Map;for(const $ of M)$.type===_.NS&&G.set($.data.ns.toLowerCase(),$.name.toLowerCase());for(const $ of X){const le=G.get($.name.toLowerCase());if(!le)continue;if(this.inet6){if($.type!==_.A&&$.type!==_.AAAA)continue}else if($.type!==_.A)continue;let Ee=B.get(le);Ee||(Ee=[],B.set(le,Ee)),Ee.push($.data.address)}return[B,G]}async pickAuthority(M,X,B){const[G,$]=this.splitAuths(X,B);if(G.size===0){if($.size===0)return null;let ge=A($.size),ve,Ue;for([ve,Ue]of $){if(ge===0)break;ge-=1}return this.log("Looking up NS: %s",ve),this.lookupNS(M,ve,Ue)}const le=[];for(const[ge,ve]of $){const Ue=G.get(ve);Ue&&Ue.length>0&&le.push([ge,ve])}if(le.length===0)return null;const[Ee,Ne]=y(le),ke=G.get(Ne);e(ke&&ke.length>0);const se=new oe(Ne,Ee);for(const ge of ke)se.add(ge,v);return se}insert(M){if(!M.hit){const{qs:X,auth:B,res:G,chain:$}=M;this.cache.insert(X,B.zone,G,$)}}async handleTrust(M){if(e(M.chain),this.log("Verifying zone change to [%s]",M.auth.zone),M.hit){if(!M.res.ad){this.log("Trust chain broken due to cache."),M.chain=!1,M.ds=[];return}M.chain=!0;return}if(!M.res.isDNSSEC()){this.log("Trust chain broken due to lack of DO flag."),M.chain=!1,M.ds=[];return}this.log("Checking signatures..."),await this.checkSignatures(M.res,M.auth,M.ds)||(this.log("Trust chain broken due to lack of child verification."),M.chain=!1,M.ds=[])}async handleAnswer(M){const[X,B]=z(M.res.answer,M.qs);if(!X)return this.insert(M),!1;if(M.aliases.has(X))throw new Error("Alias loop.");this.insert(M);const G=this.getAuthority();return this.log("Found alias to: %s",X),this.log("Alias changing zone: [%s->%s]",M.auth.zone,G.zone),M.switchZone(G),M.follow(X,B),M.hop(),!0}async handleAuthority(M){const{authority:X,additional:B}=M.res;if(!O(X,_.NS)){if(M.chain){const Ee=T(X,"",_.NSEC3);s.verifyNoData(M.qs,Ee)?this.log("Validated NSEC3 nodata."):(this.log("Trust chain broken due to missing NSEC coverage."),M.chain=!1,M.ds=[])}return this.insert(M),!1}const $=await this.pickAuthority(M,X,B);if(!$)return this.insert(M),!1;const le=O(X,_.NSEC3);if(M.chain&&le){const Ee=T(X,"",_.NSEC3);s.verifyDelegation($.zone,Ee)?this.log("Validated NSEC3 delegation."):(this.log("Trust chain broken due to bad delegation."),M.chain=!1,M.ds=[])}return this.insert(M),this.log("Switching authority: %s",$.name),this.log("Switching zone: [%s->%s]",M.auth.zone,$.zone),M.chain&&(M.ds=T(X,$.zone,_.DS),M.ds.length===0&&(M.chain=!1,this.log("Trust chain broken due to zone change."))),M.switchZone($),M.hop(),!0}async lookupNext(M){const[X,B]=await this.ask(M.qs,M.auth);M.res=X,M.hit=B}async next(M){if(await this.lookupNext(M),M.chain&&await this.handleTrust(M),M.chain&&M.res.code===d.NXDOMAIN){const X=T(M.res.authority,"",_.NSEC3);s.verifyNameError(M.qs,X)?this.log("Validated NSEC3 NX proof."):(this.log("Trust chain broken due to bad NX proof."),M.chain=!1,M.ds=[])}return M.res.isAnswer()?this.handleAnswer(M):M.res.isReferral()?this.handleAuthority(M):!1}async iterate(M){for(this.log("Querying %s (%s).",M.qs.name,E(M.qs.type)),this.log("Switching authority: %s",M.auth.name),this.log("Switching zone: [%s]",M.auth.zone);await this.next(M););return e(M.hops<=M.maxReferrals),this.log("Traversed zones: %s for %s (%s).",M.zones.join(", "),M.question.name,E(M.question.type)),(M.res.code===d.NOERROR||M.res.answer.length>0||M.res.authority.length>0)&&(M.chased.length>0&&(M.res.answer=M.chased.concat(M.res.answer)),M.hit||this.cache.insert(M.question,M.ns.zone,M.res,M.chain)),M}async follow(M,X){e(M instanceof w),e(typeof X=="number");const B=this.getAuthority(),G=new o(M,B,X);return G.chain=this.dnssec,G.maxReferrals=this.maxReferrals,this.iterate(G)}async resolve(M){if(e(M instanceof w),!n.isName(M.name))throw new Error("Invalid qname.");const X=await this.follow(M,0);return this.log("Finishing resolving %s (%s) (hops=%d).",M.name,E(M.type),X.hops),this.log("Cache usage: %s/%smb (items=%d).",(this.cache.size/1024/1024).toFixed(2),(this.cache.maxSize/1024/1024).toFixed(2),this.cache.map.size),X.toAnswer()}async lookup(M,X){const B=new w(M,X);return this.resolve(B)}async reverse(M){const X=H.reverse(M);return this.lookup(X,_.PTR)}}class o{constructor(M,X,B){this.question=M,this.ns=X,this.hops=B,this.qs=M.clone(),this.auth=X,this.zones=[],this.aliases=new Set,this.chased=[],this.ds=[],this.chain=!0,this.res=null,this.hit=!1,this.maxReferrals=30,this.switchZone(X)}switchZone(M){return this.auth=M,this.zones.push(M.zone),this}follow(M,X){this.qs.name=M,this.ds=[],this.aliases.add(M);for(const B of X)this.chased.push(B);return this}hop(){if(this.hops>=this.maxReferrals)throw new Error("Maximum referrals exceeded.");return this.hops+=1,this}toAnswer(){const M=new K;return M.id=this.res.id,M.opcode=this.res.opcode,M.code=this.res.code,M.qr=!0,M.ra=!0,M.ad=this.chain,M.question=[this.question],M.answer=this.res.answer.slice(),M.authority=this.res.authority.slice(),M.additional=this.res.additional.slice(),M.edns=this.res.edns.clone(),M.tsig=this.res.tsig,M.sig0=this.res.sig0,M.size=this.res.size,M.malformed=this.res.malformed,M.trailing=this.res.trailing,M}}k.version="0.0.0",k.native=0;function h(J,M){const X=[],B=new Map,G=new Map;for(const Ee of M){const Ne=Ee.data;if(Ee.type===_.CNAME){B.set(Ee.name.toLowerCase(),Ee);continue}if(Ee.type===_.RRSIG){Ne.typeCovered===_.CNAME&&G.set(Ee.name.toLowerCase(),Ee);continue}}let $=J.toLowerCase(),le="";for(;;){const Ee=B.get($),Ne=G.get($);if(!Ee)break;le=Ee.data.target,$=le.toLowerCase(),X.push(Ee),Ne&&X.push(Ne)}return[le,X]}function z(J,M){const X=N(J,_.RRSIG);if(X.length===0)return["",null];if(X.length>1){if(!R(X,_.CNAME)||M.type===_.CNAME)return["",null];const[$,le]=h(M.name,J);return[$,le]}const B=X[0],G=B.data;switch(B.type){case _.CNAME:return M.type===_.CNAME||!U(M.name,B.name)?["",null]:[G.target,J];case _.DNAME:{if(M.type===_.DNAME)return["",null];if(!q(B.name,M.name))return["",null];const le=M.name.slice(0,-B.name.length)+G.target;if(!n.isName(le))throw new Error("Invalid DNAME.");return[le,J]}}return["",null]}C.exports=k}],["bns-plus","/lib/server/recursive.js",function(f,Le,C,Fe,He,Ve){/*!
 * recursive.js - recursive dns server for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(98,C),S=ce(128,C);class oe extends e{constructor(P){super(P),this.resolver=new S(P),this.resolver.on("log",(...g)=>this.emit("log",...g)),this.resolver.on("error",g=>this.emit("error",g)),this.ra=!0,this.initOptions(P)}get cache(){return this.resolver.cache}set cache(P){this.resolver.cache=P}get hints(){return this.resolver.hints}set hints(P){this.resolver.hints=P}}C.exports=oe}],["bns-plus","/lib/resolver/root.js",function(f,Le,C,Fe,He,Ve){/*!
 * root.js - root dns resolver for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(2,C),S=ce(11,C),oe=ce(115,C),Q=ce(99,C),P=ce(116,C),g=ce(108,C),u=ce(79,C),H=ce(90,C),{types:a,codes:s,KSK_ARPA:n}=S,{hasType:p,extractSet:v}=u,{Question:K,Message:w,Record:m}=H,_=6*60*60;class E extends oe{constructor(R){super(R);const O=d(this.inet6);this.rd=!1,this.edns=!0,this.dnssec=!0,this.anchors=O.anchors,this.servers=O.servers,this.keyMap=new Map,this.lastUpdate=0,this.arpa=null,R&&this.initOptions(R)}initOptions(R){return this.parseOptions(R),this}referArpa(R){e(R instanceof K),this.arpa||(this.arpa=T());const O=w.decode(this.arpa);return O.question.push(R.clone()),O}async lookupKeys(R,O){const A=new K(R,a.DNSKEY),y=await this.query(A,this.servers),U=new Map;if(y.answer.length===0||y.code!==s.NOERROR)return null;const q=Q.verifyDS(y,O,A.name);if(!q||!Q.verifyZSK(y,q,A.name))return null;const k=new Set;for(const o of y.answer){if(o.type!==a.DNSKEY)continue;const h=o.data;if(!!u.equal(o.name,A.name)&&!!(h.flags&Q.keyFlags.ZONE)){if(h.flags&Q.keyFlags.REVOKE){k.add(h.revTag());continue}U.set(h.keyTag(),o)}}for(const o of k)U.delete(o);return U}isStale(){return u.now()>this.lastUpdate+_}async refreshKeys(){const R=await this.lookupKeys(".",this.anchors);R&&(this.keyMap=R,this.lastUpdate=u.now())}async checkSignatures(R){if(!this.dnssec)return!0;if(R.code!==s.NOERROR&&R.code!==s.NXDOMAIN||(this.isStale()&&await this.refreshKeys(),!Q.verifyMessage(R,this.keyMap)))return!1;if(R.code===s.NXDOMAIN)return!0;if(!p(R.authority,a.NS))return!1;if(p(R.authority,a.DS))return!0;const O=v(R.authority,"",a.NSEC);if(O.length!==1)return!1;const A=O[0].data;return!(!A.hasType(a.NS)||A.hasType(a.DS)||A.hasType(a.SOA))}async resolve(R){if(e(R instanceof K),!u.isName(R.name))throw new Error("Invalid qname.");if(u.countLabels(R.name)!==1)throw new Error("Invalid qname.");if(u.equal(R.name,"arpa."))return this.referArpa(R);const O=await this.query(R,this.servers),A=await this.checkSignatures(O),y=new w;return y.code=O.code,y.question=[R.clone()],y.answer=O.answer,y.authority=O.authority,y.additional=O.additional,y.qr=!0,y.ad=A,Q.stripSignatures(y),y}async lookup(R){const O=new K(R,a.NS);return this.resolve(O)}}function d(N){const R=new P;R.setRoot();const O=R.getAuthority(N);return{anchors:R.anchors,servers:O.servers}}function T(){const N=H.fromZone(g),R=new w;R.qr=!0,R.ad=!0;for(const A of N)switch(A.type){case a.NS:A.name="arpa.",A.canonical(),R.authority.push(A);break;case a.A:case a.AAAA:A.canonical(),R.additional.push(A);break}const O=m.fromString(n);return R.authority.push(O),R.compress()}C.exports=E}],["bns-plus","/lib/srv.js",function(f,Le,C,Fe,He,Ve){/*!
 * srv.js - SRV for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc2782
 */const e=ce(2,C),S=ce(79,C),oe=f;oe.encodeName=function(P,g,u){e(S.isName(P)),e(P.length===0||P[0]!=="_"),e(S.isName(g)),e(g.length>=1&&g.length<=62),e(g[0]!=="_"),e(g.indexOf(".")===-1),e(S.isName(u)),e(u.length>=1&&u.length<=62),e(u[0]!=="_"),e(u.indexOf(".")===-1),P==="."&&(P="");const H=S.fqdn(`_${u}._${g}.${P}`);return e(S.isName(H)),H},oe.decodeName=function(P){e(S.isName(P));const g=S.split(P);e(g.length>=3);const u=S.label(P,g,0),H=S.label(P,g,1);return e(u.length>=2),e(H.length>=2),e(u[0]==="_"),e(H[0]==="_"),{name:S.fqdn(S.from(P,g,2)),protocol:H.substring(1).toLowerCase(),service:u.substring(1).toLowerCase()}},oe.isName=function(P){e(S.isName(P));try{return oe.decodeName(P),!0}catch{return!1}}}],["bns-plus","/lib/server/stub.js",function(f,Le,C,Fe,He,Ve){/*!
 * stub.js - stub dns server for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(98,C),S=ce(114,C);class oe extends e{constructor(P){super(P),this.resolver=new S(P),this.resolver.on("log",(...g)=>this.emit("log",...g)),this.resolver.on("error",g=>this.emit("error",g)),this.ra=!0,this.initOptions(P)}getServers(){return this.resolver.getServers()}setServers(P){return this.resolver.setServers(P),this}get conf(){return this.resolver.conf}set conf(P){this.resolver.conf=P}get hosts(){return this.resolver.hosts}set hosts(P){this.resolver.hosts=P}}C.exports=oe}],["bns-plus","/lib/tsig.js",function(f,Le,C,Fe,He,Ve){/*!
 * tsig.js - TSIG for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 *
 * Parts of this software are based on miekg/dns:
 *   https://github.com/miekg/dns/blob/master/tsig.go
 */const e=ce(2,C),S=ce(14,C),oe=ce(11,C),Q=ce(13,C),P=ce(80,C),g=ce(79,C),u=ce(90,C),{types:H,classes:a,tsigAlgs:s}=oe,{readNameBR:n,writeNameBW:p}=P,{Record:v,TSIGRecord:K}=u,w=300,m=f;m.sign=function(O,A,y,U,q){if(typeof A=="string"){const $=A;A=new v,A.type=H.TSIG,A.data=new K,A.data.algorithm=$}U==null&&(U=null),q==null&&(q=!1),e(O!=null&&O._isBuffer===!0),e(O.length>=12),e(A instanceof v),e(A.type===H.TSIG),e(y!=null&&y._isBuffer===!0),e(U===null||U!=null&&U._isBuffer===!0),e(typeof q=="boolean");const k=S.readU16BE(O,0),o=new v,h=A.data.clone();o.name=".",o.type=H.TSIG,o.class=a.ANY,o.ttl=0,o.data=h,h.algorithm==="."&&(h.algorithm=s.SHA256),h.timeSigned===0&&(h.timeSigned=g.now()),h.fudge===0&&(h.fudge=w),h.origID=k;const z=d(O),J=T(z,h,U,q,0),M=N(h.algorithm,J,y);if(!M)throw new Error(`Unknown TSIG algorithm: ${h.algorithm}.`);h.mac=M;const X=S.readU16BE(z,10),B=o.getSize(),G=S.write(z.length+B);return G.copy(z,0,10),G.writeU16BE(X+1),G.copy(z,12,z.length),o.write(G),G.render()},m.verify=function(O,A,y,U){y==null&&(y=null),U==null&&(U=!1),e(O!=null&&O._isBuffer===!0),e(A!=null&&A._isBuffer===!0),e(y===null||y!=null&&y._isBuffer===!0),e(typeof U=="boolean");const[q,k]=_(O);if(q===-1)return!1;const o=k.data,h=o.timeSigned-o.fudge,z=o.timeSigned+o.fudge,J=g.now();if(J<h||J>z)return!1;const M=O.slice(0,q),X=T(M,o,y,U,-1),B=N(o.algorithm,X,A);return B?Q.safeEqual(o.mac,B):!1};function _(R){e(R!=null&&R._isBuffer===!0);try{return E(R)}catch{return[-1,null]}}function E(R){const O=S.read(R);O.readU16BE(),O.readU16BE();const A=O.readU16BE(),y=O.readU16BE(),U=O.readU16BE(),q=O.readU16BE();if(q===0)return[-1,null];for(let h=0;h<A;h++){if(O.left()===0)return[-1,null];n(O),O.seek(4)}for(let h=0;h<y;h++){if(O.left()===0)return[-1,null];n(O),O.seek(8),O.seek(O.readU16BE())}for(let h=0;h<U;h++){if(O.left()===0)return[-1,null];n(O),O.seek(8),O.seek(O.readU16BE())}for(let h=0;h<q-1;h++){if(O.left()===0)return[-1,null];n(O),O.seek(8),O.seek(O.readU16BE())}const k=O.offset,o=v.read(O);return o.name!=="."?[-1,null]:o.type!==H.TSIG?[-1,null]:o.class!==a.ANY?[-1,null]:o.ttl!==0?[-1,null]:[k,o]}function d(R){e(R!=null&&R._isBuffer===!0),e(R.length>=12);const[O]=_(R);if(O===-1)return R;const A=S.readU16BE(R,10),y=_e.allocUnsafe(O);return R.copy(y,0,0,O),S.writeU16BE(y,A-1,10),y}function T(R,O,A,y,U){e(R!=null&&R._isBuffer===!0),e(R.length>=12),e(O instanceof K),e(A===null||A!=null&&A._isBuffer===!0),e(typeof y=="boolean"),e(Number.isSafeInteger(U));const q=S.readU16BE(R,10);if(q+U<0)throw new Error("Bad offset.");let k=0;A&&(k+=2,k+=A.length),k+=R.length,y?k+=8:(k+=9,k+=O.getSize(),k-=2+O.mac.length+2);const o=S.write(k);if(A&&(o.writeU16BE(A.length),o.writeBytes(A)),o.writeU16BE(O.origID),o.copy(R,2,10),o.writeU16BE(q+U),o.copy(R,12,R.length),y)o.writeU16BE(O.timeSigned/4294967296>>>0),o.writeU32BE(O.timeSigned>>>0),o.writeU16BE(O.fudge);else{const h=O.algorithm.toLowerCase();o.writeU8(0),o.writeU16BE(H.TSIG),o.writeU16BE(a.ANY),o.writeU32BE(0),p(o,h),o.writeU16BE(O.timeSigned/4294967296>>>0),o.writeU32BE(O.timeSigned>>>0),o.writeU16BE(O.fudge),o.writeU16BE(O.error),o.writeU16BE(O.other.length),o.writeBytes(O.other)}return o.render()}function N(R,O,A){switch(e(typeof R=="string"),e(O!=null&&O._isBuffer===!0),e(A!=null&&A._isBuffer===!0),R.toLowerCase()){case s.MD5:return Q.md5.mac(O,A);case s.SHA1:return Q.sha1.mac(O,A);case s.SHA256:return Q.sha256.mac(O,A);case s.SHA512:return Q.sha512.mac(O,A)}return null}m.algs=s}],["bns-plus","/lib/udns.js",function(f,Le,C,Fe,He,Ve){/*!
 * udns.js - replacement dns node.js module (recursive)
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(1,C),S=ce(109,C),oe=ce(116,C),Q=ce(135,C);let P=null,g=null;const u=new S;function H(s){P||(P=oe.fromRoot());const n=new Q(s);return g||(g=n.ub),s.hints||(n.hints=P.clone()),s.cache||(n.cache=u),n.ub=g,n}const a=e.make(H,{tcp:!0,edns:!0,dnssec:!0});a.version=Q.version,a.native=Q.native,C.exports=a}],["bns-plus","/lib/resolver/unbound-browser.js",function(f,Le,C,Fe,He,Ve){/*!
 * unbound.js - unbound dns resolver for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */C.exports=ce(128,C)}],["bns-plus","/lib/server/unbound.js",function(f,Le,C,Fe,He,Ve){/*!
 * unbound.js - unbound recursive dns server for bns
 * Copyright (c) 2018, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bns
 */const e=ce(98,C),S=ce(135,C);class oe extends e{constructor(P){super(P),this.resolver=new S(P),this.resolver.on("log",(...g)=>this.emit("log",...g)),this.resolver.on("error",g=>this.emit("error",g)),this.ra=!0,this.initOptions(P)}get cache(){return this.resolver.cache}set cache(P){this.resolver.cache=P}get hints(){return this.resolver.hints}set hints(P){this.resolver.hints=P}}oe.version=S.version,oe.native=S.native,C.exports=oe}],["bpkg","/lib/builtins/timers.js",function(f,Le,C,Fe,He,Ve){/*!
 * timers-browserify@2.0.10 - timers module for browserify
 * Copyright (c) 2019, J. Ryan Stinnett
 * https://github.com/jryans/timers-browserify
 *
 * License for timers-browserify@2.0.10:
 *
 * # timers-browserify
 *
 * This project uses the [MIT](http://jryans.mit-license.org/) license:
 *
 * Copyright © 2012 J. Ryan Stinnett <jryans@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * # lib/node
 *
 * The `lib/node` directory borrows files from joyent/node which uses the
 * following license:
 *
 * Copyright Joyent, Inc. and other Node contributors. All rights reserved.
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the 'Software'), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * License for setimmediate@1.0.5:
 *
 * Copyright (c) 2012 Barnesandnoble.com, llc, Donavon West, and Domenic
 * Denicola
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the 'Software'), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var e=f,S=Ht,oe=Function.prototype.apply,Q=Array.prototype.slice,P=S.setTimeout,g=S.clearTimeout,u=S.setInterval,H=S.clearInterval,a=S.setImmediate,s=S.clearImmediate;function n(){return!1}function p(){return this}function v(w,m,_){this._id=oe.call(w,S,_),this._set=w,this._clear=m,this._args=_}v.prototype.hasRef=n,v.prototype.ref=p,v.prototype.unref=p,v.prototype.refresh=function(){return this._clear.call(S,this._id),this._id=oe.call(this._set,S,this._args),this},v.prototype.close=function(){return this._clear.call(S,this._id),this};function K(w){this._id=w}K.prototype.hasRef=n,K.prototype.ref=p,K.prototype.unref=p,e.setTimeout=function(){var w=Q.call(arguments,0);return new v(P,g,w)},e.clearTimeout=function(w){w instanceof v&&w.close()},e.setInterval=function(){var w=Q.call(arguments,0);return new v(u,H,w)},e.clearInterval=e.clearTimeout,e.setImmediate=function(){return new K(oe.call(a,S,arguments))},e.clearImmediate=function(w){w instanceof K&&s.call(S,w._id)},function(){if(S.setImmediate)return;var w=1,m={},_=!1,E=S.document,d;function T(o){typeof o!="function"&&(o=new Function(String(o)));for(var h=new Array(arguments.length-1),z=0;z<h.length;z++)h[z]=arguments[z+1];var J={callback:o,args:h};return m[w]=J,d(w),w++}function N(o){delete m[o]}function R(o){var h=o.callback,z=o.args;switch(z.length){case 0:h();break;case 1:h(z[0]);break;case 2:h(z[0],z[1]);break;case 3:h(z[0],z[1],z[2]);break;default:h.apply(je,z);break}}function O(o){if(_)P(O,0,o);else{var h=m[o];if(h){_=!0;try{R(h)}finally{N(o),_=!1}}}}function A(){if(S.postMessage&&!S.importScripts){var o=!0,h=S.onmessage;return S.onmessage=function(){o=!1},S.postMessage("","*"),S.onmessage=h,o}return!1}function y(){var o="setImmediate$"+Math.random()+"$",h=function(z){z.source===S&&typeof z.data=="string"&&z.data.indexOf(o)===0&&O(z.data.slice(o.length))};S.addEventListener?S.addEventListener("message",h,!1):S.attachEvent("onmessage",h),d=function(z){S.postMessage(o+z,"*")}}function U(){var o=new MessageChannel;o.port1.onmessage=function(h){var z=h.data;O(z)},d=function(h){o.port2.postMessage(h)}}function q(){var o=E.documentElement;d=function(h){var z=E.createElement("script");z.onreadystatechange=function(){O(h),z.onreadystatechange=null,o.removeChild(z),z=null},o.appendChild(z)}}function k(){d=function(o){P(O,0,o)}}A()?y():S.MessageChannel?U():E&&"onreadystatechange"in E.createElement("script")?q():k(),a=T,s=N}()}],["bpkg","/lib/builtins/process.js",function(f,Le,C,Fe,He,Ve){/*!
 * process.js - node process for javascript
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/chjj/bpkg
 *
 * Parts of this software are based on defunctzombie/node-process:
 *   Copyright (c) 2013, Roman Shtylman <shtylman@gmail.com>
 *   https://github.com/defunctzombie/node-process
 *
 * (The MIT License)
 *
 * Copyright (c) 2013 Roman Shtylman <shtylman@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */var e=f,S=Ht,oe=S.setTimeout,Q=S.clearTimeout,P=Number(new Date),g=[],u=!1,H,a=-1;function s(){return[]}function n(){return!1}function p(){}function v(){return 0}function K(){return""}function w(){return this}function m(){!u||!H||(u=!1,H.length>0?g=H.concat(g):a=-1,g.length>0&&_())}function _(){if(!u){var d=oe.call(S,m,0),T=g.length;for(u=!0;T>0;){for(H=g,g=[];++a<T;)H&&H[a].run();a=-1,T=g.length}H=null,u=!1,Q.call(S,d)}}function E(d,T){this.func=d,this.array=T}E.prototype.run=function(){this.func.apply(null,this.array)},e.allowedNodeEnvironmentFlags=typeof Set=="function"?new Set:je,e.arch="javascript",e.argv=["/usr/bin/node"],e.argv0="node",e.browser=!0,e.channel=je,e.config={},e.connected=je,e.debugPort=9229,e.env={__proto__:null},e.env.PATH="/usr/bin",e.env.HOME="/",e.execArgv=[],e.execPath="/usr/bin/node",e.exitCode=je,e.mainModule=null,e.noDeprecation=!1,e.pid=1,e.platform="browser",e.ppid=1,e.release={name:"browser"},e.report={},e.stdin=null,e.stdout=null,e.stderr=null,e.throwDeprecation=!1,e.title="browser",e.traceDeprecation=!1,e.version="v0.0.0",e.versions={node:"0.0.0"},e._events={__proto__:null},e._eventsCount=0,e._maxListeners=0,e.addListener=w,e.emit=n,e.eventNames=s,e.getMaxListeners=v,e.listenerCount=v,e.listeners=s,e.off=w,e.on=w,e.once=w,e.prependListener=w,e.prependOnceListener=w,e.removeAllListeners=w,e.removeListener=w,e.setMaxListeners=w,e.rawListeners=s,e.abort=function(){throw new Error("Process aborted.")},e.binding=function(d){throw new Error("process.binding is not supported.")},e.chdir=function(d){throw new Error("process.chdir is not supported.")},e.cpuUsage=function(d){return{user:0,system:0}},e.cwd=function(){return"/"},e.dlopen=function(d,T,N){throw new Error("process.dlopen is not supported.")},e.emitWarning=function(d,T){var N="Warning: "+d;Yt.warn?Yt.warn(N):Yt.error?Yt.error(N):Yt.log(N)},e.exit=function(d){throw d==null&&(d=e.exitCode),d>>>=0,new Error("Exit code: "+d+".")},e.getegid=v,e.geteuid=v,e.getgid=v,e.getgroups=s,e.getuid=v,e.hasUncaughtExceptionCaptureCallback=n,e.hrtime=function(d){var T=Number(new Date)-P,N,R,O,A;return T<0&&(P=Number(new Date),T=0),d&&(R=d[0],A=d[1],O=R*1e3+Math.floor(A/1e6),T-=O,isFinite(T)||(T=0),T<0&&(T=0)),N=T%1e3,R=(T-N)/1e3,A=N*1e6,[R,A]},e.hrtime.bigint=function(){if(typeof BigInt!="function")throw new Error("BigInt is unsupported.");var d=Number(new Date)-P;return d<0&&(P=Number(new Date),d=0),BigInt(d)*BigInt(1e6)},e.initgroups=p,e.kill=p,e.memoryUsage=function(){return{rss:0,heapTotal:0,heapUsed:0,external:0}},e.nextTick=function(d){if(typeof d!="function")throw new TypeError("Callback must be a function");var T=new Array(arguments.length-1),N;if(arguments.length>1)for(N=1;N<arguments.length;N++)T[N-1]=arguments[N];g.push(new E(d,T)),g.length===1&&!u&&oe.call(S,_,0)},e.report.getReport=K,e.report.setOptions=p,e.report.triggerReport=K,e.send=je,e.setegid=p,e.seteuid=p,e.setgid=p,e.setgroups=p,e.setuid=p,e.setUncaughtExceptionCaptureCallback=p,e.umask=v,e.uptime=function(){var d=Number(new Date)-P;return d<0&&(P=Number(new Date),d=0),d/1e3}}],["bpkg","/lib/builtins/buffer.js",function(f,Le,C,Fe,He,Ve){/*!
 * buffer@5.2.1 - Node.js Buffer API, for the browser
 * Copyright (c) 2019, Feross Aboukhadijeh (MIT)
 * https://github.com/feross/buffer
 *
 * License for buffer@5.2.1:
 *
 * The MIT License (MIT)
 *
 * Copyright (c) Feross Aboukhadijeh, and other contributors.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for base64-js@1.3.0:
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2014
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * License for ieee754@1.1.12:
 *
 * Copyright (c) 2008, Fair Oaks Labs, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * * Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * * Neither the name of Fair Oaks Labs, Inc. nor the names of its contributors
 * may be used to endorse or promote products derived from this software
 * without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var e=[["buffer","/index.js",function(P,g,u,H,a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var s=Q(1),n=Q(2);P.Buffer=w,P.SlowBuffer=y,P.INSPECT_MAX_BYTES=50;var p=2147483647;P.kMaxLength=p,w.TYPED_ARRAY_SUPPORT=v(),!w.TYPED_ARRAY_SUPPORT&&typeof Yt<"u"&&typeof Yt.error=="function"&&Yt.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{var te=new Uint8Array(1);return te.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},te.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){return w.isBuffer(this)?this.buffer:je}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){return w.isBuffer(this)?this.byteOffset:je}});function K(te){if(te>p)throw new RangeError('The value "'+te+'" is invalid for option "size"');var D=new Uint8Array(te);return D.__proto__=w.prototype,D}function w(te,D,F){if(typeof te=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(te)}return m(te,D,F)}typeof Symbol<"u"&&Symbol.species!=null&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),w.poolSize=8192;function m(te,D,F){if(typeof te=="string")return T(te,D);if(ArrayBuffer.isView(te))return N(te);if(te==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(W(te,ArrayBuffer)||te&&W(te.buffer,ArrayBuffer))return R(te,D,F);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var he=te.valueOf&&te.valueOf();if(he!=null&&he!==te)return w.from(he,D,F);var we=O(te);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return w.from(te[Symbol.toPrimitive]("string"),D,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}w.from=function(te,D,F){return m(te,D,F)},w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array;function _(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function E(te,D,F){return _(te),te<=0?K(te):D!==je?typeof F=="string"?K(te).fill(D,F):K(te).fill(D):K(te)}w.alloc=function(te,D,F){return E(te,D,F)};function d(te){return _(te),K(te<0?0:A(te)|0)}w.allocUnsafe=function(te){return d(te)},w.allocUnsafeSlow=function(te){return d(te)};function T(te,D){if((typeof D!="string"||D==="")&&(D="utf8"),!w.isEncoding(D))throw new TypeError("Unknown encoding: "+D);var F=U(te,D)|0,he=K(F),we=he.write(te,D);return we!==F&&(he=he.slice(0,we)),he}function N(te){for(var D=te.length<0?0:A(te.length)|0,F=K(D),he=0;he<D;he+=1)F[he]=te[he]&255;return F}function R(te,D,F){if(D<0||te.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<D+(F||0))throw new RangeError('"length" is outside of buffer bounds');var he;return D===je&&F===je?he=new Uint8Array(te):F===je?he=new Uint8Array(te,D):he=new Uint8Array(te,D,F),he.__proto__=w.prototype,he}function O(te){if(te!=null&&te._isBuffer===!0){var D=A(te.length)|0,F=K(D);return F.length===0||te.copy(F,0,0,D),F}if(te.length!==je)return typeof te.length!="number"||ue(te.length)?K(0):N(te);if(te.type==="Buffer"&&Array.isArray(te.data))return N(te.data)}function A(te){if(te>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return te|0}function y(te){return+te!=te&&(te=0),w.alloc(+te)}w.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==w.prototype},w.compare=function(D,F){if(W(D,Uint8Array)&&(D=w.from(D,D.offset,D.byteLength)),W(F,Uint8Array)&&(F=w.from(F,F.offset,F.byteLength)),!(D!=null&&D._isBuffer===!0)||!(F!=null&&F._isBuffer===!0))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===F)return 0;for(var he=D.length,we=F.length,Me=0,de=Math.min(he,we);Me<de;++Me)if(D[Me]!==F[Me]){he=D[Me],we=F[Me];break}return he<we?-1:we<he?1:0},w.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(D,F){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return w.alloc(0);var he;if(F===je)for(F=0,he=0;he<D.length;++he)F+=D[he].length;var we=w.allocUnsafe(F),Me=0;for(he=0;he<D.length;++he){var de=D[he];if(W(de,Uint8Array)&&(de=w.from(de)),!(de!=null&&de._isBuffer===!0))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(we,Me),Me+=de.length}return we};function U(te,D){if(te!=null&&te._isBuffer===!0)return te.length;if(ArrayBuffer.isView(te)||W(te,ArrayBuffer))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);var F=te.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&F===0)return 0;for(var we=!1;;)switch(D){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return t(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return Y(te).length;default:if(we)return he?-1:t(te).length;D=(""+D).toLowerCase(),we=!0}}w.byteLength=U;function q(te,D,F){var he=!1;if((D===je||D<0)&&(D=0),D>this.length||((F===je||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,D>>>=0,F<=D))return"";for(te||(te="utf8");;)switch(te){case"hex":return ge(this,D,F);case"utf8":case"utf-8":return le(this,D,F);case"ascii":return ke(this,D,F);case"latin1":case"binary":return se(this,D,F);case"base64":return $(this,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,D,F);default:if(he)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),he=!0}}w.prototype._isBuffer=!0;function k(te,D,F){var he=te[D];te[D]=te[F],te[F]=he}w.prototype.swap16=function(){var D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<D;F+=2)k(this,F,F+1);return this},w.prototype.swap32=function(){var D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<D;F+=4)k(this,F,F+3),k(this,F+1,F+2);return this},w.prototype.swap64=function(){var D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<D;F+=8)k(this,F,F+7),k(this,F+1,F+6),k(this,F+2,F+5),k(this,F+3,F+4);return this},w.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?le(this,0,D):q.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(D){if(!(D!=null&&D._isBuffer===!0))throw new TypeError("Argument must be a Buffer");return this===D?!0:w.compare(this,D)===0},w.prototype.inspect=function(){var D="",F=P.INSPECT_MAX_BYTES;return D=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(D+=" ... "),"<Buffer "+D+">"},w.prototype.compare=function(D,F,he,we,Me){if(W(D,Uint8Array)&&(D=w.from(D,D.offset,D.byteLength)),!(D!=null&&D._isBuffer===!0))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(F===je&&(F=0),he===je&&(he=D?D.length:0),we===je&&(we=0),Me===je&&(Me=this.length),F<0||he>D.length||we<0||Me>this.length)throw new RangeError("out of range index");if(we>=Me&&F>=he)return 0;if(we>=Me)return-1;if(F>=he)return 1;if(F>>>=0,he>>>=0,we>>>=0,Me>>>=0,this===D)return 0;for(var de=Me-we,Se=he-F,ye=Math.min(de,Se),me=this.slice(we,Me),Te=D.slice(F,he),xe=0;xe<ye;++xe)if(me[xe]!==Te[xe]){de=me[xe],Se=Te[xe];break}return de<Se?-1:Se<de?1:0};function o(te,D,F,he,we){if(te.length===0)return-1;if(typeof F=="string"?(he=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,ue(F)&&(F=we?0:te.length-1),F<0&&(F=te.length+F),F>=te.length){if(we)return-1;F=te.length-1}else if(F<0)if(we)F=0;else return-1;if(typeof D=="string"&&(D=w.from(D,he)),D!=null&&D._isBuffer===!0)return D.length===0?-1:h(te,D,F,he,we);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(te,D,F):Uint8Array.prototype.lastIndexOf.call(te,D,F):h(te,[D],F,he,we);throw new TypeError("val must be string, number or Buffer")}function h(te,D,F,he,we){var Me=1,de=te.length,Se=D.length;if(he!==je&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(te.length<2||D.length<2)return-1;Me=2,de/=2,Se/=2,F/=2}function ye(Ce,Ke){return Me===1?Ce[Ke]:Ce.readUInt16BE(Ke*Me)}var me;if(we){var Te=-1;for(me=F;me<de;me++)if(ye(te,me)===ye(D,Te===-1?0:me-Te)){if(Te===-1&&(Te=me),me-Te+1===Se)return Te*Me}else Te!==-1&&(me-=me-Te),Te=-1}else for(F+Se>de&&(F=de-Se),me=F;me>=0;me--){for(var xe=!0,Pe=0;Pe<Se;Pe++)if(ye(te,me+Pe)!==ye(D,Pe)){xe=!1;break}if(xe)return me}return-1}w.prototype.includes=function(D,F,he){return this.indexOf(D,F,he)!==-1},w.prototype.indexOf=function(D,F,he){return o(this,D,F,he,!0)},w.prototype.lastIndexOf=function(D,F,he){return o(this,D,F,he,!1)};function z(te,D,F,he){F=Number(F)||0;var we=te.length-F;he?(he=Number(he),he>we&&(he=we)):he=we;var Me=D.length;he>Me/2&&(he=Me/2);for(var de=0;de<he;++de){var Se=parseInt(D.substr(de*2,2),16);if(ue(Se))return de;te[F+de]=Se}return de}function J(te,D,F,he){return Z(t(D,te.length-F),te,F,he)}function M(te,D,F,he){return Z(l(D),te,F,he)}function X(te,D,F,he){return M(te,D,F,he)}function B(te,D,F,he){return Z(Y(D),te,F,he)}function G(te,D,F,he){return Z(I(D,te.length-F),te,F,he)}w.prototype.write=function(D,F,he,we){if(F===je)we="utf8",he=this.length,F=0;else if(he===je&&typeof F=="string")we=F,he=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(he)?(he=he>>>0,we===je&&(we="utf8")):(we=he,he=je);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Me=this.length-F;if((he===je||he>Me)&&(he=Me),D.length>0&&(he<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");for(var de=!1;;)switch(we){case"hex":return z(this,D,F,he);case"utf8":case"utf-8":return J(this,D,F,he);case"ascii":return M(this,D,F,he);case"latin1":case"binary":return X(this,D,F,he);case"base64":return B(this,D,F,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,D,F,he);default:if(de)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),de=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(te,D,F){return D===0&&F===te.length?s.fromByteArray(te):s.fromByteArray(te.slice(D,F))}function le(te,D,F){F=Math.min(te.length,F);for(var he=[],we=D;we<F;){var Me=te[we],de=null,Se=Me>239?4:Me>223?3:Me>191?2:1;if(we+Se<=F){var ye,me,Te,xe;switch(Se){case 1:Me<128&&(de=Me);break;case 2:ye=te[we+1],(ye&192)===128&&(xe=(Me&31)<<6|ye&63,xe>127&&(de=xe));break;case 3:ye=te[we+1],me=te[we+2],(ye&192)===128&&(me&192)===128&&(xe=(Me&15)<<12|(ye&63)<<6|me&63,xe>2047&&(xe<55296||xe>57343)&&(de=xe));break;case 4:ye=te[we+1],me=te[we+2],Te=te[we+3],(ye&192)===128&&(me&192)===128&&(Te&192)===128&&(xe=(Me&15)<<18|(ye&63)<<12|(me&63)<<6|Te&63,xe>65535&&xe<1114112&&(de=xe))}}de===null?(de=65533,Se=1):de>65535&&(de-=65536,he.push(de>>>10&1023|55296),de=56320|de&1023),he.push(de),we+=Se}return Ne(he)}var Ee=4096;function Ne(te){var D=te.length;if(D<=Ee)return String.fromCharCode.apply(String,te);for(var F="",he=0;he<D;)F+=String.fromCharCode.apply(String,te.slice(he,he+=Ee));return F}function ke(te,D,F){var he="";F=Math.min(te.length,F);for(var we=D;we<F;++we)he+=String.fromCharCode(te[we]&127);return he}function se(te,D,F){var he="";F=Math.min(te.length,F);for(var we=D;we<F;++we)he+=String.fromCharCode(te[we]);return he}function ge(te,D,F){var he=te.length;(!D||D<0)&&(D=0),(!F||F<0||F>he)&&(F=he);for(var we="",Me=D;Me<F;++Me)we+=j(te[Me]);return we}function ve(te,D,F){for(var he=te.slice(D,F),we="",Me=0;Me<he.length;Me+=2)we+=String.fromCharCode(he[Me]+he[Me+1]*256);return we}w.prototype.slice=function(D,F){var he=this.length;D=~~D,F=F===je?he:~~F,D<0?(D+=he,D<0&&(D=0)):D>he&&(D=he),F<0?(F+=he,F<0&&(F=0)):F>he&&(F=he),F<D&&(F=D);var we=this.subarray(D,F);return we.__proto__=w.prototype,we};function Ue(te,D,F){if(te%1!==0||te<0)throw new RangeError("offset is not uint");if(te+D>F)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUIntLE=function(D,F,he){D=D>>>0,F=F>>>0,he||Ue(D,F,this.length);for(var we=this[D],Me=1,de=0;++de<F&&(Me*=256);)we+=this[D+de]*Me;return we},w.prototype.readUIntBE=function(D,F,he){D=D>>>0,F=F>>>0,he||Ue(D,F,this.length);for(var we=this[D+--F],Me=1;F>0&&(Me*=256);)we+=this[D+--F]*Me;return we},w.prototype.readUInt8=function(D,F){return D=D>>>0,F||Ue(D,1,this.length),this[D]},w.prototype.readUInt16LE=function(D,F){return D=D>>>0,F||Ue(D,2,this.length),this[D]|this[D+1]<<8},w.prototype.readUInt16BE=function(D,F){return D=D>>>0,F||Ue(D,2,this.length),this[D]<<8|this[D+1]},w.prototype.readUInt32LE=function(D,F){return D=D>>>0,F||Ue(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},w.prototype.readUInt32BE=function(D,F){return D=D>>>0,F||Ue(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},w.prototype.readBigUInt64LE=pe(function(D,F){D=D>>>0,F||Ue(D,8,this.length);var he=this[D],we=this[D+7],Me=he+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,de=this[++D]+this[++D]*2**8+this[++D]*2**16+we*2**24;return BigInt(Me)+(BigInt(de)<<BigInt(32))}),w.prototype.readBigUInt64BE=pe(function(D,F){D=D>>>0,F||Ue(D,8,this.length);var he=this[D],we=this[D+7],Me=he*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],de=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+we;return(BigInt(Me)<<BigInt(32))+BigInt(de)}),w.prototype.readIntLE=function(D,F,he){D=D>>>0,F=F>>>0,he||Ue(D,F,this.length);for(var we=this[D],Me=1,de=0;++de<F&&(Me*=256);)we+=this[D+de]*Me;return Me*=128,we>=Me&&(we-=Math.pow(2,8*F)),we},w.prototype.readIntBE=function(D,F,he){D=D>>>0,F=F>>>0,he||Ue(D,F,this.length);for(var we=F,Me=1,de=this[D+--we];we>0&&(Me*=256);)de+=this[D+--we]*Me;return Me*=128,de>=Me&&(de-=Math.pow(2,8*F)),de},w.prototype.readInt8=function(D,F){return D=D>>>0,F||Ue(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},w.prototype.readInt16LE=function(D,F){D=D>>>0,F||Ue(D,2,this.length);var he=this[D]|this[D+1]<<8;return he&32768?he|4294901760:he},w.prototype.readInt16BE=function(D,F){D=D>>>0,F||Ue(D,2,this.length);var he=this[D+1]|this[D]<<8;return he&32768?he|4294901760:he},w.prototype.readInt32LE=function(D,F){return D=D>>>0,F||Ue(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},w.prototype.readInt32BE=function(D,F){return D=D>>>0,F||Ue(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},w.prototype.readBigInt64LE=pe(function(D,F){D=D>>>0,F||Ue(D,8,this.length);var he=this[D],we=this[D+7],Me=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(we<<24);return(BigInt(Me)<<BigInt(32))+BigInt(he+this[++D]*256+this[++D]*65536+this[++D]*16777216)}),w.prototype.readBigInt64BE=pe(function(D,F){D=D>>>0,F||Ue(D,8,this.length);var he=this[D],we=this[D+7],Me=(he<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(Me)<<BigInt(32))+BigInt(this[++D]*16777216+this[++D]*65536+this[++D]*256+we)}),w.prototype.readFloatLE=function(D,F){return D=D>>>0,F||Ue(D,4,this.length),n.read(this,D,!0,23,4)},w.prototype.readFloatBE=function(D,F){return D=D>>>0,F||Ue(D,4,this.length),n.read(this,D,!1,23,4)},w.prototype.readDoubleLE=function(D,F){return D=D>>>0,F||Ue(D,8,this.length),n.read(this,D,!0,52,8)},w.prototype.readDoubleBE=function(D,F){return D=D>>>0,F||Ue(D,8,this.length),n.read(this,D,!1,52,8)};function re(te,D,F,he,we,Me){if(!(te!=null&&te._isBuffer===!0))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>we||D<Me)throw new RangeError('"value" argument is out of bounds');if(F+he>te.length)throw new RangeError("Index out of range")}w.prototype.writeUIntLE=function(D,F,he,we){if(D=+D,F=F>>>0,he=he>>>0,!we){var Me=Math.pow(2,8*he)-1;re(this,D,F,he,Me,0)}var de=1,Se=0;for(this[F]=D&255;++Se<he&&(de*=256);)this[F+Se]=D/de&255;return F+he},w.prototype.writeUIntBE=function(D,F,he,we){if(D=+D,F=F>>>0,he=he>>>0,!we){var Me=Math.pow(2,8*he)-1;re(this,D,F,he,Me,0)}var de=he-1,Se=1;for(this[F+de]=D&255;--de>=0&&(Se*=256);)this[F+de]=D/Se&255;return F+he},w.prototype.writeUInt8=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,1,255,0),this[F]=D&255,F+1},w.prototype.writeUInt16LE=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,2,65535,0),this[F]=D&255,this[F+1]=D>>>8,F+2},w.prototype.writeUInt16BE=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,2,65535,0),this[F]=D>>>8,this[F+1]=D&255,F+2},w.prototype.writeUInt32LE=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,4,4294967295,0),this[F+3]=D>>>24,this[F+2]=D>>>16,this[F+1]=D>>>8,this[F]=D&255,F+4},w.prototype.writeUInt32BE=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,4,4294967295,0),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4};function Re(te,D,F,he,we,Me){if(!(te!=null&&te._isBuffer===!0))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>we||D<Me)throw new RangeError('"value" argument is out of bounds');if(F+he>te.length)throw new RangeError("Index out of range")}function r(te,D,F,he,we,Me){F=F>>>0,he||Re(te,D,F,8,Me,we);var de=Number(D&BigInt(4294967295));te[F++]=de,de=de>>8,te[F++]=de,de=de>>8,te[F++]=de,de=de>>8,te[F++]=de;var Se=Number(D>>BigInt(32)&BigInt(4294967295));return te[F++]=Se,Se=Se>>8,te[F++]=Se,Se=Se>>8,te[F++]=Se,Se=Se>>8,te[F++]=Se,F}function c(te,D,F,he,we,Me){F=F>>>0,he||Re(te,D,F,8,Me,we);var de=Number(D&BigInt(4294967295));te[F+7]=de,de=de>>8,te[F+6]=de,de=de>>8,te[F+5]=de,de=de>>8,te[F+4]=de;var Se=Number(D>>BigInt(32)&BigInt(4294967295));return te[F+3]=Se,Se=Se>>8,te[F+2]=Se,Se=Se>>8,te[F+1]=Se,Se=Se>>8,te[F]=Se,F+8}w.prototype.writeBigUInt64LE=pe(function(D,F,he){return r(this,D,F,he,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=pe(function(D,F,he){return c(this,D,F,he,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(D,F,he,we){if(D=+D,F=F>>>0,!we){var Me=Math.pow(2,8*he-1);re(this,D,F,he,Me-1,-Me)}var de=0,Se=1,ye=0;for(this[F]=D&255;++de<he&&(Se*=256);)D<0&&ye===0&&this[F+de-1]!==0&&(ye=1),this[F+de]=(D/Se>>0)-ye&255;return F+he},w.prototype.writeIntBE=function(D,F,he,we){if(D=+D,F=F>>>0,!we){var Me=Math.pow(2,8*he-1);re(this,D,F,he,Me-1,-Me)}var de=he-1,Se=1,ye=0;for(this[F+de]=D&255;--de>=0&&(Se*=256);)D<0&&ye===0&&this[F+de+1]!==0&&(ye=1),this[F+de]=(D/Se>>0)-ye&255;return F+he},w.prototype.writeInt8=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,1,127,-128),D<0&&(D=255+D+1),this[F]=D&255,F+1},w.prototype.writeInt16LE=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,2,32767,-32768),this[F]=D&255,this[F+1]=D>>>8,F+2},w.prototype.writeInt16BE=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,2,32767,-32768),this[F]=D>>>8,this[F+1]=D&255,F+2},w.prototype.writeInt32LE=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,4,2147483647,-2147483648),this[F]=D&255,this[F+1]=D>>>8,this[F+2]=D>>>16,this[F+3]=D>>>24,F+4},w.prototype.writeInt32BE=function(D,F,he){return D=+D,F=F>>>0,he||re(this,D,F,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4},w.prototype.writeBigInt64LE=pe(function(D,F,he){return r(this,D,F,he,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=pe(function(D,F,he){return c(this,D,F,he,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function b(te,D,F,he,we,Me){if(F+he>te.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function V(te,D,F,he,we){return D=+D,F=F>>>0,we||b(te,D,F,4),n.write(te,D,F,he,23,4),F+4}w.prototype.writeFloatLE=function(D,F,he){return V(this,D,F,!0,he)},w.prototype.writeFloatBE=function(D,F,he){return V(this,D,F,!1,he)};function ie(te,D,F,he,we){return D=+D,F=F>>>0,we||b(te,D,F,8),n.write(te,D,F,he,52,8),F+8}w.prototype.writeDoubleLE=function(D,F,he){return ie(this,D,F,!0,he)},w.prototype.writeDoubleBE=function(D,F,he){return ie(this,D,F,!1,he)},w.prototype.copy=function(D,F,he,we){if(!(D!=null&&D._isBuffer===!0))throw new TypeError("argument should be a Buffer");if(he||(he=0),!we&&we!==0&&(we=this.length),F>=D.length&&(F=D.length),F||(F=0),we>0&&we<he&&(we=he),we===he||D.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),D.length-F<we-he&&(we=D.length-F+he);var Me=we-he;if(this===D&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(F,he,we);else if(this===D&&he<F&&F<we)for(var de=Me-1;de>=0;--de)D[de+F]=this[de+he];else Uint8Array.prototype.set.call(D,this.subarray(he,we),F);return Me},w.prototype.fill=function(D,F,he,we){if(typeof D=="string"){if(typeof F=="string"?(we=F,F=0,he=this.length):typeof he=="string"&&(we=he,he=this.length),we!==je&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!w.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(D.length===1){var Me=D.charCodeAt(0);(we==="utf8"&&Me<128||we==="latin1")&&(D=Me)}}else typeof D=="number"&&(D=D&255);if(F<0||this.length<F||this.length<he)throw new RangeError("Out of range index");if(he<=F)return this;F=F>>>0,he=he===je?this.length:he>>>0,D||(D=0);var de;if(typeof D=="number")for(de=F;de<he;++de)this[de]=D;else{var Se=D!=null&&D._isBuffer===!0?D:w.from(D,we),ye=Se.length;if(ye===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(de=0;de<he-F;++de)this[de+F]=Se[de%ye]}return this};var L=/[^+/0-9A-Za-z-_]/g;function x(te){if(te=te.split("=")[0],te=te.trim().replace(L,""),te.length<2)return"";for(;te.length%4!==0;)te=te+"=";return te}function j(te){return te<16?"0"+te.toString(16):te.toString(16)}function t(te,D){D=D||1/0;for(var F,he=te.length,we=null,Me=[],de=0;de<he;++de){if(F=te.charCodeAt(de),F>55295&&F<57344){if(!we){if(F>56319){(D-=3)>-1&&Me.push(239,191,189);continue}else if(de+1===he){(D-=3)>-1&&Me.push(239,191,189);continue}we=F;continue}if(F<56320){(D-=3)>-1&&Me.push(239,191,189),we=F;continue}F=(we-55296<<10|F-56320)+65536}else we&&(D-=3)>-1&&Me.push(239,191,189);if(we=null,F<128){if((D-=1)<0)break;Me.push(F)}else if(F<2048){if((D-=2)<0)break;Me.push(F>>6|192,F&63|128)}else if(F<65536){if((D-=3)<0)break;Me.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((D-=4)<0)break;Me.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return Me}function l(te){for(var D=[],F=0;F<te.length;++F)D.push(te.charCodeAt(F)&255);return D}function I(te,D){for(var F,he,we,Me=[],de=0;de<te.length&&!((D-=2)<0);++de)F=te.charCodeAt(de),he=F>>8,we=F%256,Me.push(we),Me.push(he);return Me}function Y(te){return s.toByteArray(x(te))}function Z(te,D,F,he){for(var we=0;we<he&&!(we+F>=D.length||we>=te.length);++we)D[we+F]=te[we];return we}function W(te,D){return te instanceof D||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===D.name}function ue(te){return te!==te}function pe(te){return typeof BigInt>"u"?Ie:te}function Ie(){throw new Error("BigInt not supported")}}],["base64-js","/index.js",function(P,g,u,H,a){P.byteLength=_,P.toByteArray=d,P.fromByteArray=R;for(var s=[],n=[],p=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=0,w=v.length;K<w;++K)s[K]=v[K],n[v.charCodeAt(K)]=K;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63;function m(O){var A=O.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=O.indexOf("=");y===-1&&(y=A);var U=y===A?0:4-y%4;return[y,U]}function _(O){var A=m(O),y=A[0],U=A[1];return(y+U)*3/4-U}function E(O,A,y){return(A+y)*3/4-y}function d(O){for(var A,y=m(O),U=y[0],q=y[1],k=new p(E(O,U,q)),o=0,h=q>0?U-4:U,z=0;z<h;z+=4)A=n[O.charCodeAt(z)]<<18|n[O.charCodeAt(z+1)]<<12|n[O.charCodeAt(z+2)]<<6|n[O.charCodeAt(z+3)],k[o++]=A>>16&255,k[o++]=A>>8&255,k[o++]=A&255;return q===2&&(A=n[O.charCodeAt(z)]<<2|n[O.charCodeAt(z+1)]>>4,k[o++]=A&255),q===1&&(A=n[O.charCodeAt(z)]<<10|n[O.charCodeAt(z+1)]<<4|n[O.charCodeAt(z+2)]>>2,k[o++]=A>>8&255,k[o++]=A&255),k}function T(O){return s[O>>18&63]+s[O>>12&63]+s[O>>6&63]+s[O&63]}function N(O,A,y){for(var U,q=[],k=A;k<y;k+=3)U=(O[k]<<16&16711680)+(O[k+1]<<8&65280)+(O[k+2]&255),q.push(T(U));return q.join("")}function R(O){for(var A,y=O.length,U=y%3,q=[],k=16383,o=0,h=y-U;o<h;o+=k)q.push(N(O,o,o+k>h?h:o+k));return U===1?(A=O[y-1],q.push(s[A>>2]+s[A<<4&63]+"==")):U===2&&(A=(O[y-2]<<8)+O[y-1],q.push(s[A>>10]+s[A>>4&63]+s[A<<2&63]+"=")),q.join("")}}],["ieee754","/index.js",function(P,g,u,H,a){P.read=function(s,n,p,v,K){var w,m,_=K*8-v-1,E=(1<<_)-1,d=E>>1,T=-7,N=p?K-1:0,R=p?-1:1,O=s[n+N];for(N+=R,w=O&(1<<-T)-1,O>>=-T,T+=_;T>0;w=w*256+s[n+N],N+=R,T-=8);for(m=w&(1<<-T)-1,w>>=-T,T+=v;T>0;m=m*256+s[n+N],N+=R,T-=8);if(w===0)w=1-d;else{if(w===E)return m?NaN:(O?-1:1)*(1/0);m=m+Math.pow(2,v),w=w-d}return(O?-1:1)*m*Math.pow(2,w-v)},P.write=function(s,n,p,v,K,w){var m,_,E,d=w*8-K-1,T=(1<<d)-1,N=T>>1,R=K===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=v?0:w-1,A=v?1:-1,y=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(_=isNaN(n)?1:0,m=T):(m=Math.floor(Math.log(n)/Math.LN2),n*(E=Math.pow(2,-m))<1&&(m--,E*=2),m+N>=1?n+=R/E:n+=R*Math.pow(2,1-N),n*E>=2&&(m++,E/=2),m+N>=T?(_=0,m=T):m+N>=1?(_=(n*E-1)*Math.pow(2,K),m=m+N):(_=n*Math.pow(2,N-1)*Math.pow(2,K),m=0));K>=8;s[p+O]=_&255,O+=A,_/=256,K-=8);for(m=m<<K|_,d+=K;d>0;s[p+O]=m&255,O+=A,m/=256,d-=8);s[p+O-A]|=y*128}}]],S=[];function oe(P){var g=new Error("Cannot find module '"+P+"'");throw g.code="MODULE_NOT_FOUND",g}function Q(P){if(P>>>0!==P||P>e.length)return oe(P);for(;S.length<=P;)S.push(null);var g=S[P];if(g)return g.exports;var u=e[P],H=u[0],a=u[1],s=u[2],n,p=f,v=C;P!==0&&(p={},v={id:"/"+H+a,exports:p,parent:C.parent,filename:C.filename,loaded:!1,children:C.children,paths:C.paths}),S[P]=v;try{s.call(p,p,v,Fe,He,n)}catch(K){throw S[P]=null,K}return e[P]=null,P!==0&&(v.loaded=!0),v.exports}Q(0)}]],rn=[];function nn(f){var Le=new Error("Cannot find module '"+f+"'");throw Le.code="MODULE_NOT_FOUND",Le}function xr(f){nn(f)}xr.cache={__proto__:null},xr.extensions={__proto__:null},xr.main=null,xr.resolve=nn,xr.resolve.paths=nn;function ce(f,Le){if(f>>>0!==f||f>qn.length||Le!=null&&!Le.children)return nn(f);for(;rn.length<=f;)rn.push(null);var C=rn[f];if(C)return C.exports;var Fe=qn[f],He=Fe[0],Ve=Fe[1],e=Fe[2],S=Ve,oe=S.split("/").slice(0,-1).join("/")||"/",Q,P=xr,g={},u={id:"/"+He+Ve,exports:g,parent:Le,filename:S,loaded:!1,children:[],paths:["/"],require:P};Le&&Le.children.push(u),f===0&&(P.main=u),f===0&&(Vt.mainModule=u),rn[f]=u;try{e.call(g,g,P,u,S,oe,Q)}catch(H){throw rn[f]=null,H}return qn[f]=null,u.loaded=!0,u.exports}return function(){var f=ce(137,null);zn=f.setTimeout,jn=f.clearTimeout,an=f.setInterval,tn=f.clearInterval,f.setImmediate,f.clearImmediate}(),Vt=ce(138,null),_e=ce(139,null).Buffer,ce}(function(){return typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")()}());const Di=Ii(0,null);export{_i as _,Di as b};
